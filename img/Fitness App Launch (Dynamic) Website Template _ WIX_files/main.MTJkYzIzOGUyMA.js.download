!function(){"use strict";var t,e,r,n,o,i,a,c,u,s={},l={};function f(t){var e=l[t];if(void 0!==e)return e.exports;var r=l[t]={exports:{}};return s[t](r,r.exports,f),r.exports}f.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),f.rv=function(){return"1.0.14"},f.ruid="bundler=rspack@1.0.14";(t=a||(a={})).WINDOWS_PHONE="Windows Phone",t.ANDROID="android",t.IOS="ios",t.PC="pc",(e=c||(c={})).MUSICAL_LY="musical_ly",e.MUSICALLY_GO="musically_go",e.TRILL="trill",e.ULTRALITE="ultralite",e.LEMON8="lemon8",(i={})[c.LEMON8]={},i[c.MUSICAL_LY]=((n={})[a.IOS]="33.4.0",n[a.ANDROID]="23.1.0",n),i[c.TRILL]=((o={})[a.IOS]="33.4.0",o[a.ANDROID]="23.1.0",o);var p=function(){return"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==f.g?f.g:Function("return this")()},h=function(){return p().TiktokAnalyticsObject||"ttq"},y=function(){var t=p();return 0,t[h()]},_=function(t){try{var e=y()._plugins||{};if(null!=e[t])return!!e[t];return!0}catch(t){return!0}};function d(){d=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(e,r,n,i){var a=Object.create((r&&r.prototype instanceof v?r:v).prototype);return o(a,"_invoke",{value:function(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),_;var a=f(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,_;var c=a.arg;return c?c.done?(n[r.resultName]=c.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,_):c:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,_)}(c,n);if(u){if(u===_)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?y:"suspendedYield",s.arg===_)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}(e,n,new S(i||[]))}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="executing",y="completed",_={};function v(){}function g(){}function b(){}var m={};s(m,a,function(){return this});var w=Object.getPrototypeOf,O=w&&w(w(j([])));O&&O!==r&&n.call(O,a)&&(m=O);var E=b.prototype=v.prototype=Object.create(m);function I(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function T(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(l).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,c)})}c(u.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function j(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(typeof e+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},I(T.prototype),s(T.prototype,c,function(){return this}),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=j,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,_):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:j(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),_}},e}function v(t,e){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(g=function(){return!!t})()}var b={error:[]};(r=u||(u={})).LOAD_START="load_start",r.LOAD_END="load_end",r.BEFORE_INIT="before_init",r.INIT_START="init_start",r.INIT_END="init_end",r.JSB_INIT_START="jsb_init_start",r.JSB_INIT_END="jsb_init_end",r.BEFORE_AD_INFO_INIT_START="before_ad_info_init_start",r.AD_INFO_INIT_START="ad_info_init_start",r.AD_INFO_INIT_END="ad_info_init_end",r.IDENTIFY_INIT_START="identify_init_start",r.IDENTIFY_INIT_END="identify_init_end",r.PLUGIN_INIT_START="_init_start",r.PLUGIN_INIT_END="_init_end",r.PIXEL_SEND="pixel_send",r.PIXEL_SEND_PCM="pixel_send_PCM",r.JSB_SEND="jsb_send",r.HTTP_SEND="http_send",r.HANDLE_CACHE="handle_cache",r.INIT_ERROR="init_error",r.PIXEL_EMPTY="pixel_empty",r.JSB_ERROR="jsb_error",r.API_ERROR="api_error",r.PLUGIN_ERROR="plugin_error",r.CUSTOM_INFO="custom_info",r.CUSTOM_ERROR="custom_error",r.CUSTOM_TIMER="custom_timer";try{(function(){if(/function bind\(\) \{[\s\S]*\[native code\][\s\S]*\}/.test(Function.prototype.bind.toString()))return!0;function t(){}return new(t.bind.apply(t,[void 0,1])) instanceof t})()&&!Function.prototype._ttq_bind?Object.defineProperty(Function.prototype,"_ttq_bind",{value:Function.prototype.bind,enumerable:!1,writable:!1,configurable:!1}):Function.prototype._ttq_bind||Object.defineProperty(Function.prototype,"_ttq_bind",{value:function(t){if("function"!=typeof this)throw TypeError("What is being called by bind is not a function.");var e=t||window,r=Array.prototype.slice.call(arguments).slice(1),n=Symbol("key");return e[n]=this,function t(){return this instanceof t?function(t,e,r){if(g())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var o=new(t.bind.apply(t,n));return r&&v(o,r.prototype),o}(e[n],r.concat(Array.prototype.slice.call(arguments))):e[n].apply(e,r.concat(Array.prototype.slice.call(arguments)))}},enumerable:!1,writable:!1,configurable:!1}),!function(){if(!Object._ttq_keys)Object._ttq_keys=function(t){try{if(Array.isArray(t))return Object.keys(t).filter(function(t){return -1===["each","eachSlice","all","any","collect","detect","findAll","grep","include","inGroupsOf","inject","invoke","max","min","partition","pluck","reject","sortBy","toArray","zip","size","inspect","select","member","_reverse","_each","clear","first","last","compact","flatten","without","uniq","intersect","clone","toJSON","remove","swap","putAll"].indexOf(t)});return Object.keys(t)}catch(e){return Object.keys(t)}}}(),!function(){var t=h();function e(t){if(null===t)return"NULL";if(void 0===t)return"UNDEFINED";if("[object Object]"===Object.prototype.toString.call(t)||"[object Array]"===Object.prototype.toString.call(t))return JSON.stringify(t);return t.toString()}/function Map\(\) \{[\s\S]*\[native code\][\s\S]*\}/.test(Map.toString())?window[t]._ttq_map=Map:!window[t]._ttq_map&&(window[t]._ttq_map=function(){this.items={},this.size=0},window[t]._ttq_map.prototype.set=function(t,r){return!this.has(t)&&(this.items[e(t)]=r,this.size++),this},window[t]._ttq_map.prototype.get=function(t){return this.items[e(t)]},window[t]._ttq_map.prototype.has=function(t){return void 0!==this.items[e(t)]},window[t]._ttq_map.prototype.delete=function(t){return this.has(t)&&(delete this.items[e(t)],this.size--),this},window[t]._ttq_map.prototype.clear=function(){this.items={},this.size=0},window[t]._ttq_map.prototype.keys=function(){var t=d().mark(n),e=[];for(var r in this.items)this.has(r)&&e.push(r);function n(){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e,"t0",1);case 1:case"end":return t.stop()}},t)}return n()},window[t]._ttq_map.prototype.values=function(){var t=d().mark(n),e=[];for(var r in this.items)this.has(r)&&e.push(this.items[r]);function n(){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e,"t0",1);case 1:case"end":return t.stop()}},t)}return n()})}(),!function(){if(/function create\(\) \{[\s\S]*\[native code\][\s\S]*\}/.test(Map.toString())){Object._ttq_create=Object.create;return}Object._ttq_create=function(){function t(){}var e=Object.prototype.hasOwnProperty;return function(r,n){if("object"!=typeof r&&"function"!=typeof r)throw TypeError("Object prototype may only be an Object or null");t.prototype=r;var o=new t;return t.prototype=null,null!=n&&Object.keys(n).forEach(function(t){var r=n[t];if("object"==typeof r&&null!==r)e.call(r,"value")?o[t]=r.value:("function"==typeof r.get||"function"==typeof r.set)&&Object.defineProperty(o,t,r);else throw TypeError("Property description must be an object: "+r)}),o}}()}()}catch(t){!function(t,e,r,n){void 0===r&&(r={}),void 0===n&&(n=!1);try{var o=y(),i=o.getPlugin&&o.getPlugin("Monitor")||null;i&&i.error&&"function"==typeof i.error?i.error.call(i,t,e,r,n):_("Monitor")&&b.error.push({event:t,err:e,detail:r,withoutJSB:n})}catch(t){}}(u.INIT_ERROR,t)}}();!function(){var t={278:function(t,e,r){t=r.nmd(t);var n,o="__lodash_hash_undefined__",i="[object Arguments]",a="[object Boolean]",c="[object Date]",s="[object Function]",u="[object GeneratorFunction]",f="[object Map]",l="[object Number]",p="[object Object]",h="[object Promise]",d="[object RegExp]",v="[object Set]",_="[object String]",y="[object Symbol]",g="[object WeakMap]",m="[object ArrayBuffer]",w="[object DataView]",E="[object Float32Array]",b="[object Float64Array]",I="[object Int8Array]",O="[object Int16Array]",T="[object Int32Array]",N="[object Uint8Array]",R="[object Uint8ClampedArray]",S="[object Uint16Array]",P="[object Uint32Array]",A=/\w*$/,L=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,C={};C[i]=C["[object Array]"]=C[m]=C[w]=C[a]=C[c]=C[E]=C[b]=C[I]=C[O]=C[T]=C[f]=C[l]=C[p]=C[d]=C[v]=C[_]=C[y]=C[N]=C[R]=C[S]=C[P]=!0,C["[object Error]"]=C[s]=C[g]=!1;var k="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,D="object"==typeof self&&self&&self.Object===Object&&self,j=k||D||Function("return this")(),M=e&&!e.nodeType&&e,F=M&&t&&!t.nodeType&&t,q=F&&F.exports===M;function U(t,e){return t.set(e[0],e[1]),t}function G(t,e){return t.add(e),t}function H(t,e,r,n){var o=-1,i=t?t.length:0;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}function V(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function B(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function Y(t,e){return function(r){return t(e(r))}}function W(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var K=Array.prototype,J=Function.prototype,X=Object.prototype,Q=j["__core-js_shared__"];var Z=(n=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",z=J.toString,$=X.hasOwnProperty,tt=X.toString,te=RegExp("^"+z.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tr=q?j.Buffer:void 0,tn=j.Symbol,to=j.Uint8Array,ti=Y(Object.getPrototypeOf,Object),ta=Object.create,tc=X.propertyIsEnumerable,ts=K.splice,tu=Object.getOwnPropertySymbols,tf=tr?tr.isBuffer:void 0,tl=Y(Object.keys,Object),tp=tk(j,"DataView"),th=tk(j,"Map"),td=tk(j,"Promise"),tv=tk(j,"Set"),t_=tk(j,"WeakMap"),ty=tk(Object,"create"),tg=tF(tp),tm=tF(th),tw=tF(td),tE=tF(tv),tb=tF(t_),tI=tn?tn.prototype:void 0,tO=tI?tI.valueOf:void 0;function tT(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function tN(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}tT.prototype.clear=function(){this.__data__=ty?ty(null):{}},tT.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},tT.prototype.get=function(t){var e=this.__data__;if(ty){var r=e[t];return r===o?void 0:r}return $.call(e,t)?e[t]:void 0},tT.prototype.has=function(t){var e=this.__data__;return ty?void 0!==e[t]:$.call(e,t)},tT.prototype.set=function(t,e){return this.__data__[t]=ty&&void 0===e?o:e,this};function tR(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}tN.prototype.clear=function(){this.__data__=[]},tN.prototype.delete=function(t){var e=this.__data__,r=tA(e,t);return!(r<0)&&(r==e.length-1?e.pop():ts.call(e,r,1),!0)},tN.prototype.get=function(t){var e=this.__data__,r=tA(e,t);return r<0?void 0:e[r][1]},tN.prototype.has=function(t){return tA(this.__data__,t)>-1},tN.prototype.set=function(t,e){var r=this.__data__,n=tA(r,t);return n<0?r.push([t,e]):r[n][1]=e,this};function tS(t){this.__data__=new tN(t)}tR.prototype.clear=function(){this.__data__={hash:new tT,map:new(th||tN),string:new tT}},tR.prototype.delete=function(t){return tC(this,t).delete(t)},tR.prototype.get=function(t){return tC(this,t).get(t)},tR.prototype.has=function(t){return tC(this,t).has(t)},tR.prototype.set=function(t,e){return tC(this,t).set(t,e),this};tS.prototype.clear=function(){this.__data__=new tN},tS.prototype.delete=function(t){return this.__data__.delete(t)},tS.prototype.get=function(t){return this.__data__.get(t)},tS.prototype.has=function(t){return this.__data__.has(t)},tS.prototype.set=function(t,e){var r=this.__data__;if(r instanceof tN){var n=r.__data__;if(!th||n.length<199)return n.push([t,e]),this;r=this.__data__=new tR(n)}return r.set(t,e),this};function tP(t,e,r){var n=t[e];(!($.call(t,e)&&tq(n,r))||void 0===r&&!(e in t))&&(t[e]=r)}function tA(t,e){for(var r=t.length;r--;)if(tq(t[r][0],e))return r;return -1}function tL(t){var e=new t.constructor(t.byteLength);return new to(e).set(new to(t)),e}function tx(t,e,r,n){r||(r={});for(var o=-1,i=e.length;++o<i;){var a=e[o],c=n?n(r[a],t[a],a,r,t):void 0;tP(r,a,void 0===c?t[a]:c)}return r}function tC(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function tk(t,e){var r,n,o,i=(r=t,n=e,null==r?void 0:r[n]);return!(!tB(o=i)||function(t){return!!Z&&Z in t}(o))&&(tV(o)||V(o)?te:L).test(tF(o))?i:void 0}var tD=tu?Y(tu,Object):function(){return[]},tj=function(t){return tt.call(t)};(tp&&tj(new tp(new ArrayBuffer(1)))!=w||th&&tj(new th)!=f||td&&tj(td.resolve())!=h||tv&&tj(new tv)!=v||t_&&tj(new t_)!=g)&&(tj=function(t){var e=tt.call(t),r=e==p?t.constructor:void 0,n=r?tF(r):void 0;if(n)switch(n){case tg:return w;case tm:return f;case tw:return h;case tE:return v;case tb:return g}return e});function tM(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||X)}function tF(t){if(null!=t){try{return z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function tq(t,e){return t===e||t!=t&&e!=e}var tU=Array.isArray;function tG(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=0x1fffffffffffff}(t.length)&&!tV(t)}var tH=tf||function(){return!1};function tV(t){var e=tB(t)?tt.call(t):"";return e==s||e==u}function tB(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function tY(t){return tG(t)?function(t,e){var r=tU(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&tG(t)}(t)&&$.call(t,"callee")&&(!tc.call(t,"callee")||tt.call(t)==i)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var a in t)$.call(t,a)&&!(o&&("length"==a||function(t,e){return!!(e=null==e?0x1fffffffffffff:e)&&("number"==typeof t||x.test(t))&&t>-1&&t%1==0&&t<e}(a,n)))&&r.push(a);return r}(t):function(t){if(!tM(t))return tl(t);var e=[];for(var r in Object(t))$.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}t.exports=function(t){return function t(e,r,n,o,h,g,L){if(o&&(x=g?o(e,h,g,L):o(e)),void 0!==x)return x;if(!tB(e))return e;var x,k=tU(e);if(k){if(x=function(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&$.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(e),!r)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(e,x)}else{var D,j,M=tj(e),F=M==s||M==u;if(tH(e))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(e,r);if(M==p||M==i||F&&!g){if(V(e))return g?e:{};if(x=function(t){var e;return"function"!=typeof t.constructor||tM(t)?{}:tB(e=ti(t))?ta(e):{}}(F?{}:e),!r){;return function(t,e){return tx(t,tD(t),e)}(e,(D=x,j=e,D&&tx(j,tY(j),D)))}}else{if(!C[M])return g?e:{};x=function(t,e,r,n){var o,i,s,u,p,h,g,L,x,C,k,D,j,M=t.constructor;switch(e){case m:return tL(t);case a:case c:return new M(+t);case w:;return o=t,i=n?tL(o.buffer):o.buffer,new o.constructor(i,o.byteOffset,o.byteLength);case E:case b:case I:case O:case T:case N:case R:case S:case P:;return s=t,u=n?tL(s.buffer):s.buffer,new s.constructor(u,s.byteOffset,s.length);case f:;return p=t,h=n,g=r,H(h?g(B(p),!0):B(p),U,new p.constructor);case l:case _:return new M(t);case d:;return(x=new(L=t).constructor(L.source,A.exec(L))).lastIndex=L.lastIndex,x;case v:;return C=t,k=n,D=r,H(k?D(W(C),!0):W(C),G,new C.constructor);case y:;return j=t,tO?Object(tO.call(j)):{}}}(e,M,t,r)}}L||(L=new tS);var q=L.get(e);if(q)return q;if(L.set(e,x),!k)var Y=n?function(t){var e,r,n,o;return e=t,r=tY,n=tD,o=r(e),tU(e)?o:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(o,n(e))}(e):tY(e);return!function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););;}(Y||e,function(i,a){Y&&(i=e[a=i]),tP(x,a,t(i,r,n,o,a,e,L))}),x}(t,!0,!0)}},616:function(){}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n](i,i.exports,r),i.loaded=!0,i.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.nmd=function(t){return t.paths=[],!t.children&&(t.children=[]),t},r.rv=function(){return"1.0.14"},r.ruid="bundler=rspack@1.0.14",!function(){"use strict";var t,e,n="tt_adInfo",o="tt_appInfo",i="_tt_enable_cookie",a="_ttp",c="tt_sessionId",s="tt_pixel_session_index",u="ttcsid";(iV=aA||(aA={})).WINDOWS_PHONE="Windows Phone",iV.ANDROID="android",iV.IOS="ios",iV.PC="pc",(iB=aL||(aL={})).MUSICAL_LY="musical_ly",iB.MUSICALLY_GO="musically_go",iB.TRILL="trill",iB.ULTRALITE="ultralite",iB.LEMON8="lemon8";var f=((aP={})[aL.LEMON8]={},aP[aL.MUSICAL_LY]=((aR={})[aA.IOS]="33.4.0",aR[aA.ANDROID]="23.1.0",aR),aP[aL.TRILL]=((aS={})[aA.IOS]="33.4.0",aS[aA.ANDROID]="23.1.0",aS),aP),l={expires:390},p="ttoclid",h={"www.agoda.com":"tag"},d=null,v=function(t){d=t},_=function(){return"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==r.g?r.g:Function("return this")()},y=function(){return _().TiktokAnalyticsObject||"ttq"},g=function(){var t=_();return d||t[y()]},m=function(){var t=_();return void 0!==t.DedicatedWorkerGlobalScope?t instanceof t.DedicatedWorkerGlobalScope:"DedicatedWorkerGlobalScope"===t.constructor.name},w=function(){return!!g()._is_onsite},E=function(){var t=_();return("object"==typeof navigator&&navigator.userAgent?navigator.userAgent:"")||t._userAgent},b=function(t){try{var e=g();return e&&e._self_host_config&&e._self_host_config[t]||""}catch(t){return""}},I=function(t,e){void 0===e&&(e=[]);try{return e.includes(t)}catch(t){return!1}},O=function(t){var e=g(),r=e._i||{},n=t&&r[t];return t&&n&&n._partner?n._partner:e._partner?e._partner:""},T=function(t){var e=g(),r=e._i||{};return Object.keys(r).filter(function(e){return r[e]._partner===t}).length>0||e._partner===t},N=function(t){try{var e=g()._plugins||{};if(null!=e[t])return!!e[t];return!0}catch(t){return!0}},R=function(){var t;try{var e=g()._ppf;return null===(t=e.printAndClear)||void 0===t?void 0:t.call(e)}catch(t){}},S={info:[],error:[]};function P(t,e,r){void 0===e&&(e={}),void 0===r&&(r=!1);try{var n=g(),o=n.getPlugin&&n.getPlugin("Monitor")||null;o&&o.info&&"function"==typeof o.info?o.info.call(o,t,e,r):N("Monitor")&&S.info.push({event:t,detail:e,withoutJSB:r})}catch(t){}}function A(t,e,r,n){void 0===r&&(r={}),void 0===n&&(n=!1);try{var o=g(),i=o.getPlugin&&o.getPlugin("Monitor")||null;i&&i.error&&"function"==typeof i.error?i.error.call(i,t,e,r,n):N("Monitor")&&S.error.push({event:t,err:e,detail:r,withoutJSB:n})}catch(t){}}function L(t,e){try{var r=g(),n=r.getPlugin&&r.getPlugin("DiagnosticsConsole")||null;n&&n.warn.apply(n,[t,e])}catch(t){}}function x(){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var t={taskName:window.ttq._pf_tn,functionName:"getPixelDetail",start:performance.now()}}catch(t){}var e={lib:"ttq",pixelCode:"MOCK_SHOP_ID"};try{var r=document&&document.currentScript,n=r&&r.getAttribute("data-id")||"",o=y()||"ttq";e={pixelCode:n,lib:o}}catch(t){e={lib:"ttq",pixelCode:""}}try{window.ttq&&window.ttq._ppf&&(t.end=performance.now(),window.ttq._ppf.push(t))}catch(t){}return e}var C=function(){try{var t=g();if(!(t&&t._legacy&&0!==t._legacy.length))return!1;return Object.keys(t._t).length>Object.keys(t._legacy||[]).length||t.reporters.length>Object.keys(t._legacy||[]).length}catch(t){return!1}};(iY=ax||(ax={})).LOAD_START="load_start",iY.LOAD_END="load_end",iY.BEFORE_INIT="before_init",iY.INIT_START="init_start",iY.INIT_END="init_end",iY.JSB_INIT_START="jsb_init_start",iY.JSB_INIT_END="jsb_init_end",iY.BEFORE_AD_INFO_INIT_START="before_ad_info_init_start",iY.AD_INFO_INIT_START="ad_info_init_start",iY.AD_INFO_INIT_END="ad_info_init_end",iY.IDENTIFY_INIT_START="identify_init_start",iY.IDENTIFY_INIT_END="identify_init_end",iY.PLUGIN_INIT_START="_init_start",iY.PLUGIN_INIT_END="_init_end",iY.PIXEL_SEND="pixel_send",iY.PIXEL_SEND_PCM="pixel_send_PCM",iY.JSB_SEND="jsb_send",iY.HTTP_SEND="http_send",iY.HANDLE_CACHE="handle_cache",iY.INIT_ERROR="init_error",iY.PIXEL_EMPTY="pixel_empty",iY.JSB_ERROR="jsb_error",iY.API_ERROR="api_error",iY.PLUGIN_ERROR="plugin_error",iY.CUSTOM_INFO="custom_info",iY.CUSTOM_ERROR="custom_error",iY.CUSTOM_TIMER="custom_timer",(iW=aC||(aC={}))[iW.NOT_SURE=0]="NOT_SURE",iW[iW.INVOKE_METHOD_ENABLED=1]="INVOKE_METHOD_ENABLED",iW[iW.INVOKE_METHOD_NOT_ENABLED=2]="INVOKE_METHOD_NOT_ENABLED",(iK=ak||(ak={})).NORMAL="1",iK.NOT_CROSS_DOMAIN_IFRAME="2",iK.CROSS_DOMAIN_IFRAME="3",iK.WEB_WORKER="4",iK.SANDBOX_IFRAME="5",iK.GTM_IFRAME="6",iK.URL_IN_QUERY_IFRAME="7",iK.UNKNOWN_IFRAME="8";function k(t){var e=Error(t);return e.source="ulid",e}var D="0123456789ABCDEFGHJKMNPQRSTVWXYZ",j=D.length,M=0xffffffffffff;var F=(!iJ&&(iJ=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments[1];!e&&(e="undefined"!=typeof window?window:null);var n=e&&(e.crypto||e.msCrypto);if(n)return function(){var t=new Uint8Array(1);return n.getRandomValues(t),t[0]/255};try{var o=r(616);return function(){return o.randomBytes(1).readUInt8()/255}}catch(t){}if(t)return function(){return Math.random()};throw k("secure crypto unusable, insecure Math.random not allowed")}()),function(t){return isNaN(t)&&(t=Date.now()),function(t,e){if(isNaN(t))throw Error(t+" must be a number");if(t>M)throw k("cannot encode time greater than "+M);if(t<0)throw k("time must be positive");if(!1===Number.isInteger(t))throw k("time must be an integer");for(var r=void 0,n="";e>0;e--)r=t%j,n=D.charAt(r)+n,t=(t-r)/j;return n}(t,10)+function(t,e){for(var r="";t>0;t--)r=function(t){var e=Math.floor(t()*j);return e===j&&(e=j-1),D.charAt(e)}(e)+r;return r}(16,iJ)});(iX=aD||(aD={})).EMPTY_VALUE="empty_value",iX.WRONG_FORMAT="wrong_format",iX.CORRECT_FORMAT="correct_format",iX.HASHED="hashed",iX.HASHED_ERR="hashed_err",iX.HASHED_CORRECT="hashed_correct",iX.PLAINTEXT_EMAIL="plaintext_email",iX.PLAINTEXT_PHONE="plaintext_phone",(iQ=aj||(aj={})).EMPTY_VALUE="empty_value",iQ.PLAIN_EMAIL="plain_email",iQ.PLAIN_PHONE="plain_phone",iQ.HASHED="hashed",iQ.FILTER_EVENTS="filter_events",iQ.UNKNOWN_INVALID="unknown_invalid",iQ.BASE64_STRING_HASHED="base64_string_hashed",iQ.BASE64_HEX_HASHED="base64_hex_hashed",iQ.PLAIN_MDN_EMAIL="plain_mdn_email",iQ.ZIP_CODE_IS_NOT_HASHED="zip_code_is_not_hashed",iQ.ZIP_CODE_IS_NOT_US="zip_code_is_not_us",iQ.ZIP_CODE_IS_HASHED="zip_code_is_hashed",iQ.ZIP_CODE_IS_US="zip_code_is_us",(iZ=aM||(aM={})).Manual="manual",iZ.ManualV2="manual_v2",iZ.Auto="auto",iZ.EBManual="eb_manual",(iz=aF||(aF={})).empty="empty",iz.whitespace="whitespace",iz.hardcode="hardcode",iz.encode="encode",(i$=aq||(aq={})).letterCase="letter_case",i$.isNotValidEmail="is_not_valid_email",i$.isNotPossibleEmail="is_not_possible_email",i$.domainTypo="domain_typo",i$.addressFormat="address_format",(i0=aU||(aU={})).invalidCountry="invalid_country",i0.notANumber="not_a_number",i0.tooShort="too_short",i0.tooLong="too_long",i0.invalidLength="invalid_length",i0.emptyCountryCodeThroughIP="empty_country_code_through_ip",i0.invalidCountryAfterInjectPlus="invalid_country_after_inject_plus",i0.notANumberAfterInjectPlus="not_a_number_after_inject_plus",i0.tooShortAfterInjectPlus="too_short_after_inject_plus",i0.tooLongAfterInjectPlus="too_long_after_inject_plus",i0.invalidLengthAfterInjectPlus="invalid_length_after_inject_plus",i0.invalidCountryAfterInjectCountry="invalid_country_after_inject_country",i0.notANumberAfterInjectCountry="not_a_number_after_inject_country",i0.tooShortAfterInjectCountry="too_short_after_inject_country",i0.tooLongAfterInjectCountry="too_long_after_inject_country",i0.invalidLengthAfterInjectCountry="invalid_length_after_inject_country",(i1=aG||(aG={})).missing="missing",i1.valid="valid",i1.invalid="invalid";var q={raw_email:{label:aG.missing},raw_auto_email:{label:aG.missing},raw_phone:{label:aG.missing},raw_auto_phone:{label:aG.missing},hashed_email:{label:aG.missing},hashed_phone:{label:aG.missing},raw_eb_email:{label:aG.missing},raw_eb_phone:{label:aG.missing}};(i2=aH||(aH={}))[i2.UNKNOWN=0]="UNKNOWN",i2[i2.HOLD=1]="HOLD",i2[i2.REVOKE=2]="REVOKE",i2[i2.GRANT=3]="GRANT";var U=["phone_number","email","external_id"],G={EMAIL_IS_HASHED:"email_is_hashed",PHONE_IS_HASHED:"phone_is_hashed",SHA256_EMAIL:"sha256_email",SHA256_PHONE:"sha256_phone"},H="auto_trigger_type",V=function(t){return"[object Object]"===Object.prototype.toString.call(t)},B=function(t){return t+"-"+Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)},Y=function(t,e,r){return void 0===r&&(r="-"),""+t+r+e};function W(t,e){void 0===e&&(e=500);var r=-1;return function(){var n=Array.prototype.slice.apply(arguments);Date.now()-r>=e&&(t.apply(void 0,n),r=Date.now())}}var K=function(t){return/^(0|([1-9]\d*))$/.test(""+t)};function J(){J=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(e,r,n,i){var a=Object._ttq_create((r&&r.prototype instanceof _?r:_).prototype);return o(a,"_invoke",{value:function(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var a=l(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var c=a.arg;return c?c.done?(n[r.resultName]=c.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):c:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=l(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}(e,n,new R(i||[]))}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",h="executing",d="completed",v={};function _(){}function y(){}function g(){}var m={};u(m,a,function(){return this});var w=Object.getPrototypeOf,E=w&&w(w(S([])));E&&E!==r&&n.call(E,a)&&(m=E);var b=g.prototype=_.prototype=Object._ttq_create(m);function I(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,c)})}c(s.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(typeof e+" is not iterable")}return y.prototype=g,o(b,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object._ttq_create(b),t},e.awrap=function(t){return{__await:t}},I(O.prototype),u(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(b),u(b,s,"Generator"),u(b,a,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=S,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:S(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function X(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}var Q=function(t){return t},Z=function(t){},z=function(t){return!!t},$=function(t){return void 0!==t.metric_name},tt=function(t){return"CompletePayment"===t||"Purchase"===t},te=function(t){var e;return Object.keys((null===(e=null==t?void 0:t.context)||void 0===e?void 0:e.user)||{}).some(function(t){return -1!==U.indexOf(t)})};function tr(t,e){var r,n=t;return function(){if(n){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];r=t.apply(e,i),n=null}return r}}var tn=function(t){var e;return void 0===(e=t)&&(e=21),crypto.getRandomValues(new Uint8Array(e)).reduce(function(t,e){return(e&=63)<36?t+=e.toString(36):e<62?t+=(e-26).toString(36).toUpperCase():e>62?t+="-":t+="_",t},"")},to=function(){for(var t=F(Date.now());27!==t.length;)t.length>27?t=t.slice(0,27):t+="_";return t},ti=function(t,e){if(0===Object.keys(t).length)return{};var r={identity_params:{}},n={email:["email_is_hashed","sha256_email"],phone_number:["phone_is_hashed","sha256_phone"],zip_code:["zip_code"]};return Object.entries(e).forEach(function(e){var o=e[0];e[1]&&n[o]&&n[o].forEach(function(e){if(r.identity_params[e]=[aD.EMPTY_VALUE],t[e]){var n=t[e]||[aD.EMPTY_VALUE];r.identity_params&&(r.identity_params[e]=[].concat(n))}})}),r},ta=function(t,e){var r={identity_params:{}};return 0===Object.keys(t).length?{}:(Object.entries(e).forEach(function(e){var n=e[0];if(e[1]){if(t[n]&&t[n].length){var o=t[n]||[aD.EMPTY_VALUE];r.identity_params[n]=[].concat(o)}else r.identity_params[n]=[aD.EMPTY_VALUE]}}),r)};function tc(t,e){var r=Object.assign({},t);return e.forEach(function(t){null!==r[t]&&void 0!==r[t]&&delete r[t]}),r}var ts=function(t,e){if(!t)return{};var r={};return Object.keys(t).forEach(function(n){e[n]&&(r[n]=t[n])}),r};function tu(t,e,r){var n;return function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];clearTimeout(n),n=setTimeout(function(){t.apply(r,i)},e)}}function tf(t){return tl.apply(this,arguments)}function tl(){var t;return t=J().mark(function t(e){return J().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=500),t.abrupt("return",new Promise(function(t){setTimeout(function(){t(!0)},e)}));case 2:case"end":return t.stop()}},t)}),(tl=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){X(i,n,o,a,c,"next",t)}function c(t){X(i,n,o,a,c,"throw",t)}a(void 0)})}).apply(this,arguments)}var tp=["input[type='button']","input[type='image']","input[type='submit']","button","[class*=btn]","[class*=Btn]","[class*=button]","[class*=Button]","[role*=button]","[id*=btn]","[id*=Btn]","[id*=button]","[id*=Button]","a"],th=["[href^='tel:']","[href^='callto:']","[href^='sms:']","[href^='skype:']","[href^='whatsapp:']","[href^='mailto:']"],td=function(t){var e=tp.some(function(e){return t.matches(e)}),r=th.some(function(e){return t.matches(e)});return e&&!r};function tv(t,e){var r={};if(t){if("string"==typeof t||"number"==typeof t)r.external_id=t.toString();else V(t)&&(r=t)}return e&&V(e)&&Object.assign(r,e),r}var t_=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e,r={taskName:window.ttq._pf_tn,functionName:"getPixelScriptByPixelCode",start:performance.now()}}catch(t){}for(var n=Array.prototype.slice.call(document.getElementsByTagName("script")),o=0;o<n.length;o++){var i=n[o];if(i.innerHTML&&i.innerHTML.indexOf(t)>-1){e=i;break}}try{window.ttq&&window.ttq._ppf&&(r.end=performance.now(),window.ttq._ppf.push(r))}catch(t){}return e},ty=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e={taskName:window.ttq._pf_tn,functionName:"getPixelInstalledPosition",start:performance.now()}}catch(t){}var r="unknown";try{var n=t&&t_(t);n&&(tg(n)&&(r="isInHead"),tw(n)&&(r="isInBodyTop10"))}catch(t){}try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e))}catch(t){}return r},tg=function t(e){var r=e.parentElement;return!!r&&("HEAD"===r.tagName||t(r))},tm=function(t,e){for(var r,n=[document.body],o=0;o<=t&&n.length;){var i=n.pop();if(i===e)return!0;if((null==i?void 0:i.tagName.toLowerCase())==="script"&&(null===(r=i.src)||void 0===r?void 0:r.indexOf("analytics.tiktok.com"))>-1)continue;if(o++,"object"==typeof i&&!!i.children)for(var a=i.children.length-1;a>=0;a--)n.push(i.children[a])}return!1},tw=function(t){return tm(10,t)};(i3=aV||(aV={})).EXTERNAL="external",i3.APP="app",i3.TIKTOK="tiktok";var tE={ID:Symbol.for("ID"),Type:Symbol.for("type"),Partner:Symbol.for("partner"),Options:Symbol.for("Options"),Plugins:Symbol.for("Plugins"),Rules:Symbol.for("Rules"),Info:Symbol.for("Info"),ExtraParams:Symbol.for("extraParams"),WebLibraryInfo:Symbol.for("WebLibraryInfo"),SignalType:Symbol.for("SignalType"),IsOnsitePage:Symbol.for("IsOnsitePage")};(i6=aB||(aB={}))[i6.OFFSITE=0]="OFFSITE",i6[i6.ONSITE=1]="ONSITE";var tb=function(){var t,e;return(null===(e=null===(t=g())||void 0===t?void 0:t._env)||void 0===e?void 0:e.env)||aV.EXTERNAL},tI=function(){var t,e;return null!==(e=null===(t=g())||void 0===t?void 0:t._is_onsite)&&void 0!==e?e:aB.OFFSITE},tO=function(t){return(t||tb())!==aV.EXTERNAL},tT=function(t){return(t||tb())===aV.TIKTOK},tN=function(){var t=E();return/windows phone/i.test(t)?aA.WINDOWS_PHONE:/android/i.test(t)?aA.ANDROID:/iPad|iPhone|iPod/.test(t)?aA.IOS:aA.PC},tR=function(){try{return navigator.userAgentData.getHighEntropyValues(["model","platformVersion"])}catch(t){return Promise.resolve({})}},tS=function(){return"android"===tN()},tP=function(){return"ios"===tN()},tA=function(){return!1},tL=function(){return window.top!==window},tx=tr(function(){return/open_news/i.test(E())}),tC=tr(function(){return/ultralite/i.test(E())}),tk=function(){try{return window&&window.top&&window.top.location.href,!1}catch(t){return!0}},tD=function(){try{var t=new URL(decodeURIComponent(window.location.href)),e=/https?:\/\/[^\s/$.?#].[^\s]*/i;return e.test(t.search)||e.test(t.pathname)}catch(t){return!1}},tj=function(){try{if(!tk())return ak.NOT_CROSS_DOMAIN_IFRAME;if(tD())return ak.URL_IN_QUERY_IFRAME;if(window.google_tag_manager)return ak.GTM_IFRAME;if(window.name&&"web-pixel-sandbox"===window.name)return ak.SANDBOX_IFRAME;return ak.CROSS_DOMAIN_IFRAME}catch(t){return ak.UNKNOWN_IFRAME}},tM=function(){return m()?ak.WEB_WORKER:tL()?tj():ak.NORMAL},tF=function(){var t=E();if(!!t)for(var e=0,r=Object.values(aL);e<r.length;e++){var n=r[e];if(t.includes(n))return n}},tq=function(){var t=E();if(!!t){var e=t.match(/\bapp_version\/(\S*)/),r=e&&e[1]?e[1].match(/^\d+\.\d+\.\d+$/):void 0;return r?r[0]:void 0}},tU=function(){var t=E();if(!!t)for(var e=Object.keys(aL),r=0;r<e.length;r++){var n=RegExp("\\b"+aL[e[r]]+"_(\\S*)"),o=t.match(n),i=o&&o[1]?o[1].match(/^\d+\.\d+\.\d+$/):void 0;if(i)return i[0]}},tG=function(){var t=tF(),e=tN(),r=tP()?tU():tS()?tq():null;if(!r||!t||!f[t])return!1;var n=f[t];return!n[e]||tH(n[e],r)},tH=function(t,e){for(var r=t.split("."),n=e.split("."),o=0;o<Math.max(r.length,n.length);o++){var i=parseInt(r[o])||Number.MAX_VALUE,a=parseInt(n[o])||-1;if(i<a)break;if(i>a)return!1}return!0},tV=function(t){var e=tF();return void 0!==e&&t.has(e)},tB=function(){var t=_();try{return!!(t.Shopify&&t.Shopify.shop&&t.Shopify.shop.indexOf(".myshopify.com")>0||t.name&&t.name.startsWith("web-pixel-sandbox-CUSTOM-shopify"))}catch(t){}return!1},tY=function(){var t=g();return"object"==typeof t&&t._i?t._i:{}},tW=function(t,e){var r=tY()||{};Object.keys(r).forEach(function(n){var o=r[n];if(!o._init)o.push([t].concat(e))})},tK=function(t,e,r){var n=(tY()||{})[t];if(n){if(n._init)return;n.push([e].concat(r))}};(i5=aY||(aY={})).PIXEL_CODE="pixelCode",i5.EVENT_SOURCE_ID="eventSourceId",i5.SHOP_ID="shopId";var tJ={TTQ:Symbol.for("TTQ"),GLOBAL_TTQ:Symbol.for("GLOBAL_TTQ"),SHOPIFY_TTQ:Symbol.for("SHOPIFY_TTQ"),ENV:Symbol.for("ENV"),CONTEXT:Symbol.for("CONTEXT"),REPORTER:Symbol.for("REPORTER"),REPORTERS:Symbol.for("REPORTERS"),PLUGIN:Symbol.for("PLUGIN"),PLUGINS:Symbol.for("PLUGINS"),TTQ_GLOBAL_OPTIONS:Symbol.for("TTQ_GLOBAL_OPTIONS"),PERFORMANCE_PLUGIN:Symbol.for("PERFORMANCE_PLUGIN"),INTERACTION_PLUGIN:Symbol.for("INTERACTION_PLUGIN"),INTERACTION_PLUGIN_MONITOR:Symbol.for("INTERACTION_PLUGIN_MONITOR"),PERFORMANCE_PLUGIN_MONITOR:Symbol.for("PERFORMANCE_PLUGIN_MONITOR"),ADVANCED_MATCHING_PLUGIN:Symbol.for("ADVANCED_MATCHING_PLUGIN"),AUTO_ADVANCED_MATCHING_PLUGIN:Symbol.for("AUTO_ADVANCED_MATCHING_PLUGIN"),CALLBACK_PLUGIN:Symbol.for("CALLBACK_PLUGIN"),IDENTIFY_PLUGIN:Symbol.for("IDENTIFY_PLUGIN"),MONITOR_PLUGIN:Symbol.for("MONITOR_PLUGIN"),WEB_FL_PLUGIN:Symbol.for("WEB_FL_PLUGIN"),SHOPIFY_PLUGIN:Symbol.for("SHOPIFY_PLUGIN"),AUTO_CONFIG_PLUGIN:Symbol.for("AUTO_CONFIG_PLUGIN"),DIAGNOSTICS_CONSOLE_PLUGIN:Symbol.for("DIAGNOSTICS_CONSOLE_PLUGIN"),COMPETITOR_INSIGHT_PLUGIN:Symbol.for("COMPETITOR_INSIGHT_PLUGIN"),PANGLE_COOKIE_MATCHING_PLUGIN:Symbol.for("PANGLE_COOKIE_MATCHING_PLUGIN"),EVENT_BUILDER_PLUGIN:Symbol.for("EVENT_BUILDER_PLUGIN"),ENRICH_IPV6_PLUGIN:Symbol.for("ENRICH_IPV6_PLUGIN"),RUNTIME_MEASUREMENT_PLUGIN:Symbol.for("RUNTIME_MEASUREMENT_PLUGIN"),PAGE_PERFORMANCE_MONITOR:Symbol.for("PAGE_PERFORMANCE_MONITOR"),PAGE_INTERACTION_MONITOR:Symbol.for("PAGE_INTERACTION_MONITOR"),PAGEDATA_PLUGIN:Symbol.for("PAGEDATA_PLUGIN"),HISTORY_OBSERVER:Symbol.for("HISTORY_OBSERVER"),BATCH_SERVICE:Symbol.for("BATCH_SERVICE"),REPORT_SERVICE:Symbol.for("REPORT_SERVICE"),AD_SERVICE:Symbol.for("AD_SERVICE"),APP_SERVICE:Symbol.for("APP_SERVICE"),BRIDGE_SERVICE:Symbol.for("BRIDGE"),HTTP_SERVICE:Symbol.for("HTTP_SERVICE"),COOKIE_SERVICE:Symbol.for("COOKIE_SERVICE"),CONSENT_SERVICE:Symbol.for("CONSENT_SERVICE"),JS_BRIDGE:Symbol.for("JS_BRIDGE"),TTQ_REPORTERS:Symbol.for("TTQ_REPORTERS"),INTERACTION_MONITOR:Symbol.for("INTERACTION_MONITOR"),PERFORMANCE_MONITOR:Symbol.for("PERFORMANCE_MONITOR"),SANDBOX_PIXEL_API:Symbol("SANDBOX_PIXEL_API")};(i8=aW||(aW={})).INIT_START="initStart",i8.INIT_END="initEnd",i8.CONTEXT_INIT_START="contextInitStart",i8.CONTEXT_INIT_END="contextInitEnd",i8.PAGE_URL_WILL_CHANGE="pageUrlWillChange",i8.PAGE_URL_DID_CHANGE="pageUrlDidChange",i8.PAGE_DID_LOAD="pageDidLoad",i8.PAGE_WILL_LEAVE="pageWillLeave",i8.AD_INFO_INIT_START="adInfoInitStart",i8.AD_INFO_INIT_END="adInfoInitEnd",i8.BEFORE_AD_INFO_INIT_START="beforeAdInfoInitStart",i8.PIXEL_SEND="pixelSend",i8.PIXEL_DID_MOUNT="pixelDidMount",(i4=aK||(aK={})).UNKNOWN="-1",i4.LOADING="0",i4.INTERACTIVE="1",i4.COMPLETE="2",(i9=aJ||(aJ={})).HISTORY_CHANGE="hc",i9.URL_CHANGE="uc";var tX=["page","track","identify"],tQ=["holdConsent","revokeConsent","grantConsent"],tZ=["identify"],tz=["instance","instances","loadPixel","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"];(i7=aX||(aX={})).EMPTY_EVENT_TYPE_NAME="EMPTY_EVENT_TYPE_NAME",i7.MISMATCHED_EVENT_TYPE_NAME_FOR_CUSTOM_EVENT="MISMATCHED_EVENT_TYPE_NAME_FOR_CUSTOM_EVENT",i7.LONG_EVENT_TYPE_NAME="LONG_EVENT_TYPE_NAME",i7.MISSING_VALUE_PARAMETER="MISSING_VALUE_PARAMETER",i7.MISSING_CURRENCY_PARAMETER="MISSING_CURRENCY_PARAMETER",i7.MISSING_CONTENT_ID="MISSING_CONTENT_ID",i7.MISSING_EMAIL_AND_PHONE="MISSING_EMAIL_AND_PHONE",i7.INVALID_EVENT_PARAMETER_VALUE="INVALID_EVENT_PARAMETER_VALUE",i7.INVALID_CURRENCY_CODE="INVALID_CURRENCY_CODE",i7.INVALID_CONTENT_ID="INVALID_CONTENT_ID",i7.INVALID_CONTENT_TYPE="INVALID_CONTENT_TYPE",i7.INVALID_EMAIL_FORMAT="INVALID_EMAIL_FORMAT",i7.INVALID_PHONE_NUMBER_FORMAT="INVALID_PHONE_NUMBER_FORMAT",i7.INVALID_EMAIL_INFORMATION="INVALID_EMAIL_INFORMATION",i7.INVALID_PHONE_NUMBER_INFORMATION="INVALID_PHONE_NUMBER_INFORMATION",i7.DUPLICATE_PIXEL_CODE="DUPLICATE_PIXEL_CODE",i7.MISSING_PIXEL_CODE="MISSING_PIXEL_CODE",i7.INVALID_PIXEL_CODE="INVALID_PIXEL_CODE";var t$=function(t,e,r){t.isBound(e)?t.rebind(e).toConstantValue(r):t.bind(e).toConstantValue(r)},t0=function(){var t=g();return t&&t._i||{}},t1=function(t,e,r){void 0===r&&(r=aB.OFFSITE);try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var n={taskName:window.ttq._pf_tn,functionName:"webTtqFactory",start:performance.now()}}catch(t){}t$(t,tJ.ENV,e),t$(t,tE.SignalType,r);var o=t.get(tJ.TTQ);try{window.ttq&&window.ttq._ppf&&(n.end=performance.now(),window.ttq._ppf.push(n))}catch(t){}return o},t2=function(t,e){var r,n=e.id,o=e.type,i=void 0===o?aY.PIXEL_CODE:o,a=e.info,c=e.options,s=e.plugins,u=void 0===s?{}:s,f=e.rules;try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var l={taskName:window.ttq._pf_tn,functionName:"webReporterFactory",start:performance.now()}}catch(t){}var p=t.get(tJ.TTQ),h=t.get(tJ.TTQ_REPORTERS);if(!h.some(function(t){return t.getReporterId()===n})){t$(t,tE.ID,n),t$(t,tE.Type,i),t$(t,tE.Info,a||((r={})[i]=n,r)),t$(t,tE.Options,void 0===c?{}:c),t$(t,tE.Plugins,u),t$(t,tE.Rules,void 0===f?[]:f),p.enableFirstPartyCookie((null==a?void 0:a.firstPartyCookieEnabled)||!1);var d=t.get(tJ.REPORTER);if(u){var v=u.AdvancedMatching,_=u.AutoAdvancedMatching,y={};v&&Object.assign(y,v),_&&Object.assign(y,_),d.setAdvancedMatchingAvailableProperties(y)}d.on("beforeReport",function(t,e,r,n,o){p.dispatch(aW.PIXEL_SEND,t,e,r,n,o)}),h.push(d),t.rebind(tJ.TTQ_REPORTERS).toConstantValue(h),p.dispatch(aW.PIXEL_DID_MOUNT,d);try{window.ttq&&window.ttq._ppf&&(l.end=performance.now(),window.ttq._ppf.push(l))}catch(t){}return d}},t3=function(t,e){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var r={taskName:window.ttq._pf_tn,functionName:"mergeWebGlobalTtq",start:performance.now()}}catch(t){}["getReporter","usePlugin","getPlugin","resetCookieExpires"].forEach(function(r){t[r]=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return e[r].apply(e,n)}}),t.context=e.context,t.reporters=e.reporters;try{window.ttq&&window.ttq._ppf&&(r.end=performance.now(),window.ttq._ppf.push(r))}catch(t){}return t},t6=function(t,e){var r=t||{},n=r._partner,o=r._ttp,i=r._self_host_config,a=r._usd_exchange_rate,c=r._legacy;return Object.assign(e,{partner:n,ttp:o,cc:r._cc,self_host_config:i,usd_exchange_rate:a,legacy:c,variation_id:r._variation_id,vids:r._vids,server_unqiue_id:r._server_unique_id,currency_list:r._currency_list,plugins:r._plugins,aam:r._aam,auto_config:r._auto_config,cde:r._cde,cookieBasedSessionConfig:r._csid_config}),e},t5=function(t,e){var r=t.get(tJ.TTQ_GLOBAL_OPTIONS)||{};t6(e,r),t.isBound(tJ.TTQ_GLOBAL_OPTIONS)?t.rebind(tJ.TTQ_GLOBAL_OPTIONS).toConstantValue(r):t.bind(tJ.TTQ_GLOBAL_OPTIONS).toConstantValue(r)},t8=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e={taskName:window.ttq._pf_tn,functionName:"freezeAPI",start:performance.now()}}catch(t){}var r=_(),n=y(),o=g(),i=x().pixelCode,a=void 0===i?"":i;tz.forEach(function(e){Object.defineProperty(o,e,{get:function(){return function(){try{var r=Array.prototype.slice.call(arguments);return tQ.indexOf(e)>-1&&setTimeout(function(){P(ax.CUSTOM_INFO,{pixelCode:a,custom_name:e})}),t[e].apply(t,r)}catch(t){return A(ax.API_ERROR,t,{extJSON:{api:e}}),{}}}},set:function(){}})}),tX.forEach(function(e){Object.defineProperty(o,e,{get:function(){return function(){try{var r=1==arguments.length&&void 0===arguments[0]?[]:Array.prototype.slice.call(arguments);return tW(e,r),t[e].apply(t,r)}catch(t){return A(ax.API_ERROR,t,{extJSON:{api:e}}),{}}}},set:function(){}})}),r[n]._mounted=!0,r[n].initialize=!0,v(r[n]);try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e))}catch(t){}},t4=function(t,e,r){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var n={taskName:window.ttq._pf_tn,functionName:"handleCache",start:performance.now()}}catch(t){}t9(e),Object.entries(t0()).forEach(function(n){var o=n[0],i=n[1];if(!i._init&&("Tealium"===O(o)||!!w()||!!i.info)){if(e.getReporter(o)?L(aX.DUPLICATE_PIXEL_CODE):(r||t2)(t,{id:o,type:aY.PIXEL_CODE,info:i.info,options:i.options,rules:i.rules,plugins:i.plugins}),i._init=!0,i.length>0)for(;i.length;){var a=i.shift();if(!a)continue;var c=a[0],s=a.slice(1),u=e.instance(o);if(!!u)switch(c){case"identify":e.identify(s[0],s[1]);break;case"page":e.page(s[0]);break;case"track":u.track(s[0],s[1],s[2]||{});break;default:u[c]?u[c](s[0],s[1],s[2]||{}):A(ax.CUSTOM_ERROR,Error("action not find: "+u[c]))}}}}),t7(e);try{window.ttq&&window.ttq._ppf&&(n.end=performance.now(),window.ttq._ppf.push(n))}catch(t){}},t9=function(t){try{var e=g();[].concat(tQ,tZ).forEach(function(r){e.find(function(n,o){var i=n[0],a=n.slice(1);if(i===r)return t[r].apply(t,a),e.splice(o,1),!0})})}catch(t){A(ax.API_ERROR,t,{extJSON:{api:"handleP0APICache"}})}},t7=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e={taskName:window.ttq._pf_tn,functionName:"handleGlobalCache",start:performance.now()}}catch(t){}var r=g();if(r.length>0)for(;r.length;){var n=r.shift();if(!!n){var o=n[0],i=n.slice(1);switch(!T("Tealium")&&tW(o,i),o){case"identify":t.identify(i[0],i[1]);break;case"page":t.page(i[0]);break;case"track":t.track(i[0],i[1],i[2]||{});break;case"enableCookie":t.enableCookie();break;case"disableCookie":t.disableCookie();break;case"holdConsent":t.holdConsent();break;case"revokeConsent":t.revokeConsent();break;case"grantConsent":t.grantConsent()}}}try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e))}catch(t){}};function et(t,e){return(et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ee=function(){return!!t})()}var er="_ttq_inject",en=function(){function t(){this.bindings={},this.rebind=this.bind}var e=t.prototype;return e.bind=function(t){var e=this;return{to:function(r){return e.bindings[t.toString()]={constructor:r,singleton:!1},e},toConstantValue:function(r){return e.bindings[t.toString()]={value:r,singleton:!0},e}}},e.isBound=function(t){return!!this.bindings[t.toString()]},e.inSingletonScope=function(){var t=Object.keys(this.bindings),e=t[t.length-1];if(e){var r=this.bindings[e];r&&(this.bindings[e]=Object.assign(Object.assign({},r),{singleton:!0}))}return this},e.get=function(t){var e=this.bindings[t.toString()];if(!e)throw Error("No binding found for identifier: "+String(t));return void 0!==e.value?e.value:e.singleton?(!e.instance&&(e.instance=this.createInstance(e.constructor)),e.instance):this.createInstance(e.constructor)},e.createInstance=function(t){var e=this;if(!t)throw Error("Cannot create instance because constructor is not defined.");var r=(t[er]||[]).map(function(t){try{return e.get(t.identifier)}catch(e){if(t.optional)return;throw e}});return function(t,e,r){if(ee())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var o=new(t.bind.apply(t,n));return r&&et(o,r.prototype),o}(t,r)},t}();function eo(){return function(t){}}function ei(t){return function(e,r,n){e[er]=e[er]||[],e[er][n]=Object.assign({},e[er][n],{identifier:t})}}function ea(){return function(t,e,r){t[er]=t[er]||[],t[er][r]=Object.assign({},t[er][r],{optional:!0})}}function ec(t,e){try{var r=new URL(t).searchParams.getAll(e);return r[r.length-1]||""}catch(t){return""}}(at=aQ||(aQ={})).BIND="bind",at.REBIND="rebind";var es=function(t,e,r){try{var n=ec(e,t);if(n)return n;return ec(r||"",t)}catch(t){}return""},eu=function(){if(!tL())return{url:window.location.href,referrer:document.referrer};if(!tk())return{url:(null===(t=null==window?void 0:window.top)||void 0===t?void 0:t.location.href)||"",referrer:(null===(e=null==window?void 0:window.top)||void 0===e?void 0:e.document.referrer)||""};var t,e,r=window.location.href,n=document.referrer;if(/doubleclick\.net/.test(window.location.hostname)){var o=window.location.pathname,i={};return o.split(";").forEach(function(t){var e=t.split("="),r=e[0],n=e[1];i[r]=decodeURIComponent(n)}),{url:i["~oref"]||r,referrer:document.referrer}}return{url:r,referrer:n}},ef=function(t){var e=eu().url;try{return new URL(t||e)}catch(t){}return null},el=function(t){try{var e=window.sessionStorage.getItem(t);if(!e)return null;return JSON.parse(e)}catch(t){return null}},ep=function(t){try{window.sessionStorage.removeItem(t)}catch(t){}},eh=function(t,e){try{var r=JSON.stringify(e);window.sessionStorage.setItem(t,r)}catch(t){}},ed="https://analytics.tiktok.com/api/v2",ev=ed+"/pixel",e_=ed+"/performance",ey=ed+"/interaction",eg=ed+"/performance_interaction",em=ed+"/pixel/perf",ew=ed+"/pixel/inter",eE=ed+"/pixel/act",eb=ed+"/monitor",eI="https://analytics-ipv6.tiktokw.us/ipv6/enrich_ipv6",eO="ttclid",eT="_toutiao_params",eN=function(t,e){try{var r=es(eO,t,e)||void 0,n=es("ext_params",t,e)||void 0,o=es(eT,t,e)||void 0,i=parseInt(es("ttuts",t,e),10)||void 0,a=o?JSON.parse(o):{},c=a.log_extra,s=void 0===c?void 0:c,u=a.idc,f=void 0===u?void 0:u,l=a.cid,p=void 0===l?void 0:l;return{callback:r,ext_params:n,log_extra:s,creative_id:p,idc:f,ttuts:i,ad_info_from:(s||f||p)&&"url"}}catch(t){return{}}},eR=function(t,e){try{var r=t.log_extra,n=t.ttuts;if(!tP())return!0;if(!tT(e)){if(null!=n)return 1!==n;return!0}if(r){var o=JSON.parse(r);return 1!==o.user_tracking_status}if(null===t.ATTStatus||void 0===t.ATTStatus)return!0;return 3===t.ATTStatus}catch(t){return!1}},eS=function(t,e){var r={};try{var n=t.creative_id,o=t.callback,i=t.idc,a=t.convert_id,c=t.ad_info_from,s=t.ad_info_status,u=t.log_extra,f=t.ext_params,l=t.ATTStatus;if(n&&(r.creative_id=n),i&&(r.idc=i),a&&(r.convert_id=a),c&&(r.ad_info_from=c),s&&(r.ad_info_status=s),f&&(r.ext_params=f),l&&(r.ATTStatus=l),u){var p=JSON.parse(u),h=p.ad_user_agent,d=p.ad_id,v=p.rit,_=p.ocbs,y=p.vid,g=p.idc,m=p.country_id;d&&(r.ad_id=d),v&&(r.rit=v),h&&(r.ad_user_agent=h),_&&(r.ocbs=_),y&&(r.vid=y),g&&(r.idc=g),m&&(r.country_id=m)}return r}catch(t){return e&&e(t),r}},eP=function(t){void 0===t&&(t={});var e=Object.assign({},{path:"/"},t);"number"==typeof e.expires&&(e.expires=new Date(Date.now()+864e5*e.expires)),e.expires instanceof Date&&(e.expires=e.expires.toUTCString());var r="";for(var n in e){if(!e[n])continue;if(r+="; "+n,!0!==e[n])r+="="+e[n].split(";")[0]}return r},eA=function(t,e,r,n){void 0===r&&(r="/"),void 0===n&&(n=new Date(Date.now()+864e5).toUTCString()),ej(t,e,{path:r,expires:n})},eL=function(t){return t&&t.cde?Object.assign({},l,{expires:t.cde}):l},ex=0,eC=0,ek=function(t){var e={};return document.cookie.split(";").forEach(function(t){var r=t.split("=");e[r[0].trim()]=r.slice(1).join("=")}),e[t]||""},eD=function(t){if(0===document.cookie.length)return"";var e=ek(t);return e?unescape(e):""},ej=function(t,e,r){try{if(r){var n=window.location.hostname.split(".");if(eC=n.length,(ex=eq())&&ex<eC){r.domain="."+n.slice(eC-ex-1).join("."),eU(t,e,r);return}for(var o="",i=0;i<eC&&(o="."+n[eC-i-1]+o,r.domain=o,ex=i,!eU(t,e,r));i++);}else document.cookie=t+"="+e+eP(r)}catch(t){A(ax.API_ERROR,t,{extJSON:{position:"setCookieToHighestDomain"}})}},eM=function(t){var e=t.index,r=t.main;sessionStorage.setItem(s,JSON.stringify({index:e,main:r}))},eF=function(t){var e=t.split(".");return e.length>=3&&e.includes("tt")&&!isNaN(Number(e[2]))&&Number(e[2])>0},eq=function(){if(ex)return ex;var t=eD(a);return t&&eF(t)?Number(t.split(".")[2]):0},eU=function(t,e,r){if(t===a&&!eF(e)){var n;e=(n=e)?n.split(".")[0]+".tt."+(tB()?0:eq()):""}return document.cookie=t+"="+e+eP(r),e===eD(t)},eG=function(t,e,r){void 0===t&&(t=""),void 0===e&&(e="");try{var n=es("tt_test_id",t,r);return n&&n!==e&&eA("tt_test_id",n,void 0,"session"),n||e}catch(t){return""}},eH=function(t,e){var r;return!!((null===(r=null==e?void 0:e.cookieBasedSessionConfig)||void 0===r?void 0:r.enable)&&t.firstPartyCookieEnabled)},eV=function(){var t=new Date().getTime();return{sessionId:t.toString()+"::"+tn(20),sessionCount:1,lastEventTS:t,isSessionStart:!0}},eB=function(t){var e={};return t.split("; ").forEach(function(t){var r=t.split("="),n=r[0],o=r[1];if(n.startsWith(u)){var i=n.replace(u,"").replace("_",""),a=o.split("."),c=a[0],s=a[1],f=a[2];c&&K(s)&&K(f)&&(e[i]={sessionId:c,sessionCount:Number(s),lastEventTS:Number(f)})}}),e},eY=function(t){var e=t.sessionCount,r=t.lastEventTS,n=new Date().getTime();return n-r>18e5?{sessionId:n.toString()+"::"+tn(20),sessionCount:e+1,lastEventTS:n,isSessionStart:!0}:Object.assign(Object.assign({},t),{lastEventTS:n,isSessionStart:!1})},eW=function(t,e,r){var n=t.sessionId,o=t.sessionCount,i=t.isSessionStart;return Object.assign({csid:n,page_csid:e.sessionId,csct:o},i?{css:1}:{},r?{pixel_code:r}:{})},eK=function(){function t(t){this.pixelCode="",this.loaded=!1,this.status=1,this.name="",this.advertiserID="",this.setupMode=0,this.partner="",this.reporterInfo={},this.plugins={},this.options={},this.rules=[],this.pixelCode=t}var e=t.prototype;return e.getParameterInfo=function(){return Promise.resolve({pixelCode:this.pixelCode,name:this.name,status:this.status,setupMode:this.setupMode,advertiserID:this.advertiserID,partner:this.partner,is_onsite:!1,advancedMatchingAvailableProperties:{}})},e.getReporterId=function(){return""},e.getReporterUniqueLoadId=function(){return""},e.getReporterPartner=function(){},e.getReporterInfo=function(){return{reporter:{}}},e.getReportResultSet=function(){return[]},e.isOnsite=function(){return!1},e.isPartnerReporter=function(){return!1},e.setAdvancedMatchingAvailableProperties=function(t){},e.clearHistory=function(){},e.page=function(t){},e.track=function(t,e,r){return Promise.resolve(null)},e.getUserInfo=function(t){return{}},e.getReporterMatchedUserFormatInfo=function(){return{}},e.getReporterMatchedUserFormatInfoV2=function(){return{}},e.assemblyData=function(){return{event:"",message_id:"",event_id:"",is_onsite:!1,properties:{},context:{ad:{},device:{},library:{name:"",version:""},page:{url:""},pageview_id:"",session_id:"",variation_id:"",user:{}},partner:"",timestamp:""}},e.assemblySelfHostData=function(){return this.assemblyData()},e.trackSync=function(){},e.getReportEventHistoryKey=function(t){return"tiktok"},e.hasReportEventHistory=function(t,e){return!1},e.getCookieBasedSession=function(){return eV()},e.setCookieBasedSession=function(t){},t}();new eK("empty");var eJ=function(){function t(t,e){this.initialize=!1,this.plugins=[],this.observers=[],this.reporters=[],this.context=t,this.reportService=e}var e=t.prototype;return e.init=function(t,e){this.initContextInfo(t,e),this.initialize=!0},e.initContextInfo=function(t,e){var r=this;this.dispatch(aW.CONTEXT_INIT_START),this.initAdInfo(t,e),this.initAppInfo(t,e),this.initLocalServiceInfo(),this.reportService.pushPreposition(Promise.resolve().then(function(){return r.initUserInfo()})),this.initTestId(t,e),this.dispatch(aW.CONTEXT_INIT_END)},e.setPageIndex=function(t){},e.setPageInfo=function(t,e){var r=this.context.getPageInfo().url;if(r!==t){this.dispatch(aW.PAGE_URL_WILL_CHANGE,e||r,t);var n=this.context.setPageInfo(t,e||r);(null==n?void 0:n.pageIndex)&&this.setPageIndex(n.pageIndex),this.dispatch(aW.PAGE_URL_DID_CHANGE,t,r)}},e.initAdInfo=function(t,e){},e.initOffsiteAdInfo=function(t){},e.initAppInfo=function(t,e){},e.initUserInfo=function(){},e.initTestId=function(t,e){},e.usePlugin=function(t){try{if(!this.plugins.find(function(e){return e.name===t.name})){this.plugins.push(t);var e=t.name;e&&(this[e[0].toLowerCase()+e.slice(1)+"Plugin"]=t)}}catch(t){}},e.useObserver=function(t){try{if(!this.observers.find(function(e){return e.name===t.name})){this.observers.push(t);var e=t.name;e&&(this[""+(e[0].toLowerCase()+e.slice(1))]=t)}}catch(t){}},e.getPlugin=function(t){return this.plugins.find(function(e){return e.name===t})||null},e.getReporter=function(t){return this.reporters.find(function(e){return e.getReporterId()===t})},e.instance=function(t){var e=this.getReporter(t);return e?e:(A(ax.PIXEL_EMPTY,Error(""),{pixelCode:t}),new eK(t))},e.instances=function(){return this.reporters},e.identify=function(t,e){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var r={taskName:window.ttq._pf_tn||"identify_api_handler",functionName:window.ttq._pf_tn&&"identify_api_handler",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="identify_api_handler")}}catch(t){}var n=tv(t,e);this.context.setUserInfo(n);try{window.ttq&&window.ttq._ppf&&(r.end=performance.now(),window.ttq._ppf.push(r),"identify_api_handler"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}},e.page=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var e={taskName:window.ttq._pf_tn||"page_api_handler",functionName:window.ttq._pf_tn&&"page_api_handler",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="page_api_handler")}}catch(t){}t.url!==this.context.getPageInfo().url&&(this.setPageInfo(t.url,t.referrer),this.reporters.forEach(function(t){t.clearHistory()}));var r=Object.assign({},t);delete r.url,delete r.referrer,this.reporters.forEach(function(t){t.page(r)});try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e),"page_api_handler"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}},e.isOnsitePage=function(){return this.context.getSignalType()===aB.ONSITE||this.reporters.every(function(t){return t.isOnsite()})},e.track=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r={});try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var n={taskName:window.ttq._pf_tn||"track_api_handler",functionName:window.ttq._pf_tn&&"track_api_handler",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="track_api_handler")}}catch(t){}this.instances().forEach(function(n,o){n.track(t,e,Object.assign({_i:o},r))});try{window.ttq&&window.ttq._ppf&&(n.end=performance.now(),window.ttq._ppf.push(n),"track_api_handler"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}},e.dispatch=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];this.plugins.concat(this.observers).forEach(function(e){if("function"==typeof e[t])try{e[t].apply(e,r)}catch(n){A(ax.PLUGIN_ERROR,n,{extJSON:{plugin_name:e.name,cycle_name:t,data:r}})}})},e.getAllReportResultSet=function(){return this.instances().reduce(function(t,e){return t.concat(e.getReportResultSet())},[])},e.resetCookieExpires=function(){},e.enableCookie=function(){},e.disableCookie=function(){},e.enableFirstPartyCookie=function(t){},e.holdConsent=function(){},e.revokeConsent=function(){},e.grantConsent=function(){},e.initLocalServiceInfo=function(){},t}();function eX(){eX=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(e,r,n,i){var a=Object._ttq_create((r&&r.prototype instanceof _?r:_).prototype);return o(a,"_invoke",{value:function(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var a=l(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var c=a.arg;return c?c.done?(n[r.resultName]=c.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):c:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=l(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}(e,n,new R(i||[]))}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",h="executing",d="completed",v={};function _(){}function y(){}function g(){}var m={};u(m,a,function(){return this});var w=Object.getPrototypeOf,E=w&&w(w(S([])));E&&E!==r&&n.call(E,a)&&(m=E);var b=g.prototype=_.prototype=Object._ttq_create(m);function I(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,c)})}c(s.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(typeof e+" is not iterable")}return y.prototype=g,o(b,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object._ttq_create(b),t},e.awrap=function(t){return{__await:t}},I(O.prototype),u(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(b),u(b,s,"Generator"),u(b,a,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=S,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:S(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function eQ(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}eJ=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo()],eJ);var eZ=(ar=(ae=eX().mark(function t(e,r){return eX().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===r&&(r=1),!(r>=0)){t.next=13;break}return t.prev=2,t.next=5,function(t){return new Promise(function(e,r){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=t;var o=document.getElementsByTagName("script")[0];o&&o.parentNode?o.parentNode.insertBefore(n,o):r("none element"),n.onload=function(){e(!0)},n.onerror=r})}(e);case 5:return t.abrupt("return",Promise.resolve(!0));case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",eZ.call(null,e,r-1));case 11:t.next=14;break;case 13:throw Error;case 14:case"end":return t.stop()}},t,null,[[2,8]])}),function(){var t=this,e=arguments;return new Promise(function(r,n){var o=ae.apply(t,e);function i(t){eQ(o,r,n,i,a,"next",t)}function a(t){eQ(o,r,n,i,a,"throw",t)}i(void 0)})}),function(t,e){return ar.apply(this,arguments)});(an=aZ||(aZ={})).TRACK="track",an.PERFORMANCE="performance",an.INTERACTION="interaction",an.PCM="PCM",an.PERFORMANCE_INTERACTION="performance_interaction",an.SELFHOST="selfhost",an.AUTO_CONFIG="auto_config",an.PAGE="Pf",an.PAGE_PERFORMANCE="page_performance",an.PAGE_INTERACTION="page_interaction";var ez=["EnrichAM"];(ao=az||(az={})).LDU="limited_data_use",ao.EVENTID="eventID",ao.EVENT_ID="event_id",(ai=a$||(a$={}))[ai.defaultReport=0]="defaultReport",ai[ai.httpReport=1]="httpReport",ai[ai.htmlHttpReport=2]="htmlHttpReport",(aa=a0||(a0={}))[aa.P0=0]="P0",aa[aa.P1=1]="P1",aa[aa.P2=2]="P2";var e$=["ttuts","ad_info_from"],e0="Pageview",e1=[],e2=["AED","ALL","AMD","ARS","AUD","AZN","BDT","BGN","BHD","BIF","BOB","BRL","BYN","CAD","CHF","CLP","CNY","COP","CRC","CZK","DKK","DOP","DZD","EGP","EUR","GBP","GEL","GTQ","HKD","HNL","HUF","IDR","ILS","INR","IQD","ISK","JOD","JPY","KES","KHR","KRW","KWD","KZT","LBP","MAD","MOP","MXN","MYR","NGN","NIO","NOK","NZD","OMR","PAB","PEN","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","SAR","SEK","SGD","THB","TND","TRY","TWD","TZS","UAH","USD","UZS","VES","VND","ZAR"],e3=function(){function t(){this.events={}}var e=t.prototype;return e.on=function(t,e){var r=this.events[t]||[];r.push(e),this.events[t]=r},e.emit=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];(this.events[t]||[]).forEach(function(t){return t.apply(void 0,r)})},e.off=function(t,e){var r=this.events[t]||[];this.events[t]=r.filter(function(t){return t!==e})},t}();e3=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo()],e3);var e6=function(t,e){if("selfhost"===t&&e&&b(e))return"https://"+b(e)+"/api/v2/pixel";var r={track:ev,performance:e_,interaction:ey,performance_interaction:eg,auto_config:eE,page_performance:em,page_interaction:ew}[t];return r?r:null};function e5(t,e){return(e5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var e8=function(t){function e(e,r){var n;return(n=t.call(this)||this).reporterInfo={},n.options={},n.plugins={},n.rules=[],n.reportEventHistory={},n.reportResultSet=[],n.selfHostConfig={},n.currentHref="",n.advancedMatchingAvailableProperties={external_id:!0,partner_id:!0},n.session=eV(),n.reportService=r,n.context=e,n}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,e5(r,n);var r,n,o=e.prototype;return o.getParameterInfo=function(){var t=this;return this.getInstance().then(function(){var e=t.reporterInfo,r=e.name,n=e.status,o=e.setupMode,i=e.advertiserID,a=e.is_onsite;return{pixelCode:t.getReporterId(),name:void 0===r?"":r,status:void 0===n?1:n,setupMode:void 0===o?0:o,advertiserID:(void 0===i?"":i).toString(),partner:t.getReporterPartner()||"",is_onsite:void 0!==a&&a,advancedMatchingAvailableProperties:t.advancedMatchingAvailableProperties,rules:t.rules}})},o.getInstance=function(){return this.pixelPromise=Promise.resolve(this)},o.getReporterId=function(){return""},o.getReporterUniqueLoadId=function(){return""+this.getReporterId()},o.getReporterPartner=function(){},o.getReporterInfo=function(){return{pixel:{code:this.getReporterId()}}},o.setAdvancedMatchingAvailableProperties=function(t){this.advancedMatchingAvailableProperties=Object.assign({},this.advancedMatchingAvailableProperties,t)},o.isOnsite=function(){return!1},o.isPartnerReporter=function(){return!1},o.getReportResultSet=function(){return this.reportResultSet},o.getUserInfo=function(t){return{}},o.getReporterMatchedUserFormatInfo=function(){return{}},o.getReporterMatchedUserFormatInfoV2=function(){return{}},o.getReportEventHistoryKey=function(t){return"tiktok"},o.getCookieBasedSession=function(){return this.session},o.setCookieBasedSession=function(t){t&&(this.session=t)},o.convertCookieBasedSession=function(t){return{}},o.clearHistory=function(){this.reportEventHistory={}},o.pushReport=function(t,e){void 0===e&&(e="tiktok"),!this.reportEventHistory[e]&&(this.reportEventHistory[e]=[]),this.reportEventHistory[e].push(t)},o.hasReportEventHistory=function(t,e){var r=this.getReportEventHistoryKey(e);return this.reportEventHistory[r]?!!(e1.includes(t)&&this.reportEventHistory[r].includes(t))||!1:(this.reportEventHistory[r]=[],!1)},o.page=function(t){void 0===t&&(t={})},o.track=function(t,e,r,n,o){var i=this,a=n||aZ.TRACK,c=o||a$.defaultReport;return!this.reportService||this.hasReportEventHistory(t,c)?Promise.resolve(null):(this.pushReport(t,this.getReportEventHistoryKey(c)),this.reportService.reportPreTasks.then(function(){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var n={taskName:window.ttq._pf_tn||"track_after_report_preposition",functionName:window.ttq._pf_tn&&"track_after_report_preposition",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="track_after_report_preposition")}}catch(t){}var o=i.getReporterId(),s=i.trackSync(o,t,e,r,a,c);i.trackPostTask({reporterId:o,eventType:t,properties:e,eventConfig:r,type:a,reportType:c,reportData:s});try{window.ttq&&window.ttq._ppf&&(n.end=performance.now(),window.ttq._ppf.push(n),"track_after_report_preposition"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}return Promise.resolve({reporterId:o,eventType:t,properties:e,eventConfig:r,type:a,reportType:c,reportData:s})}))},o.getEventType=function(t){return t},o.trackPostTask=function(t){},o.trackSync=function(t,e,r,n,o,i,a){void 0===o&&(o=aZ.TRACK),void 0===i&&(i=a$.defaultReport);var c=o!==aZ.SELFHOST?this.assemblyData(t,e,r,n,o):this.assemblySelfHostData(t,e,r,n,o),s=a||e6(o,t);if(null!==s&&!!this.reportService)return this.emit("beforeReport",t,e,c,n,o),this.reportResultSet.push(this.reportService.report(s,c,i,a0.P0)),c},o.handlePropertiesToOptions=function(t,e){var r={};return e.forEach(function(e){r[e]=t[e],delete t[e]}),r},o.assemblyData=function(t,e,r,n,o){void 0===r&&(r={}),void 0===n&&(n={}),void 0===o&&(o=aZ.TRACK);var i=this.context.getAllData(),a=i.adInfo,c=i.userInfo,s=i.appInfo,u=i.pageSign,f=i.libraryInfo,l=i.pageInfo,p=i.signalType,h=u.sessionId,d=u.variationId,v=Object.assign({},r),_=v&&v.pixelMethod||"";v&&v.pixelMethod&&delete v.pixelMethod;var y=Object.assign({},f,{version:this.context.isLegacyPixel(t)?"legacy-"+f.version:f.version}),g=Object.assign({},tc(a,e$),{device_id:s.device_id,uid:s.user_id}),m=this.handlePropertiesToOptions(v,[az.LDU,az.EVENTID,az.EVENT_ID]),w=this.options.limited_data_use,E=null!==m.limited_data_use&&void 0!==m.limited_data_use?m.limited_data_use:w;null==E?delete m.limited_data_use:m.limited_data_use=!!E;var b=n&&(n.event_id||n.eventID)||"";m.event_id=b||m.event_id||m.eventID||"",delete m.eventID;var I=this.getReporterInfo();I.pixel&&(I.pixel.runtime=tM(),_&&(I.pixel.mode=_));var O=this.getUserInfo(aM.Manual)||{},T=this.getUserInfo(aM.ManualV2)||{},N=this.getReporterMatchedUserFormatInfoV2()||{},R=this.getUserInfo(aM.Auto)||{};R.auto_trigger_type&&(Object.assign(v,{auto_trigger_type:R.auto_trigger_type}),delete R.auto_trigger_type);var S=this.getUserInfo(aM.EBManual)||{};tS()&&Object.assign(v,{android_version:s.android_version,device_model:s.device_model});var P={};c.anonymous_id&&(P.anonymous_id=c.anonymous_id);var A=this.getEventType(e),L=this.convertCookieBasedSession(o);return Object.assign({event:A,event_id:b,message_id:Y(B("messageId"),t),is_onsite:!!p,timestamp:new Date().toJSON(),context:Object.assign(Object.assign(Object.assign({ad:g,device:{platform:s.platform},user:Object.assign({},P,O,T,R,S)},I),{page:Object.assign({},l),library:Object.assign({},y),session_id:Y(h,t),pageview_id:Y(this.context.getPageViewId(),this.getReporterUniqueLoadId(),"::"),variation_id:d||""}),L),_inspection:N,properties:v},m)},o.assemblySelfHostData=function(t,e,r,n,o){return void 0===r&&(r={}),void 0===n&&(n={}),this.assemblyData(t,e,r,n,o)},e}(e3);e8=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo()],e8);var e4={ViewForm:"ViewContent",ViewConsultationPage:"ViewContent",ViewDownloadPage:"ViewContent",Checkout:"PlaceAnOrder",Registration:"CompleteRegistration",AddBilling:"AddPaymentInfo",StartCheckout:"InitiateCheckout",ClickInDownloadPage:"ClickButton",ClickInConsultationPage:"ClickButton",ClickForm:"ClickButton",ClickToDownload:"Download",Consult:"Contact",ConsultByPhone:"Contact",CompletePayment:"Purchase",SubmitForm:"Lead"},e9=["event_experiment","dynamic_parameter_config","eb_version","eb_rule_id","tf"],e7=function(t){var e=t.getUserInfo().anonymous_id,r=eD(a);e!==r&&t.setUserInfoWithoutIdentifyPlugin({anonymous_id:r})},rt=function(t,e,r){try{var n=window.location.hostname.split(".");if(void 0!==a1&&a1<n.length){document.cookie=t+"="+e+eP(Object.assign({},r,{domain:"."+n.slice(a1).join(".")}));return}for(var o=n.length-2;o>=0;o--){var i="."+n.slice(o).join(".");if(document.cookie=t+"="+e+eP(Object.assign({},r,{domain:i})),eD(t)===e){a1=o;break}}}catch(t){}},re=function(t,e,r){var n,o=eV();return e&&(o=eY(e)),rt(t?u+"_"+t:u,(n=o).sessionId+"."+n.sessionCount+"."+n.lastEventTS,eL(r)),o};function rr(t,e){return(rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var rn=function(t){function e(e){var r,n,o=e.id,i=e.type,a=e.isOnsitePage,c=e.context,s=e.reporterInfo,u=e.ttqOptions,f=e.reportService,l=e.plugins,p=e.rules,h=e.options;return(n=t.call(this,c,f)||this).ttp="",n.loaded=!1,n.id=o,n.pixelCode=o,n.type=i,n.isOnsitePage=a,n.options=(void 0===h?{}:h)||{},n.plugins=(void 0===l?{}:l)||{},n.rules=(void 0===p?[]:p)||[],n.reporterInfo=Object.assign(s||{},((r={})[i]=o,r)),n.ttp=u.ttp||"",n.currency_list=u.currency_list||null,n.ttqPartner=u.partner||"",n.selfHostConfig=u.self_host_config||{},n.ttqOptions=u,n.pixelPromise=n.getInstance(),n}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,rr(r,n);var r,n,o=e.prototype;return o.identify=function(t,e){var r=tv(t,e);this.context.setUserInfo(r)},o.getReporterId=function(){return this.id||""},o.getReporterUniqueLoadId=function(){return this.reporterInfo.loadId+"-"+this.getReporterId()},o.getReporterPartner=function(){var t;return(null===(t=this.reporterInfo)||void 0===t?void 0:t.partner)||""},o.setPixelInfo=function(t,e,r){var n,o=this.type;this.reporterInfo=Object.assign(this.reporterInfo,Object.assign({},t),((n={})[o]=this.getReporterId(),n)),e&&(this.rules=e),r&&(this.plugins=r)},o.getInstance=function(){return Promise.resolve(this)},o.getReporterInfo=function(){return this.reporterInfo.pixelCode?t.prototype.getReporterInfo.call(this):{shop_id:this.reporterInfo.shopId,eventSourceId:this.reporterInfo.eventSourceId}},o.getUserInfo=function(t){var e=this.context.getUserInfo(),r=ts(e,Object.assign({},this.advancedMatchingAvailableProperties));switch(t){case aM.Manual:return ts(this.isPartnerReporter()?r:e,{external_id:!0,email:!0,phone_number:!0,ttoclid:!0});case aM.ManualV2:return ts(this.isPartnerReporter()?r:e,{first_name:!0,last_name:!0,city:!0,state:!0,country:!0,zip_code:!0,partner_id:!0,ttoclid:!0});case aM.EBManual:return ts(e,{eb_email:!0,eb_phone_number:!0});case aM.Auto:var n=ts(r,{external_id:!0,auto_email:!0,auto_phone_number:!0,ttoclid:!0});return Object.assign(n,(n.auto_email||n.auto_phone_number)&&e.auto_trigger_type?{auto_trigger_type:e.auto_trigger_type}:{});default:return r}},o.getReporterMatchedUserFormatInfo=function(){var t=this.context.getUserFormatInfo(),e=ta(t,this.isPartnerReporter()?this.advancedMatchingAvailableProperties:{external_id:!0,email:!0,phone_number:!0}),r=ts(t,{auto_email:!0,auto_phone_number:!0});return Object.keys(r).length>0&&(!e.identity_params&&(e.identity_params={}),Object.assign(e.identity_params,r)),e},o.getReporterMatchedUserFormatInfoV2=function(){return ti(this.context.getUserFormatInfoV2(),this.isPartnerReporter()?this.advancedMatchingAvailableProperties:{external_id:!0,email:!0,phone_number:!0,first_name:!0,last_name:!0,city:!0,state:!0,country:!0,zip_code:!0,partner_id:!0})},o.isOnsite=function(){var t;return!!(null===(t=this.reporterInfo)||void 0===t?void 0:t.is_onsite)},o.isPartnerReporter=function(){var t=this.getReporterPartner();return!!(t&&"None"!==t)},o.getSignalDiagnosticLabels=function(){var t=this.context.getSignalDiagnosticLabels();if(!t)return Object.assign({},q);var e=this.advancedMatchingAvailableProperties,r=e.email,n=e.phone_number,o=e.auto_email,i=e.auto_phone_number;return r=!this.isPartnerReporter()||r,Object.assign({},q,ts(t,{raw_email:r,raw_phone:n=!this.isPartnerReporter()||n,hashed_email:r,hashed_phone:n,raw_auto_email:o,raw_auto_phone:i,raw_eb_email:!0,raw_eb_phone:!0}))},o.setCookieBasedSession=function(t){t&&(this.session=t)},o.convertCookieBasedSession=function(t){return eH(this.reporterInfo,this.ttqOptions)&&t!==aZ.AUTO_CONFIG?eW(this.getCookieBasedSession(),this.context.getPageCookieBasedSession()):{}},o.assemblyData=function(e,r,n,o,i){void 0===n&&(n={}),void 0===o&&(o={}),void 0===i&&(i=aZ.TRACK);var a,c,s,u=t.prototype.assemblyData.call(this,e,r,n,o,i);u.is_onsite=this.isOnsitePage.value;var f=O(e)||this.ttqPartner;f&&(u.partner=f),u.signal_diagnostic_labels=this.getSignalDiagnosticLabels();var l=E();l&&(u.context.userAgent=l);var p=function(){try{var t=document.readyState;if("loading"==t)return aK.LOADING;if("interactive"==t)return aK.INTERACTIVE;else if("complete"==t)return aK.COMPLETE;return aK.UNKNOWN}catch(t){return aK.UNKNOWN}}();return p&&(u.context.page.load_progress=p),u._inspection=(a=e9,c=u.properties,void 0===(s=u._inspection)&&(s={}),a.forEach(function(t){c.hasOwnProperty(t)&&(s[t]=c[t],delete c[t])}),s),i!==aZ.PAGE&&(u._inspection.ppf=R()),u._inspection.vids=this.context.getVids(),u.context.ad.sdk_env=tb(),u.context.ad.jsb_status=function(){var t;try{return[aC.INVOKE_METHOD_ENABLED,aC.INVOKE_METHOD_NOT_ENABLED][[!!(null===(t=null==window?void 0:window.ToutiaoJSBridge)||void 0===t?void 0:t.invokeMethod),!0].findIndex(function(t){return t})]}catch(t){return aC.NOT_SURE}}(),(i===aZ.INTERACTION||i===aZ.PERFORMANCE||i===aZ.PERFORMANCE_INTERACTION)&&!1===this.context.getEnableAdTracking()&&!this.isOnsitePage.value&&(u.context.user={},u.context.ad=this.context.getOffsiteAdInfo(),u.context.ad=tc(u.context.ad,e$)),u},o.page=function(t){void 0===t&&(t={});var e=eu().url;if(e!==this.currentHref)this.currentHref=e,this.track(e0,t,{})},o.track=function(e,r,n,o,i){var a=this;void 0===r&&(r={}),void 0===n&&(n={}),void 0===o&&(o=aZ.TRACK),void 0===i&&(i=a$.defaultReport);var c=function(){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var c={taskName:window.ttq._pf_tn||"track_after_reporter_init",functionName:window.ttq._pf_tn&&"track_after_reporter_init",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="track_after_reporter_init")}}catch(t){}var s=a.getReporterId();if(ez.includes(e))return t.prototype.track.call(a,e,r,n,o,i);var u=Object.assign({},n);a.selfHostConfig[s]&&!n.eventID&&(u=Object.assign({},u,{eventID:Y(B("default_eventId"),s)}));try{window.ttq&&window.ttq._ppf&&(c.end=performance.now(),window.ttq._ppf.push(c),"track_after_reporter_init"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}return t.prototype.track.call(a,e,r,u,o,i)};return this.loaded?c():this.getInstance().then(c)},o.getEventType=function(t){return e4[t]||t},o.trackSync=function(e,r,n,o,i,a,c){if(void 0===n&&(n={}),void 0===o&&(o={}),void 0===i&&(i=aZ.TRACK),void 0===a&&(a=a$.defaultReport),"track"===i&&P(ax.PIXEL_SEND,{pixelCode:e,extJSON:{event:r}}),i!==aZ.TRACK){t.prototype.trackSync.call(this,e,r,n,o,i,a,c);return}n&&"string"==typeof n.currency&&(n.currency=n.currency.toUpperCase());var s,u=this.context.getTestID();if(u){var f=this.assemblyData(e,r,n,o);return f.tt_test_id=u,f.context.ad={},null===(s=this===null||void 0===this?void 0:this.reportService)||void 0===s||s.report(c||ev,f,a$.htmlHttpReport,a0.P0),f}if(n&&"object"==typeof n){var l,p,h,d=n,v=d.value,_=d.currency;if(void 0!==v&&!(!isNaN(l=v)&&l>=0))P(ax.CUSTOM_ERROR,{pixelCode:e,custom_name:"invalid_value",extJSON:{event:r,value:v,currency:_}});if(void 0!==_&&(p=_,void 0===(h=this.currency_list)&&(h=null),!(h||e2).includes(p)))P(ax.CUSTOM_ERROR,{pixelCode:e,custom_name:"invalid_currency",extJSON:{event:r,value:v,currency:_}})}return t.prototype.trackSync.call(this,e,r,n,o,i,a,c)},o.trackPostTask=function(t){var e=t.reporterId,r=t.eventType,n=t.properties,o=t.eventConfig;if(!ez.includes(r))this.selfHostConfig[e]&&!this.hasReportEventHistory(r,a$.htmlHttpReport)&&(this.pushReport(r,this.getReportEventHistoryKey(a$.htmlHttpReport)),this.trackSync(e,r,n,o,aZ.SELFHOST,a$.htmlHttpReport))},o.getReportEventHistoryKey=function(t){return t===a$.htmlHttpReport?this.selfHostConfig[this.getReporterId()]:"tiktok"},o.assemblySelfHostData=function(t,e,r,n,o){void 0===r&&(r={}),void 0===n&&(n={});var i=this.assemblyData(t,e,r,n,o),a=this.ttp;return a&&(i.context.user.ttp=a),i},e}(e8);function ro(t,e){return(ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var ri=function(t,e){return function(r,n){e(r,n,t)}},ra=function(t){function e(e,r,n,o,i,a,c,s,u,f){return t.call(this,{id:e,type:r,isOnsitePage:n,context:o,reporterInfo:i,ttqOptions:a,reportService:c,plugins:s,rules:u,options:f})||this}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,ro(r,n);var r,n,o=e.prototype;return o.getInstance=function(){var t,e=this;if(this.pixelPromise)return this.pixelPromise;var r=(t=this.id,tY()[t]||{});return w()||r&&r.info?(this.loaded=!0,this.pixelPromise=Promise.resolve(this)):(this.pixelPromise=new Promise(function(t,r){var n,o,i=ef();eZ((n=e.id,o=(null==i?void 0:i.hostname)||"",(tA()?"/static/config.js":"https://analytics.tiktok.com/i18n/pixel/config.js")+"?sdkid="+n+"&hostname="+o)).then(function(){e.loaded=!0,t(e)}).catch(function(t){e.pixelPromise=null,r(t)})}),this.pixelPromise)},o.setCookieBasedSession=function(e){var r=re(this.pixelCode,e,this.ttqOptions);t.prototype.setCookieBasedSession.call(this,r)},o.track=function(e,r,n,o,i){if(void 0===r&&(r={}),void 0===n&&(n={}),void 0===o&&(o=aZ.TRACK),void 0===i&&(i=a$.defaultReport),n&&n.pixel_code&&this.getReporterId()!==n.pixel_code)return Promise.resolve(null);if(eH(this.reporterInfo,this.ttqOptions)){var a=eB(document.cookie);this.setCookieBasedSession(a[this.getReporterId()]),this.context.setPageCookieBasedSession(a[""])}return t.prototype.track.call(this,e,r,n,o,i)},e}(rn);ra=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),ri(0,ei(tE.ID)),ri(1,ei(tE.Type)),ri(2,ei(tE.IsOnsitePage)),ri(3,ei(tJ.CONTEXT)),ri(4,ei(tE.Info)),ri(5,ei(tJ.TTQ_GLOBAL_OPTIONS)),ri(6,ei(tJ.REPORT_SERVICE)),ri(7,ei(tE.Plugins)),ri(7,ea()),ri(8,ei(tE.Rules)),ri(8,ea()),ri(9,ei(tE.Options)),ri(9,ea())],ra);function rc(t,e){return(rc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var rs=function(t){function e(){return t.apply(this,arguments)||this}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,rc(r,n);var r,n,o=e.prototype;return o.getInstance=function(){return this.pixelPromise=Promise.resolve(this),this.pixelPromise},o.track=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r={}),tK(this.getReporterId(),"track",[t,e,r]),Promise.resolve(null)},e}(ra);function ru(){ru=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(e,r,n,i){var a=Object._ttq_create((r&&r.prototype instanceof _?r:_).prototype);return o(a,"_invoke",{value:function(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var a=l(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var c=a.arg;return c?c.done?(n[r.resultName]=c.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):c:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=l(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}(e,n,new R(i||[]))}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",h="executing",d="completed",v={};function _(){}function y(){}function g(){}var m={};u(m,a,function(){return this});var w=Object.getPrototypeOf,E=w&&w(w(S([])));E&&E!==r&&n.call(E,a)&&(m=E);var b=g.prototype=_.prototype=Object._ttq_create(m);function I(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,c)})}c(s.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(typeof e+" is not iterable")}return y.prototype=g,o(b,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object._ttq_create(b),t},e.awrap=function(t){return{__await:t}},I(O.prototype),u(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(b),u(b,s,"Generator"),u(b,a,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=S,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:S(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function rf(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function rl(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){rf(i,n,o,a,c,"next",t)}function c(t){rf(i,n,o,a,c,"throw",t)}a(void 0)})}}function rp(t,e){return(rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var rh=function(t,e){return function(r,n){e(r,n,t)}},rd=function(t){function e(e,r,n,o,i,a,c,s,u,f,l,p,h,d,v,_,y,g,m,w,E,b){(I=t.call(this,e,i)||this).context=e,I.env=s,I.reporters=r,I.cookieService=a,I.reportService=i,I.consentService=c,I.adService=n,I.appService=o,I.historyObserver=E,I.autoAdvancedMatchingPlugin=f,I.callbackPlugin=l,I.identifyPlugin=p,I.monitorPlugin=u,I.webFLPlugin=h,I.shopifyPlugin=d,I.autoConfigPlugin=v,I.diagnosticsConsolePlugin=_,I.pangleCookieMatchingPlugin=y,I.eventBuilderPlugin=g,I.pagedataPlugin=w,I.enrichIpv6Plugin=m,I.runtimeMeasurementPlugin=b,I.historyObserver&&I.useObserver(I.historyObserver),I.autoAdvancedMatchingPlugin&&I.usePlugin(I.autoAdvancedMatchingPlugin),I.callbackPlugin&&I.usePlugin(I.callbackPlugin),I.identifyPlugin&&I.usePlugin(I.identifyPlugin),I.monitorPlugin&&I.usePlugin(I.monitorPlugin),I.webFLPlugin&&I.usePlugin(I.webFLPlugin),I.shopifyPlugin&&I.usePlugin(I.shopifyPlugin),I.autoConfigPlugin&&I.usePlugin(I.autoConfigPlugin),I.diagnosticsConsolePlugin&&I.usePlugin(I.diagnosticsConsolePlugin),I.pangleCookieMatchingPlugin&&I.usePlugin(I.pangleCookieMatchingPlugin),I.eventBuilderPlugin&&I.usePlugin(I.eventBuilderPlugin),I.enrichIpv6Plugin&&I.usePlugin(I.enrichIpv6Plugin),I.runtimeMeasurementPlugin&&I.usePlugin(I.runtimeMeasurementPlugin),I.monitorPlugin&&(S.info.forEach(function(t){var e;null===(e=I.monitorPlugin)||void 0===e||e.info(t.event,t.detail,t.withoutJSB)}),S.error.forEach(function(t){var e;null===(e=I.monitorPlugin)||void 0===e||e.error(t.event,t.err,t.detail,t.withoutJSB)}),S.info=[],S.error=[]),I.dispatch(aW.INIT_START),I.pagedataPlugin&&I.usePlugin(I.pagedataPlugin),I.onPageLoaded(),I.onPageLeave();var I,O=eu(),T=O.url,N=O.referrer;return I.init(T,N),I.setPageInfo(T,N),I.dispatch(aW.INIT_END),I}r=e,i=t,r.prototype=Object._ttq_create(i.prototype),r.prototype.constructor=r,rp(r,i);var r,i,c,s=e.prototype;return s.initAdInfo=function(t,e){this.dispatch(aW.BEFORE_AD_INFO_INIT_START);var r=el(n);if(r){this.initAdCache(r);return}if(tG()){var o=eN(t,e);o&&(o.creative_id&&o.log_extra||o.callback)&&(this.dispatch(aW.AD_INFO_INIT_START),eh(n,o),this.setAdInfo(o),this.initOffsiteAdInfo(o));return}this.initBaseAdInfo(t,e)},s.initAdCache=function(t){this.dispatch(aW.AD_INFO_INIT_START),t.ad_info_from="cache",t.ad_info_status="fulfilled(cache)",this.setAdInfo(t),this.initOffsiteAdInfo(t)},s.initBaseAdInfo=function(t,e){var r=this;this.adService.webBridgeService.jsbridge&&this.dispatch(aW.AD_INFO_INIT_START),this.reportService.pushPreposition(rl(ru().mark(function n(){var o;return ru().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.adService.getAdInfo(t,e);case 3:o=n.sent,r.context.setAdInfo(o),r.initOffsiteAdInfo(o),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),A(ax.INIT_ERROR,n.t0,{extJSON:{position:"initAdInfo"}});case 11:case"end":return n.stop()}},n,null,[[0,8]])}))())},s.initOffsiteAdInfo=function(t){var e=eS(t,function(t){A(ax.INIT_ERROR,t,{extJSON:{position:"handleAdInfoOfficial"}})});this.context.setOffsiteAdInfo(e);var r=eR(t,this.env);this.context.setEnableAdTracking(r),this.dispatch(aW.AD_INFO_INIT_END,{extJSON:{enabledAdTracking:r}})},s.initAppInfo=function(t,e){var r=this,n=el(o);if(n){this.context.setAppInfo(n);return}this.reportService.pushPreposition(rl(ru().mark(function n(){var o;return ru().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.initBaseAppInfo(t,e);case 2:return o=n.sent,n.abrupt("return",o);case 4:case"end":return n.stop()}},n)}))())},s.initBaseAppInfo=(c=rl(ru().mark(function t(e,r){var n;return ru().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.appService.getAppInfo(e,r);case 2:return n=t.sent,this.context.setAppInfo(n),t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)})),function(t,e){return c.apply(this,arguments)}),s.initTestId=function(t,e){if(!this.context.getTestID()){var r=eG(t,eD("tt_test_id"),e);this.context.setTestID(r)}},s.initUserInfo=function(){this.setCookieInfo()},s.initLocalServiceInfo=function(){var t,e,r=el(p);if(r){this.context.setUserInfoWithoutIdentifyPlugin(((t={})[p]=r,t));return}var n=eu(),o=n.url,i=n.referrer,a=es(h[location.hostname]?h[location.hostname]:p,o,i);a&&(eh(p,a),this.context.setUserInfoWithoutIdentifyPlugin(((e={})[p]=a,e)))},s.setPageIndex=function(t){t&&eM(t)},s.instance=function(t){this.beforeAPIExecution();var e=this.getReporter(t);return e?e:new rs(t,aY.PIXEL_CODE,{value:!1},this.context,{pixelCode:t},{},{})},s.instances=function(){return this.beforeAPIExecution(),this.reporters},s.page=function(e){this.beforeAPIExecution();var r=eu(),n=r.url,o=r.referrer;t.prototype.page.call(this,Object.assign({url:(null==e?void 0:e.page)||n,referrer:(null==e?void 0:e.referrer)||o},e))},s.track=function(e,r,n){void 0===r&&(r={}),void 0===n&&(n={});try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var o={taskName:window.ttq._pf_tn,functionName:"web_track_handler",start:performance.now()}}catch(t){}this.beforeAPIExecution();var i=n.pixel_code;if(void 0===i&&t.prototype.track.call(this,e,r,n),void 0!==i){var a=this.instance(i);!(a instanceof rs)&&a.track(e,r,n)}try{window.ttq&&window.ttq._ppf&&(o.end=performance.now(),window.ttq._ppf.push(o))}catch(t){}},s.identify=function(e,r){this.beforeAPIExecution(),t.prototype.identify.call(this,e,r)},s.setAdInfo=function(t){this.context.setAdInfo(t)},s.enableFirstPartyCookie=function(t){this.cookieService.enableFirstPartyCookie(t),t&&this.setCookieInfo()},s.enableCookie=function(){this.cookieService.enableFirstPartyCookie(!0),this.setCookieInfo(),this.cookieService.enableCookie()},s.disableCookie=function(){this.cookieService.disableCookie(),this.context.setUserInfoWithoutIdentifyPlugin({anonymous_id:void 0}),this.disablePangleCookie()},s.holdConsent=function(){this.consentService.setConsentMode(aH.HOLD)},s.revokeConsent=function(){this.consentService.setConsentMode(aH.REVOKE)},s.grantConsent=function(){this.consentService.setConsentMode(aH.GRANT)},s.disablePangleCookie=function(){this.pangleCookieMatchingPlugin&&this.pangleCookieMatchingPlugin.disablePangleCookie()},s.setAnonymousId=function(t){this.cookieService.setAnonymousId(t),this.initUserInfo()},s.resetCookieExpires=function(){this.cookieService.resetExpires()},s.setCookieInfo=function(){if(!this.cookieService.canUseCookie())return;var t=this.cookieService.getAnonymousId();if(!!t)this.context.setUserInfoWithoutIdentifyPlugin({anonymous_id:t})},s.onPageLoaded=function(){var t=this;window.addEventListener("load",function(){t.dispatch(aW.PAGE_DID_LOAD)},{once:!0})},s.onPageLeave=function(){var t=this,e=tr(function(){var e=Date.now();t.dispatch(aW.PAGE_WILL_LEAVE,e),t.consentService.updateCache()});document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e()}),"onpagehide"in window&&window.addEventListener("pagehide",function(){e()}),window.addEventListener("unload",function(){return e},{once:!0}),window.addEventListener("beforeunload",function(){return e},{once:!0})},s.beforeAPIExecution=function(){try{var t,e;t=this.context,eu().url===t.getPageInfo().url||this.setPageInfo(eu().url),e=this.context,eD(a)===e.getUserInfo().anonymous_id||e7(this.context)}catch(t){A(ax.API_ERROR,t,{extJSON:{position:"beforeAPIExecution"}})}},s.loadPixel=function(t,e){if(!!t){if(this.reporters.find(function(e){return e.getReporterId()===t})){L(aX.DUPLICATE_PIXEL_CODE);return}g().load(t,e||{})}},e}(eJ),rv=rd=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),rh(0,ei(tJ.CONTEXT)),rh(1,ei(tJ.TTQ_REPORTERS)),rh(2,ei(tJ.AD_SERVICE)),rh(3,ei(tJ.APP_SERVICE)),rh(4,ei(tJ.REPORT_SERVICE)),rh(5,ei(tJ.COOKIE_SERVICE)),rh(6,ei(tJ.CONSENT_SERVICE)),rh(7,ei(tJ.ENV)),rh(8,ei(tJ.MONITOR_PLUGIN)),rh(8,ea()),rh(9,ei(tJ.AUTO_ADVANCED_MATCHING_PLUGIN)),rh(9,ea()),rh(10,ei(tJ.CALLBACK_PLUGIN)),rh(10,ea()),rh(11,ei(tJ.IDENTIFY_PLUGIN)),rh(11,ea()),rh(12,ei(tJ.WEB_FL_PLUGIN)),rh(12,ea()),rh(13,ei(tJ.SHOPIFY_PLUGIN)),rh(13,ea()),rh(14,ei(tJ.AUTO_CONFIG_PLUGIN)),rh(14,ea()),rh(15,ei(tJ.DIAGNOSTICS_CONSOLE_PLUGIN)),rh(15,ea()),rh(16,ei(tJ.PANGLE_COOKIE_MATCHING_PLUGIN)),rh(16,ea()),rh(17,ei(tJ.EVENT_BUILDER_PLUGIN)),rh(17,ea()),rh(18,ei(tJ.ENRICH_IPV6_PLUGIN)),rh(18,ea()),rh(19,ei(tJ.PAGEDATA_PLUGIN)),rh(19,ea()),rh(20,ei(tJ.HISTORY_OBSERVER)),rh(20,ea()),rh(21,ei(tJ.RUNTIME_MEASUREMENT_PLUGIN)),rh(21,ea())],rd),r_=function(){function t(t){this.userFormatInfo={},this.userFormatInfoV2={},this.enableAdTracking=!0,this.offsiteAdInfo={},this.tt_test_id="",this.signalDiagnosticLabels=Object.assign({},q),this.pageCookieBasedSession=eV(),this.init(t)}var e=t.prototype;return e.init=function(t){this.userInfo={},this.adInfo={},this.appInfo={},this.pageInfo={url:"",referrer:""},this.pageSign={sessionId:"",pageId:""},this.libraryInfo=t},e.getAllData=function(){return{userInfo:this.userInfo,adInfo:this.adInfo,appInfo:this.appInfo,libraryInfo:this.libraryInfo,pageInfo:this.pageInfo,pageSign:this.pageSign,signalType:this.signalType,userFormatInfo:this.userFormatInfo,userFormatInfoV2:this.userFormatInfoV2,enableAdTracking:this.enableAdTracking,offsiteAdInfo:this.offsiteAdInfo,tt_test_id:this.tt_test_id}},e.getLibraryInfo=function(){return this.libraryInfo},e.setSignalType=function(t){this.signalType=t},e.getSignalType=function(){return this.signalType},e.setTestID=function(t){this.tt_test_id=t},e.getTestID=function(){return this.tt_test_id},e.setEnableAdTracking=function(t){this.enableAdTracking=t},e.getEnableAdTracking=function(){return this.enableAdTracking},e.setOffsiteAdInfo=function(t){this.offsiteAdInfo=Object.assign({},this.offsiteAdInfo,t)},e.getOffsiteAdInfo=function(){return this.offsiteAdInfo},e.getUserFormatInfo=function(){return this.userFormatInfo},e.setUserFormatInfo=function(t){void 0===t&&(t={}),Object.assign(this.userFormatInfo,t)},e.getUserFormatInfoV2=function(){return this.userFormatInfoV2},e.setUserFormatInfoV2=function(t){void 0===t&&(t={}),Object.assign(this.userFormatInfoV2,t)},e.setUserInfo=function(t){void 0===t&&(t={}),Object.assign(this.userInfo,t)},e.setUserInfoWithoutIdentifyPlugin=function(t){if(!!t)Object.assign(this.userInfo,t)},e.getUserInfo=function(){return this.userInfo},e.getAdInfo=function(){return this.adInfo},e.setAdInfo=function(t){if(!!t)this.adInfo?this.adInfo=Object.assign({},this.adInfo,t):this.adInfo=t},e.getAppInfo=function(){return this.appInfo},e.setAppInfo=function(t){if(!!t)this.appInfo=Object.assign({},this.appInfo,t)},e.getPageInfo=function(){return this.pageInfo},e.getPageSign=function(){return this.pageSign},e.setPageInfo=function(t,e){var r=Object.assign({},this.pageInfo),n=Object.assign({},this.pageSign);if(r.url!==t){var o=r.url;if(void 0!==r.url&&(r.referrer=r.url),void 0!==e&&(r.referrer=e),void 0!==n.pageIndex){var i=n.pageIndex,a=i.index,c=i.sub,s=i.main;n.pageIndex={index:++a,sub:++c,main:s}}return r.url=t,this.pageInfo=r,this.pageSign=n,{from:o,pageIndex:n.pageIndex}}},e.setPageInfoData=function(t){this.pageInfo=Object.assign({},this.pageInfo,t)},e.getSessionIdFromCache=function(){return null},e.setSessionIdToCache=function(t){},e.setSignalDiagnosticLabels=function(t){Object.assign(this.signalDiagnosticLabels,t)},e.getSignalDiagnosticLabels=function(){return this.signalDiagnosticLabels},e.getPageId=function(t){return void 0===t&&(t=""+Date.now()),t+"-"+tn(5)},e.getPageViewId=function(){var t=this.pageSign,e=t.pageId,r=t.pageIndex;return""+e+(r?"."+r.main+"."+r.sub:"")},e.getVariationId=function(){return""},e.getVids=function(){return""},e.isLegacyPixel=function(t){return!1},e.initPageSign=function(){var t=this.getSessionIdFromCache();null===t&&(t=B("sessionId"),this.setSessionIdToCache(t));var e={sessionId:t,pageId:B("pageId")};this.pageSign=e},e.getPageCookieBasedSession=function(){return this.pageCookieBasedSession},e.setPageCookieBasedSession=function(t){t&&(this.pageCookieBasedSession=t)},t}();r_=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo()],r_);function ry(t,e){return(ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var rg=function(t,e){return function(r,n){e(r,n,t)}},rm=function(t){function e(e,r,n,o,i){var a;return(a=t.call(this,e)||this).setSignalType(i||aB.OFFSITE),a.pageSign={sessionId:"",pageId:"",variationId:"",vids:"",pageIndex:{main:-1,sub:-1,index:-1}},a.legacy=n.legacy||[],a.variationId=n.variation_id||"",a.vids=n.vids||"",a.serverUniqueId=n.server_unqiue_id||"",a.ttqOptions=n,a.reportService=r,a.initPageSign(),tT(o)&&tP()&&(a.enableAdTracking=!1),a.data=a,a}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,ry(r,n);var r,n,o=e.prototype;return o.getSessionIdFromCache=function(){var t=null;try{t=JSON.parse(sessionStorage.getItem(c)||"")}catch(t){}return t},o.setSessionIdToCache=function(t){eh(c,t)},o.getVariationId=function(){return this.variationId},o.getVids=function(){return this.vids},o.isLegacyPixel=function(t){return I(t,this.legacy)},o.assignPageInfo=function(t){Object.assign(this.pageInfo,t)},o.getSessionIndex=function(){var t={main:-1,sub:-1,index:-1};try{var e=JSON.parse(sessionStorage.getItem(s)||"{}");if(e)return Object.assign({},t,e)}catch(t){}return t},o.setUserInfo=function(t){var e=this;if(void 0===t&&(t={}),0!==Object.keys(t).length){var r={};Object.entries(t).forEach(function(t){var n,o=t[0],i=t[1];if(!!i){if(o===H){e.setUserInfoWithoutIdentifyPlugin(((n={})[H]=i,n));return}r[o]=String(i).trim()}});var n=g(),o=null==n?void 0:n.getPlugin("Identify");o&&this.reportService.pushPreposition(o.handleUserProperties(r,t).then(function(t){void 0===t&&(t={});try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var n={taskName:window.ttq._pf_tn||"identify_after_encryption",functionName:window.ttq._pf_tn&&"identify_after_encryption",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="identify_after_encryption")}}catch(t){}var i=t,a=i.userProperties,c=i.userDataFormat,s=i.userDataFormatV2;if(a){Object.assign(e.userInfo,a);var u=e.getUserFormatInfo()||{},f=e.getUserFormatInfoV2()||{},l=e.getSignalDiagnosticLabels()||{};if(e.setUserFormatInfo(Object.assign({},u,c)),e.setUserFormatInfoV2(Object.assign({},f,s)),e.setSignalDiagnosticLabels(Object.assign({},l,t.identifierLabel||{})),0===Object.keys(e.userInfo).length||1===Object.keys(r).length&&Object.keys(r).includes("external_id"))return;var p=o.reporters[0]||null,h=p?Object.keys(Object.assign({},p.getUserInfo(aM.Manual),p.getUserInfo(aM.Auto),p.getUserInfo(aM.EBManual))):[];p&&h.length&&p.track("EnrichAM",{},{},aZ.TRACK)}try{window.ttq&&window.ttq._ppf&&(n.end=performance.now(),window.ttq._ppf.push(n),"identify_after_encryption"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}}).catch(function(t){A(ax.API_ERROR,t,{extJSON:{api:"identify"}})}))}},o.initPageSign=function(){var t,e,r=this.getSessionIdFromCache();if(null===r){;r=(t=this.serverUniqueId)?""+t+"::"+tn(20):B("sessionId"),this.setSessionIdToCache(r)}var n=this.getPageId((e=r)?e.split("::")[0]:""),o=this.getVariationId(),i=this.getSessionIndex();i.main++,this.pageSign={sessionId:r,pageId:n,variationId:o,pageIndex:i}},o.setPageCookieBasedSession=function(e){var r=re("",e,this.ttqOptions);t.prototype.setPageCookieBasedSession.call(this,r)},e}(r_);rm=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),rg(0,ei(tE.WebLibraryInfo)),rg(1,ei(tJ.REPORT_SERVICE)),rg(2,ei(tJ.TTQ_GLOBAL_OPTIONS)),rg(3,ei(tJ.ENV)),rg(3,ea()),rg(4,ei(tE.SignalType)),rg(4,ea())],rm);var rw=String.fromCharCode.bind(String),rE=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),rb=function(t){for(var e,r,n,o,i="",a=t.length%3,c=0;c<t.length;){if((r=t.charCodeAt(c++))>255||(n=t.charCodeAt(c++))>255||(o=t.charCodeAt(c++))>255)throw TypeError("invalid character found");i+=rE[(e=r<<16|n<<8|o)>>18&63]+rE[e>>12&63]+rE[e>>6&63]+rE[63&e]}return a?i.slice(0,a-3)+"===".substring(a):i},rI=function(t){if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?rw(192|e>>>6)+rw(128|63&e):rw(224|e>>>12&15)+rw(128|e>>>6&63)+rw(128|63&e)}var r=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return rw(240|r>>>18&7)+rw(128|r>>>12&63)+rw(128|r>>>6&63)+rw(128|63&r)},rO=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,rT=function(t){return rb(t.replace(rO,rI)).replace(/=/g,"").replace(/[+\/]/g,function(t){return"+"===t?"-":"_"})},rN=function(t){return rT(JSON.stringify(t))};function rR(){rR=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(e,r,n,i){var a=Object._ttq_create((r&&r.prototype instanceof _?r:_).prototype);return o(a,"_invoke",{value:function(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var a=l(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var c=a.arg;return c?c.done?(n[r.resultName]=c.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):c:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=l(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}(e,n,new R(i||[]))}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",h="executing",d="completed",v={};function _(){}function y(){}function g(){}var m={};u(m,a,function(){return this});var w=Object.getPrototypeOf,E=w&&w(w(S([])));E&&E!==r&&n.call(E,a)&&(m=E);var b=g.prototype=_.prototype=Object._ttq_create(m);function I(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,c)})}c(s.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(typeof e+" is not iterable")}return y.prototype=g,o(b,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object._ttq_create(b),t},e.awrap=function(t){return{__await:t}},I(O.prototype),u(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(b),u(b,s,"Generator"),u(b,a,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=S,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:S(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function rS(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}var rP=function(){function t(t,e,r){this.httpService=t,this.bridgeService=e,this.reportPreTasks=r}var e,r,n=t.prototype;return n.pushPreposition=function(t){this.reportPreTasks.push(t)},n.report=(r=(e=rR().mark(function t(e,r,n,o){return rR().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve());case 1:case"end":return t.stop()}},t)}),function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(t){rS(i,n,o,a,c,"next",t)}function c(t){rS(i,n,o,a,c,"throw",t)}a(void 0)})}),function(t,e,n,o){return r.apply(this,arguments)}),t}();rP=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo()],rP);var rA=function(t,e){var r=new URL(t);return Object.keys(e).forEach(function(t){var n=e[t].toJSON?e[t].toJSON():String(e[t]);r.searchParams.set(t,n)}),r.toString()},rL=function(t){var e=Array(t.length),r=0;return new Promise(function(n,o){for(var i=function(o){var i=t[o];i&&"function"==typeof i.then?i.then(function(i){e[o]={status:"fulfilled",value:i},++r===t.length&&n(e)}).catch(function(i){e[o]={status:"rejected",reason:i},++r===t.length&&n(e)}):(e[o]={status:"fulfilled",value:i},++r===t.length&&n(e))},a=0;a<t.length;a++)i(a)})};(ac=a2||(a2={}))[ac.PENDING=0]="PENDING",ac[ac.FULFILLED=1]="FULFILLED";var rx=function(){function t(){this.promiseQueue=[],this.status=a2.FULFILLED}var e=t.prototype;return e.push=function(t){this.status=a2.PENDING,this.promiseQueue.push(t)},e.then=function(t){var e,r=this;if(this.status===a2.FULFILLED)return Promise.resolve(t());return(e=this.promiseQueue,"function"==typeof Promise.allSettled?Promise.allSettled(e):rL(e)).then(function(){return r.status=a2.FULFILLED,t()})},t}();function rC(){rC=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(e,r,n,i){var a=Object._ttq_create((r&&r.prototype instanceof _?r:_).prototype);return o(a,"_invoke",{value:function(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var a=l(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var c=a.arg;return c?c.done?(n[r.resultName]=c.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):c:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=l(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}(e,n,new R(i||[]))}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",h="executing",d="completed",v={};function _(){}function y(){}function g(){}var m={};u(m,a,function(){return this});var w=Object.getPrototypeOf,E=w&&w(w(S([])));E&&E!==r&&n.call(E,a)&&(m=E);var b=g.prototype=_.prototype=Object._ttq_create(m);function I(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,c)})}c(s.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(typeof e+" is not iterable")}return y.prototype=g,o(b,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object._ttq_create(b),t},e.awrap=function(t){return{__await:t}},I(O.prototype),u(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(b),u(b,s,"Generator"),u(b,a,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=S,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:S(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function rk(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function rD(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){rk(i,n,o,a,c,"next",t)}function c(t){rk(i,n,o,a,c,"throw",t)}a(void 0)})}}function rj(t,e){return(rj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var rM=function(t,e){return function(r,n){e(r,n,t)}},rF=function(t){function e(e,r,n,o){var i;return(i=t.call(this,e,r,new rx)||this).supportSendAnalyticsEvent=!0,i.consentService=n,i.consentService.on("queue",function(t){t.forEach(function(t){var e=t.url,r=t.data,n=t.type;i.report(e,r,n,a0.P0)})}),i.env=o,i}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,rj(r,n);var r,n,o,i,a,c=e.prototype;return c.send=(o=rD(rC().mark(function t(e,r,n){var o,i,a,c,s,u,f;return rC().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.bridgeService.jsbridge){t.next=2;break}return t.abrupt("return");case 2:return u=!!(s=r).context&&(null===(i=null===(o=s.context)||void 0===o?void 0:o.ad)||void 0===i?void 0:i.ad_info_status)==="timeout",f={},t.prev=5,t.next=8,this.bridgeService.send(s,u);case 8:if(!(!(f=t.sent)||1!==f.code)){t.next=11;break}throw Error("[fetch bridge] sendLog error: code "+(f&&f.code)+", data: "+(f&&JSON.stringify(f)));case 11:return z(s.event)&&P(ax.JSB_SEND,{pixelCode:null===(a=s.context.pixel)||void 0===a?void 0:a.code,app_name:tC()?"ultralite":"",extJSON:{event:s.event,event_id:s.event_id,need_inject_ad_info:u}}),t.abrupt("return",f);case 15:t.prev=15,t.t0=t.catch(5),z(s.event)&&A(ax.JSB_ERROR,t.t0,{pixelCode:null===(c=s.context.pixel)||void 0===c?void 0:c.code,custom_name:"sendReportData",custom_enum:f&&f.code?""+f.code:"non",app_name:tF()||"",extJSON:{position:"sendReportData"}}),tC()&&tS()&&this.sendHttpReport(e,s,n);case 19:case"end":return t.stop()}},t,this,[[5,15]])})),function(t,e,r){return o.apply(this,arguments)}),c.sendHttpReport=(i=rD(rC().mark(function t(e,r,n,o,i){var a;return rC().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===o&&(o=!0),t.next=3,this.httpService.send(e,r,i);case 3:!t.sent&&this.httpService.sendByImage(e,{analytics_message:n}),o&&P(ax.HTTP_SEND,{pixelCode:null===(a=r.context.pixel)||void 0===a?void 0:a.code,extJSON:{event:r.event,event_id:r.event_id}});case 6:case"end":return t.stop()}},t,this)})),function(t,e,r,n,o){return i.apply(this,arguments)}),c.beforeReport=function(t,e,r){void 0===r&&(r=a$.defaultReport);var n=this.consentService.getConsentMode();return n!==aH.REVOKE&&(n!==aH.HOLD||(this.consentService.cacheReportTask(t,e,r),!1))},c.report=(a=rD(rC().mark(function t(e,r,n,o){var i,a,c,s;return rC().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=a$.defaultReport),void 0===o&&(o=a0.P0),!(o!==a0.P0)){t.next=8;break}return t.next=5,tf(0);case 5:return t.next=7,this.report(e,r,n,a0.P0);case 7:case 15:return t.abrupt("return",t.sent);case 8:if(this.beforeReport(e,r,n)){t.next=11;break}return t.abrupt("return");case 11:if(i=rN(r),!(n===a$.defaultReport&&this.bridgeService.jsbridge)){t.next=16;break}return t.next=15,this.send(e,r,i);case 16:if(!(n===a$.httpReport&&this.bridgeService.jsbridge&&tT(this.env)&&!tx()&&this.supportSendAnalyticsEvent)){t.next=35;break}return a=e,t.prev=18,a=new URL(e).pathname,t.next=22,this.bridgeService.sendAnalyticsEvent({path:a,method:"POST",data:r});case 22:if(s=Error("sendAnalyticsEvent not support: code "+(c=t.sent)+", path: "+a+", data: "+JSON.stringify(r)),!(null==c||-2===c)){t.next=27;break}throw this.supportSendAnalyticsEvent=!1,s;case 27:if(1!==c){t.next=29;break}return t.abrupt("return");case 29:throw s;case 32:t.prev=32,t.t0=t.catch(18),A(ax.CUSTOM_ERROR,t.t0,{custom_name:"sendAnalyticsEvent",custom_enum:String(c)},!0);case 35:this.sendHttpReport(e,r,i,!!(z(r.event)&&te(r)),r.action?3:void 0);case 36:case"end":return t.stop()}},t,this,[[18,32]])})),function(t,e,r,n){return a.apply(this,arguments)}),c.reportFL=function(t){this.bridgeService.jsbridge&&this.bridgeService.updateWebFlData(t)},e}(rP);function rq(){rq=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(e,r,n,i){var a=Object._ttq_create((r&&r.prototype instanceof _?r:_).prototype);return o(a,"_invoke",{value:function(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var a=l(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var c=a.arg;return c?c.done?(n[r.resultName]=c.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):c:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=l(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}(e,n,new R(i||[]))}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",h="executing",d="completed",v={};function _(){}function y(){}function g(){}var m={};u(m,a,function(){return this});var w=Object.getPrototypeOf,E=w&&w(w(S([])));E&&E!==r&&n.call(E,a)&&(m=E);var b=g.prototype=_.prototype=Object._ttq_create(m);function I(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,c)})}c(s.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(typeof e+" is not iterable")}return y.prototype=g,o(b,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object._ttq_create(b),t},e.awrap=function(t){return{__await:t}},I(O.prototype),u(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(b),u(b,s,"Generator"),u(b,a,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=S,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:S(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function rU(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}rF=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),rM(0,ei(tJ.HTTP_SERVICE)),rM(1,ei(tJ.BRIDGE_SERVICE)),rM(2,ei(tJ.CONSENT_SERVICE)),rM(3,ei(tJ.ENV)),rM(3,ea())],rF);var rG=function(){function t(t){this.webBridgeService=t}var e,r,o=t.prototype;return o.getAdInfo=(r=(e=rq().mark(function t(e,r){var o,i,a;return rq().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=this.getAdInfoFromURL(e,r),!this.webBridgeService.jsbridge){t.next=7;break}return t.next=4,this.webBridgeService.getAdInfo();case 4:t.t0=t.sent,t.next=8;break;case 7:t.t0={};case 8:return i=t.t0,(a=Object.assign({},o,i))&&(a.creative_id&&a.log_extra||a.callback)&&eh(n,a),t.abrupt("return",a);case 12:case"end":return t.stop()}},t,this)}),function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(t){rU(i,n,o,a,c,"next",t)}function c(t){rU(i,n,o,a,c,"throw",t)}a(void 0)})}),function(t,e){return r.apply(this,arguments)}),o.getAdInfoFromURL=function(t,e){return eN(t,e)},t}();function rH(){rH=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(e,r,n,i){var a=Object._ttq_create((r&&r.prototype instanceof _?r:_).prototype);return o(a,"_invoke",{value:function(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var a=l(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var c=a.arg;return c?c.done?(n[r.resultName]=c.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):c:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=l(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}(e,n,new R(i||[]))}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",h="executing",d="completed",v={};function _(){}function y(){}function g(){}var m={};u(m,a,function(){return this});var w=Object.getPrototypeOf,E=w&&w(w(S([])));E&&E!==r&&n.call(E,a)&&(m=E);var b=g.prototype=_.prototype=Object._ttq_create(m);function I(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,c)})}c(s.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(typeof e+" is not iterable")}return y.prototype=g,o(b,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object._ttq_create(b),t},e.awrap=function(t){return{__await:t}},I(O.prototype),u(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(b),u(b,s,"Generator"),u(b,a,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=S,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:S(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function rV(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}rG=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),(as=0,au=ei(tJ.BRIDGE_SERVICE),function(t,e){au(t,e,0)})],rG);var rB=function(){function t(t){this.webBridgeService=t}var e,r,n=t.prototype;return n.getAppInfo=(r=(e=rH().mark(function t(e,r){var n,i,a,c;return rH().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.getAppInfoFromURL(e,r)).platform=tN(),!tS()){t.next=10;break}return t.next=5,tR();case 5:a=(i=t.sent).model,c=i.platformVersion,n.device_model=a,n.android_version=c;case 10:if("{}"!==JSON.stringify(n))eh(o,n);return t.abrupt("return",n);case 12:case"end":return t.stop()}},t,this)}),function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(t){rV(i,n,o,a,c,"next",t)}function c(t){rV(i,n,o,a,c,"throw",t)}a(void 0)})}),function(t,e){return r.apply(this,arguments)}),n.getAppInfoFromURL=function(t,e){try{var r=es(eT,t,e),n=r&&JSON.parse(r),o=n.device_id,i=n.uid;return{device_id:o,user_id:i}}catch(t){return{}}},t}();rB=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),(af=0,al=ei(tJ.BRIDGE_SERVICE),function(t,e){al(t,e,0)})],rB);var rY="ad_analytics_msg";function rW(){rW=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(e,r,n,i){var a=Object._ttq_create((r&&r.prototype instanceof _?r:_).prototype);return o(a,"_invoke",{value:function(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var a=l(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var c=a.arg;return c?c.done?(n[r.resultName]=c.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):c:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=l(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}(e,n,new R(i||[]))}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",h="executing",d="completed",v={};function _(){}function y(){}function g(){}var m={};u(m,a,function(){return this});var w=Object.getPrototypeOf,E=w&&w(w(S([])));E&&E!==r&&n.call(E,a)&&(m=E);var b=g.prototype=_.prototype=Object._ttq_create(m);function I(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,c)})}c(s.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(typeof e+" is not iterable")}return y.prototype=g,o(b,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object._ttq_create(b),t},e.awrap=function(t){return{__await:t}},I(O.prototype),u(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(b),u(b,s,"Generator"),u(b,a,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=S,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:S(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function rK(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function rJ(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){rK(i,n,o,a,c,"next",t)}function c(t){rK(i,n,o,a,c,"throw",t)}a(void 0)})}}var rX=function(t,e){return function(r,n){e(r,n,t)}},rQ=function(){function t(t,e){this.env=t,tO(this.env)&&(this.jsbridge=e),this.bridgeTimeout=400}var e,r,n,o,i,a,c,s=t.prototype;return s.getAdInfo=(e=rJ(rW().mark(function t(){var e=this;return rW().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.jsbridge){t.next=3;break}return A(ax.JSB_ERROR,Error("tt bridge error when getting ad info"),{extJSON:{position:"getAdInfo"}}),t.abrupt("return",Promise.resolve({}));case 3:return t.abrupt("return",new Promise(function(){var t=rJ(rW().mark(function t(r){var n;return rW().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.callAdInfo();case 3:(n=t.sent).ad_info_from="jsb",n.ad_info_status=n.ad_info_status||"fulfilled",r(n),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),r({}),A(ax.JSB_ERROR,t.t0,{extJSON:{position:"getAdInfo"}});case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()));case 4:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)}),s.callAdInfo=(r=rJ(rW().mark(function t(){var e,r;return rW().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.call("adInfo",{},tL()?3500:5e3);case 3:if((e=t.sent).data){t.next=6;break}return t.abrupt("return",Promise.reject("adInfo no data"));case 6:return r={creative_id:e.data.cid,log_extra:e.data.log_extra},t.abrupt("return",r);case 10:if(t.prev=10,t.t0=t.catch(0),"JSBRIDGE TIMEOUT"!==t.t0){t.next=17;break}return P(ax.CUSTOM_INFO,{custom_name:"ad_info_init_timeout"}),t.abrupt("return",{ad_info_status:"timeout"});case 17:return A(ax.JSB_ERROR,t.t0,{extJSON:{position:"getAdInfo"}}),t.abrupt("return",{});case 19:case"end":return t.stop()}},t,this,[[0,10]])})),function(){return r.apply(this,arguments)}),s.getAppInfo=(n=rJ(rW().mark(function t(){return rW().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve({}));case 1:case"end":return t.stop()}},t)})),function(){return n.apply(this,arguments)}),s.send=(o=rJ(rW().mark(function t(e,r){var n,o,i,a,c,s,u,f,l,p,h,d;return rW().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.jsbridge){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:return i=(null===(o=null===(n=null==e?void 0:e.context)||void 0===n?void 0:n.ad)||void 0===o?void 0:o.creative_id)||"0",a=rN(e),c=$(e)?"insight_log_monitor":"insight_log",s={analytics_message:a,trackLogData:JSON.stringify(e),category:"ad_analytics_msg",tag:rY,label:c},tx()&&(s.is_ad_event=1),l={eventName:rY,labelName:c,value:i,extValue:"0",extJson:s},"insight_log_monitor"===c&&tV(new Set([aL.MUSICAL_LY,aL.TRILL,aL.ULTRALITE]))?(f="x.reportAppLog",p={eventName:"insight_log_monitor",params:s},u=this.call("x.reportAppLog",p,this.bridgeTimeout)):tG()||$(e)?(f="sendLog",u=this.call("sendLog",l,this.bridgeTimeout)):tT(this.env)?tP()&&r?(h={eventName:c,params:s},f="sendLogWithAdInfo",u=this.call("sendLogWithAdInfo",h,this.bridgeTimeout)):(f="sendLog",u=this.call("sendLog",l,this.bridgeTimeout)):(d={event_name:c,version:2,properties:s},f="track_event",u=this.call("track_event",d,400)),setTimeout(function(){P(ax.CUSTOM_INFO,{custom_name:"send_report_data",extJSON:{api_name:f}})}),t.abrupt("return",u);case 11:case"end":return t.stop()}},t,this)})),function(t,e){return o.apply(this,arguments)}),s.call=(i=rJ(rW().mark(function t(e,r,n,o){var i=this;return rW().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r={}),void 0===n&&(n=400),void 0===o&&(o=!0),t.abrupt("return",new Promise(function(t,a){var c;if(!i.jsbridge){a("JSBRIDGE ERROR"),o&&A(ax.JSB_ERROR,Error("JSBRIDGE ERROR"),{extJSON:{position:"getCallPromise"}});return}n>0&&(c=window.setTimeout(function(){a("JSBRIDGE TIMEOUT"),o&&A(ax.JSB_ERROR,Error("JSBRIDGE TIMEOUT"),{extJSON:{position:"getCallPromise",method:e}})},n)),i.jsbridge&&i.jsbridge.call&&i.jsbridge.call(e,r,function(e){t(function(t,e){void 0===e&&(e=!0);var r,n={};try{if("string"==typeof t)n.data=JSON.parse(t);else{;if((r=t).code&&r.data&&r.ret?0:1){if(void 0!==t.code){var o=Object.assign({},t),i=o.code;n.code=i,delete o.code,o.data?n.data=o.data:n.data=o}else n.data=t}else(n=t).__data&&(n.data=n.__data)}}catch(t){e&&A(ax.JSB_ERROR,t,{extJSON:{position:"getCallPromise bridge.call"}})}return n}(e,o)),window.clearTimeout(c)})}));case 4:case"end":return t.stop()}},t)})),function(t,e,r,n){return i.apply(this,arguments)}),s.sendAnalyticsEvent=(a=rJ(rW().mark(function t(e){var r,n,o,i,a;return rW().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.method,n=e.path,o=e.params,i=e.data,t.next=3,this.call("sendAnalyticsEvent",{method:r,path:n,params:o,data:i,header:{"Content-Type":"application/json"}},0,!1);case 3:return a=t.sent,t.abrupt("return",null==a?void 0:a.code);case 5:case"end":return t.stop()}},t,this)})),function(t){return a.apply(this,arguments)}),s.updateWebFlData=(c=rJ(rW().mark(function t(e){return rW().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(tT(this.env)&&tP())){t.next=2;break}return t.abrupt("return",this.call("updateFLLocalConv",e,this.bridgeTimeout));case 2:case"end":return t.stop()}},t,this)})),function(t){return c.apply(this,arguments)}),t}();function rZ(){rZ=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(e,r,n,i){var a=Object._ttq_create((r&&r.prototype instanceof _?r:_).prototype);return o(a,"_invoke",{value:function(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var a=l(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var c=a.arg;return c?c.done?(n[r.resultName]=c.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):c:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=l(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}(e,n,new R(i||[]))}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",h="executing",d="completed",v={};function _(){}function y(){}function g(){}var m={};u(m,a,function(){return this});var w=Object.getPrototypeOf,E=w&&w(w(S([])));E&&E!==r&&n.call(E,a)&&(m=E);var b=g.prototype=_.prototype=Object._ttq_create(m);function I(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,c)})}c(s.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(typeof e+" is not iterable")}return y.prototype=g,o(b,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object._ttq_create(b),t},e.awrap=function(t){return{__await:t}},I(O.prototype),u(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(b),u(b,s,"Generator"),u(b,a,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=S,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:S(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function rz(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}rQ=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),rX(0,ei(tJ.ENV)),rX(0,ea()),rX(1,ei(tJ.JS_BRIDGE)),rX(1,ea())],rQ);var r$=function(){function t(){}var e,r,n=t.prototype;return n.send=(r=(e=rZ().mark(function t(e,r,n){var o;return rZ().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=0),t.prev=1,!(!navigator||!navigator.sendBeacon)){t.next=4;break}return t.abrupt("return",!1);case 4:if(!(!(o=navigator.sendBeacon(e,JSON.stringify(r)))&&"number"==typeof n&&n>0)){t.next=10;break}return n--,t.next=9,tf(200);case 9:return t.abrupt("return",this.send(e,r,n));case 10:return t.abrupt("return",o);case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",!1);case 16:case"end":return t.stop()}},t,this,[[1,13]])}),function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(t){rz(i,n,o,a,c,"next",t)}function c(t){rz(i,n,o,a,c,"throw",t)}a(void 0)})}),function(t,e,n){return r.apply(this,arguments)}),n.sendByImage=function(t,e){new Image().src=rA(t,e)},t}();function r0(){r0=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(e,r,n,i){var a=Object._ttq_create((r&&r.prototype instanceof _?r:_).prototype);return o(a,"_invoke",{value:function(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var a=l(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var c=a.arg;return c?c.done?(n[r.resultName]=c.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):c:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=l(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}(e,n,new R(i||[]))}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",h="executing",d="completed",v={};function _(){}function y(){}function g(){}var m={};u(m,a,function(){return this});var w=Object.getPrototypeOf,E=w&&w(w(S([])));E&&E!==r&&n.call(E,a)&&(m=E);var b=g.prototype=_.prototype=Object._ttq_create(m);function I(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,c)})}c(s.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(typeof e+" is not iterable")}return y.prototype=g,o(b,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object._ttq_create(b),t},e.awrap=function(t){return{__await:t}},I(O.prototype),u(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(b),u(b,s,"Generator"),u(b,a,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=S,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:S(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function r1(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}r$=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo()],r$);var r2=function(){function t(t){this.cookieExpireOption=eL(t)}var e,r,n=t.prototype;return n.genCookieID=function(){return to()},n.enableCookie=(r=(e=r0().mark(function t(){return r0().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ej(i,"1",this.cookieExpireOption),t.abrupt("return",eZ(tA()?"/static/enable_cookie.js":"https://analytics.tiktok.com/i18n/pixel/enable_cookie"));case 2:case"end":return t.stop()}},t,this)}),function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(t){r1(i,n,o,a,c,"next",t)}function c(t){r1(i,n,o,a,c,"throw",t)}a(void 0)})}),function(){return r.apply(this,arguments)}),n.enableFirstPartyCookie=function(t){if(!!t){ej(i,"1",this.cookieExpireOption);var e=this.getAnonymousId();this.setAnonymousId(e||this.genCookieID())}},n.disableCookie=function(){ej(i,"0",this.cookieExpireOption),ej(a,"",Object.assign(this.cookieExpireOption,{expires:-1})),eZ(tA()?"/static/disable_cookie.js":"https://analytics.tiktok.com/i18n/pixel/disable_cookie")},n.setAnonymousId=function(t){var e=this.getAnonymousId()||t;if(!!e)ej(a,e.split(".")[0],this.cookieExpireOption)},n.getAnonymousId=function(){return eD(a)||""},n.canUseCookie=function(){try{return"0"!==eD(i)}catch(t){}return!1},n.resetExpires=function(){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var t={taskName:window.ttq._pf_tn,functionName:"resetExpires",start:performance.now()}}catch(t){}var e=eD(i);e&&ej(i,e,this.cookieExpireOption);var r=this.getAnonymousId();r&&this.setAnonymousId(r);try{window.ttq&&window.ttq._ppf&&(t.end=performance.now(),window.ttq._ppf.push(t))}catch(t){}},t}();r2=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),(ap=0,ah=ei(tJ.TTQ_GLOBAL_OPTIONS),function(t,e){ah(t,e,0)})],r2),(ad=a3||(a3={}))[ad.P0=4]="P0",ad[ad.P1=3]="P1",ad[ad.P2=2]="P2",ad[ad.P3=1]="P3";function r3(t,e){return(r3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var r6="tt_hold_events",r5=function(t){function e(){var e;return e=t.apply(this,arguments)||this,e.consentMode=aH.UNKNOWN,e.queue=[],e.debounceUpdateCache=tu(function(){e.updateCache()},200,e),e.handleHistoryQueue=tr(function(){var t=el(r6);Array.isArray(t)&&(e.queue=e.queue.concat(t),e.changeQueueWithConsent())}),e}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,r3(r,n);var r,n,o=e.prototype;return o.on=function(e,r){t.prototype.on.call(this,e,r),this.handleHistoryQueue()},o.setConsentMode=function(t){this.consentMode=t,this.changeQueueWithConsent()},o.changeQueueWithConsent=function(){switch(this.consentMode){case aH.REVOKE:this.cleanQueue();break;case aH.GRANT:this.releaseQueue(),this.cleanQueue();case aH.HOLD:case aH.UNKNOWN:}},o.getConsentMode=function(){return this.consentMode},o.cacheReportTask=function(t,e,r){void 0===r&&(r=a$.defaultReport),this.queue.push({url:t,data:e,type:r}),this.debounceUpdateCache()},o.cleanQueue=function(){this.queue=[],ep(r6)},o.updateCache=function(){this.queue&&this.queue.length>0&&eh(r6,this.queue)},o.releaseQueue=function(){var t=this;this.queue.sort(function(e,r){return t.getEventPriority(r.data)-t.getEventPriority(e.data)}),this.emit("queue",this.queue)},o.getEventPriority=function(t){return t.event&&t.event.length>0?a3.P0:t.action&&t.action.length>0?a3.P1:""===t.event?a3.P2:a3.P3},e}(e3);r5=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo()],r5);var r8=function(){function t(t){var e=t.name,r=t.context,n=t.reporters;this.reporters=[],this.context=r,this.reporters=n,this.name=e}var e=t.prototype;return e.initStart=function(){},e.initEnd=function(){},e.adInfoInitStart=function(){},e.adInfoInitEnd=function(){},e.contextInitStart=function(){},e.contextInitEnd=function(){},e.pageUrlWillChange=function(t,e){},e.pageUrlDidChange=function(t,e){},e.pageDidLoad=function(){},e.pageWillLeave=function(t){},e.pixelSend=function(t,e,r,n,o){},e.pixelDidMount=function(t){},t}();r8=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo()],r8);function r4(t,e){return(r4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var r9=function(t){var e,r;function n(){return t.apply(this,arguments)||this}return e=n,r=t,e.prototype=Object._ttq_create(r.prototype),e.prototype.constructor=e,r4(e,r),n}(r8);function r7(t,e){return(r7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var nt=function(t,e){return function(r,n){e(r,n,t)}},ne=function(t){var e,r;function n(e,r){var n;return(n=t.call(this,{name:"Callback",reporters:r,context:e})||this).ttclidCookieValue="undefined"!=typeof document?eD(eO):"",n}return e=n,r=t,e.prototype=Object._ttq_create(r.prototype),e.prototype.constructor=e,r7(e,r),n.prototype.pixelDidMount=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e={taskName:window.ttq._pf_tn,functionName:"callback_plugin_pixelDidMount",start:performance.now()}}catch(t){}var r=eu(),n=es(eO,r.url,r.referrer);n&&this.ttclidCookieValue!==n&&eA(eO,n);try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e))}catch(t){}},n}(r9);ne=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),nt(0,ei(tJ.CONTEXT)),nt(1,ei(tJ.TTQ_REPORTERS))],ne);var nr={isHash:function(t){return!1},genIdentifierLabelByUserProperties:function(t){return{}}},nn={validatePhoneNumberLength:function(t){},parsePhoneNumberFromString:function(t){}},no={tryDecodeHashedBase64String:function(t){return null},tryDecodeHashedBase64Hex:function(t){return null}},ni={checkEmailFormat:function(t){return!1},checkMDNEmailFormat:function(t){return!1}},na=function(t){var e=t.parsePhoneNumberFromString,r=t.validatePhoneNumberLength;nn.parsePhoneNumberFromString=e,nn.validatePhoneNumberLength=r},nc=function(t){var e=t.isHash,r=t.genIdentifierLabelByUserProperties;nr.isHash=e,nr.genIdentifierLabelByUserProperties=r},ns=function(t){var e=t.tryDecodeHashedBase64String,r=t.tryDecodeHashedBase64Hex;no.tryDecodeHashedBase64String=e,no.tryDecodeHashedBase64Hex=r},nu=function(t){var e=t.checkEmailFormat,r=t.checkMDNEmailFormat;ni.checkEmailFormat=e,ni.checkMDNEmailFormat=r},nf=function(t){var e=t.parsePhoneNumberFromString,r=t.validatePhoneNumberLength,n=t.isHash,o=t.genIdentifierLabelByUserProperties,i=t.tryDecodeHashedBase64String,a=t.tryDecodeHashedBase64Hex,c=t.checkEmailFormat,s=t.checkMDNEmailFormat,u=t.sha256;nu({checkEmailFormat:c,checkMDNEmailFormat:s}),ns({tryDecodeHashedBase64String:i,tryDecodeHashedBase64Hex:a}),nc({isHash:n,genIdentifierLabelByUserProperties:o}),na({parsePhoneNumberFromString:e,validatePhoneNumberLength:r}),Z(u)},nl=function(t,e,r){void 0===e&&(e=""),void 0===r&&(r=nn.parsePhoneNumberFromString);var n=t,o=e?r(t,e):r(t);return o?n="86"===o.countryCallingCode?o.nationalNumber:o.number:t.replace(/[^0-9]/g,"").length>0&&(n=t.replace(/[^0-9]/g,"")),n},np=["(null)","","''\"",void 0,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855","eb045d78d273107348b0300c01d29b7552d622abbc6faf81b3ec55359aa9950c","not set",null,"6181738008c985a1b5f106b796c98e719efcc3c0ff68ddcd14a049825f4900a8","2a539d6520266b56c3b0c525b9e6128858baeccb5ee9b694a2906e123c8d6dd3","c6e52c372287175a895926604fa738a0ad279538a67371cd56909c7917e69ea1","None","74234e98afe7498fb5daf1f36ac2d78acc339464f950703b8c019892f982b90b","f24f02d3c35894296522abac8c4b2439b1c1b650e1fb4c97c0f3c50b580b0a3c","no","a683c5c5349f6f7fb903ba8a9e7e55d0ba1b8f03579f95be83f4954c33e81098","f18a2548c063c5a2b1560c6f2b9ec44bf9ed9017884404016d74f330119aaefe","449f06574cd639e1826848ff5d70ba95904574be84f34e61baa526d517dfb493","fcbcf165908dd18a9e49f7ff27810176db8e9f63b4352213741664245224f8aa","NA","bc857c49633bbc75644c51f36b16b2f768cc0ee13f65402ec7c32c96308272dd","42cbf37902c6911d7b4e371fe8f8708a0ceda6946249d4a3e23de8d5e60ae8b7"];function nh(t,e){return(nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var nd=function(t){function e(e){var r=e.name,n=e.context,o=e.reporters;return t.call(this,{name:r,reporters:o,context:n})||this}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,nh(r,n);var r,n,o=e.prototype;return o.setIdentifyUtils=function(t){var e=t.isHash,r=t.sha256,n=t.genIdentifierLabelByUserProperties,o=t.tryDecodeHashedBase64String,i=t.tryDecodeHashedBase64Hex,a=t.validatePhoneNumberLength,c=t.parsePhoneNumberFromString,s=t.checkEmailFormat,u=t.checkMDNEmailFormat,f=t.getCookieDeprecationLabel,l=t.getAllTopics;nf({isHash:e,sha256:r,genIdentifierLabelByUserProperties:n,tryDecodeHashedBase64String:o,tryDecodeHashedBase64Hex:i,validatePhoneNumberLength:a,parsePhoneNumberFromString:c,checkEmailFormat:s,checkMDNEmailFormat:u}),this.parsePhoneNumberFromString=c,this.checkMDNEmailFormat=u,this.checkEmailFormat=s,this.sha256=r,this.getCookieDeprecationLabel=void 0===f?function(){}:f,this.getAllTopics=void 0===l?function(){}:l},o.baseHandleUserProperties=function(t,e){var r=this;try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var n={taskName:window.ttq._pf_tn||"identify_encryption",functionName:window.ttq._pf_tn&&"identify_encryption",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="identify_encryption")}}catch(t){}if(!!t){var o=this.identifyParamsFormattedInfo(t),i=this.identifyParamsFormattedInfoV2(t),a=nr.genIdentifierLabelByUserProperties(e);this.handlePIIDiagnostics(i),Object.entries(t).forEach(function(e){var n=e[0],o=e[1],a=void 0===o?"":o;if(!!a){var c=String(a);if(["email","phone_number","sha256_email","sha256_phone_number"].includes(n)){var s=r.getUserDataFormatInfoV2KeyName(n),u=no.tryDecodeHashedBase64Hex(c);if(null!==u)t[n]=u,null!==s&&(i=r.updateUserDataFormatV2Label(s,aj.BASE64_HEX_HASHED,i));else{var f=no.tryDecodeHashedBase64String(c);f&&(t[n]=f,null!==s&&(i=r.updateUserDataFormatV2Label(s,aj.BASE64_STRING_HASHED,i)))}}switch("zip_code"===n&&c&&(nr.isHash(c)?i=r.updateUserDataFormatV2Label("zip_code",aj.ZIP_CODE_IS_HASHED,i):(i=r.updateUserDataFormatV2Label("zip_code",aj.ZIP_CODE_IS_NOT_HASHED,i),r.isZipFromUs(t)?(t.zip_code=r.sha256(r.truncateString(c,5)),i=r.updateUserDataFormatV2Label("zip_code",aj.ZIP_CODE_IS_US,i)):(t.zip_code=r.sha256(c),i=r.updateUserDataFormatV2Label("zip_code",aj.ZIP_CODE_IS_NOT_US,i)))),n){case"email":t.email=nr.isHash(c)&&!r.checkEmailFormat(c)?c:r.sha256(r.handleEmail(c));break;case"eb_email":t.eb_email=r.sha256(r.handleEmail(c));break;case"phone_number":t.phone_number=nr.isHash(c)?c:r.sha256(r.handlePhoneNumber(c));break;case"eb_phone_number":t.eb_phone_number=r.sha256(r.handlePhoneNumber(c));break;case"auto_email":t.auto_email=r.sha256(r.handleEmail(c));break;case"auto_phone_number":t.auto_phone_number=r.sha256(r.handlePhoneNumber(c));break;case"first_name":t.first_name=nr.isHash(c)?c:r.sha256(c);break;case"last_name":t.last_name=nr.isHash(c)?c:r.sha256(c);break;case"city":t.city=r.truncateString(c,80);break;case"state":t.state=r.truncateString(c,80);break;case"country":t.country=r.truncateString(c,80);break;default:return}}}),t.sha256_email&&(t.email=this.handleCheckHashedEmailValue(String(t.sha256_email),o)),t.sha256_phone_number&&(t.phone_number=this.handleCheckHashedPhoneValue(String(t.sha256_phone_number),o));try{window.ttq&&window.ttq._ppf&&(n.end=performance.now(),window.ttq._ppf.push(n),"identify_encryption"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}return{userProperties:t,userDataFormat:o,userDataFormatV2:i,identifierLabel:a}}},o.identifyParamsFormattedInfo=function(t){var e=this,r={},n=/^sha256_(.*)$/;return Object.entries(t).forEach(function(t){var o=t[0],i=t[1],a=String(void 0===i?"":i),c=o.match(n);switch(o){case"email":e.handleEmailFormat(a,o,r);break;case"phone_number":e.handlePhoneNumberFormat(a,"phone_number",r);break;case"auto_email":e.handleEmailFormat(a,"auto_email",r);break;case"auto_phone_number":e.handlePhoneNumberFormat(a,"auto_phone_number",r);break;case(c||{}).input:var s=null==c?void 0:c.pop();s&&U.includes(s)&&(r[s]=[aD.HASHED]);break;case"first_name":case"last_name":case"city":case"state":case"country":case"zip_code":case"partner_id":e.handleNewPiisFormat(a,o,r);break;default:r[o]=[aD.CORRECT_FORMAT]}}),r},o.identifyParamsFormattedInfoV2=function(t){var e=this,r={};return Object.entries(t).forEach(function(t){var n=t[0],o=t[1],i=String(void 0===o?"":o);switch(n){case"email":e.handlePixelValidation(i,G.EMAIL_IS_HASHED,r);break;case"phone_number":e.handlePixelValidation(i,G.PHONE_IS_HASHED,r);break;case"sha256_email":e.handlePixelValidation(i,G.SHA256_EMAIL,r);break;case"sha256_phone_number":e.handlePixelValidation(i,G.SHA256_PHONE,r);break;case"first_name":case"last_name":case"city":case"state":case"country":case"zip_code":case"partner_id":break;default:r[n]=[aj.UNKNOWN_INVALID]}}),r},o.updateUserDataFormatV2Label=function(t,e,r){var n,o;return(null===r[t]||void 0===r[t]||(null===(n=r[t])||void 0===n?void 0:n.includes(aj.UNKNOWN_INVALID)))&&(r[t]=[]),null===(o=r[t])||void 0===o||o.push(e),r},o.getUserDataFormatInfoV2KeyName=function(t){return({email:"email_is_hashed",phone_number:"phone_is_hashed",sha256_email:"sha256_email",sha256_phone_number:"sha256_phone",zip_code:"zip_code"})[t]||null},o.handlePIIDiagnostics=function(t){},o.handleEmail=function(t){return t.toLowerCase()},o.handlePhoneNumber=function(t,e){return void 0===e&&(e=this.parsePhoneNumberFromString),nl(t,"",e)},o.handleCheckHashedEmailValue=function(t,e,r){return(void 0===r&&(r=this.checkEmailFormat),e.email=e.email||[],nr.isHash(t))?(null==e||e.email.push(aD.HASHED_CORRECT),t):r(t)?(null==e||e.email.push(aD.PLAINTEXT_EMAIL),this.sha256(this.handleEmail(String(t)))):(null==e||e.email.push(aD.HASHED_ERR),this.sha256(t))},o.handleCheckHashedPhoneValue=function(t,e,r){return(void 0===r&&(r=this.parsePhoneNumberFromString),e.phone_number=e.phone_number||[],nr.isHash(t))?(null==e||e.phone_number.push(aD.HASHED_CORRECT),t):r(t)?(e.phone_number.push(aD.PLAINTEXT_PHONE),this.sha256(this.handlePhoneNumber(String(t),r))):(null==e||e.phone_number.push(aD.HASHED_ERR),this.sha256(t))},o.handlePixelValidation=function(t,e,r){r[e]=[],np.includes(t)&&r[e].push(aj.FILTER_EVENTS),t&&nr.isHash(t)&&r[e].push(aj.HASHED),t&&this.checkEmailFormat(t)&&r[e].push(aj.PLAIN_EMAIL),t&&this.checkMDNEmailFormat(t)&&r[e].push(aj.PLAIN_MDN_EMAIL),t&&this.parsePhoneNumberFromString(t)&&r[e].push(aj.PLAIN_PHONE),t&&0===r[e].length&&r[e].push(aj.UNKNOWN_INVALID)},o.isZipFromUs=function(t){var e;return(null===(e=t.country)||void 0===e?void 0:e.toLowerCase())==="us"},o.truncateString=function(t,e){var r=Array.from(t);return r.length<=e?t:r.slice(0,e).join("")},o.handlePhoneNumberFormat=function(t,e,r){var n=this.handleCheckPhoneNumber(String(t),this.parsePhoneNumberFromString);r[e]=n},o.handleCheckPhoneNumber=function(t,e){void 0===e&&(e=this.parsePhoneNumberFromString);var r=[];return t?nr.isHash(t)?(r.push(aD.HASHED),r):e(t)?(r.push(aD.CORRECT_FORMAT),r):(r.push(aD.WRONG_FORMAT),r):(r.push(aD.EMPTY_VALUE),r)},o.handleCheckEmail=function(t,e){void 0===e&&(e=this.checkEmailFormat);var r=[];return t?nr.isHash(t)?(r.push(aD.HASHED),r):e(t)?(r.push(aD.CORRECT_FORMAT),r):(r.push(aD.WRONG_FORMAT),r):(r.push(aD.EMPTY_VALUE),r)},o.handleEmailFormat=function(t,e,r){var n=this.handleCheckEmail(String(t),this.checkEmailFormat);!(r&&r[e]&&(r[e]||[]).includes(aD.HASHED))&&(r[e]=n)},o.handleNewPiisFormat=function(t,e,r){t&&(r[e]=[aD.CORRECT_FORMAT])},e}(r9);function nv(){nv=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(e,r,n,i){var a=Object._ttq_create((r&&r.prototype instanceof _?r:_).prototype);return o(a,"_invoke",{value:function(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var a=l(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var c=a.arg;return c?c.done?(n[r.resultName]=c.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):c:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=l(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}(e,n,new R(i||[]))}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",h="executing",d="completed",v={};function _(){}function y(){}function g(){}var m={};u(m,a,function(){return this});var w=Object.getPrototypeOf,E=w&&w(w(S([])));E&&E!==r&&n.call(E,a)&&(m=E);var b=g.prototype=_.prototype=Object._ttq_create(m);function I(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,c)})}c(s.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(typeof e+" is not iterable")}return y.prototype=g,o(b,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object._ttq_create(b),t},e.awrap=function(t){return{__await:t}},I(O.prototype),u(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(b),u(b,s,"Generator"),u(b,a,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=S,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:S(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function n_(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function ny(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){n_(i,n,o,a,c,"next",t)}function c(t){n_(i,n,o,a,c,"throw",t)}a(void 0)})}}function ng(t,e){return(ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var nm=function(t,e){return function(r,n){e(r,n,t)}},nw=function(t){function e(e,r){var n;return(n=t.call(this,{name:"Identify",reporters:r,context:e})||this).init(),n}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,ng(r,n);var r,n,o,i,a=e.prototype;return a.init=function(){var t=this;return this.pluginPromise?this.pluginPromise:(P(ax.IDENTIFY_INIT_START),this.pluginPromise=eZ(tA()?"/static/identify.js":"https://analytics.tiktok.com/i18n/pixel/static/identify_0080b357.js").then(function(){t.detectTopics(),P(ax.IDENTIFY_INIT_END)}).catch(function(){var t=Error("Loading chunk identify failed.\n(error: "+window.location.host+"/static/identify.js)");return t.name="ChunkLoadError",Promise.reject(t)}),this.pluginPromise)},a.handleUserProperties=(o=ny(nv().mark(function t(e,r){return nv().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.next=4,this.init();case 4:return t.abrupt("return",this.baseHandleUserProperties(e,r));case 5:case"end":return t.stop()}},t,this)})),function(t,e){return o.apply(this,arguments)}),a.handlePIIDiagnostics=function(t){try{var e=t.email_is_hashed,r=void 0===e?[]:e,n=t.sha256_email,o=void 0===n?[]:n,i=t.phone_is_hashed,a=void 0===i?[]:i,c=t.sha256_phone,s=void 0===c?[]:c;if(r.includes(aj.UNKNOWN_INVALID)||o.includes(aj.UNKNOWN_INVALID)){L(aX.INVALID_EMAIL_FORMAT);return}if(a.includes(aj.UNKNOWN_INVALID)||s.includes(aj.UNKNOWN_INVALID)){L(aX.INVALID_PHONE_NUMBER_FORMAT);return}if(r.includes(aj.FILTER_EVENTS)||o.includes(aj.FILTER_EVENTS)){L(aX.INVALID_EMAIL_INFORMATION);return}if(a.includes(aj.FILTER_EVENTS)||s.includes(aj.FILTER_EVENTS)){L(aX.INVALID_PHONE_NUMBER_INFORMATION);return}}catch(t){}},a.detectTopics=(i=ny(nv().mark(function t(){var e,r;return nv().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getCookieDeprecationLabel();case 3:return e=t.sent,t.next=6,this.getAllTopics();case 6:(r=t.sent)&&P(ax.CUSTOM_INFO,{custom_name:"topics",extJSON:{cookie_label:String(e),stack:r.toString()}}),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}},t,this,[[0,10]])})),function(){return i.apply(this,arguments)}),e}(nd);nw=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),nm(0,ei(tJ.CONTEXT)),nm(1,ei(tJ.TTQ_REPORTERS))],nw);function nE(t,e){return(nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var nb=function(t,e){return function(r,n){e(r,n,t)}},nI=function(t){function e(e,r,n,o){var i;return(i=t.call(this,{name:"WebFL",reporters:r,context:e})||this).reportService=n,i.ttqOptions=o,i.useExchangeRate=o.usd_exchange_rate,i}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,nE(r,n);var r,n,o=e.prototype;return o.pixelSend=function(t,e,r){var n,o;(null===(o=null===(n=this.ttqOptions)||void 0===n?void 0:n.plugins)||void 0===o?void 0:o.WebFL)&&r&&this.reportFlConv(r)},o.reportFlConv=function(t){if(!!t&&"Pageview"!==t.event){var e,r,n,o,i,a=t.context,c=t.properties,s=void 0===c?{}:c,u=void 0!==a.ad.log_extra?a.ad.log_extra:"{}";try{i=JSON.parse(u)}catch(t){i={}}var f={req_id:i.req_id||"",cid:a.ad.creative_id||"",value:s.value||"",currency:s.currency||"",raw:Object.assign({},s)},l=s.value,p=s.currency,h=this.useExchangeRate||null;var d=(e=l,r=p,n=h,isNaN(e)||e<0||null===n||!n[r]?"":(e/n[r]*1e5).toFixed(0)),v=a.pixel?a.pixel.code:"";d&&(f.usd_value=d,P(ax.CUSTOM_INFO,{pixelCode:v,custom_name:"odfl_rate_exchange",extJSON:{message_id:t.message_id,cid:f.cid,event:t.event,value:l,currency:p,usdValue:d}}));var _={business:"devicefl_join_label",entrance:"app_to_web_conversion",inputParams:{message_id:t.message_id,event:t.event,event_props:f,event_source_id:null===(o=a.pixel)||void 0===o?void 0:o.code,event_source_type:"web"}};this.reportService&&this.reportService.reportFL&&(this.reportService.reportFL(_),P(ax.CUSTOM_INFO,{pixelCode:v,custom_name:"fl_jsb_report",extJSON:{message_id:t.message_id,cid:f.cid,event:t.event}}))}},e}(r9);nI=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),nb(0,ei(tJ.CONTEXT)),nb(1,ei(tJ.TTQ_REPORTERS)),nb(2,ei(tJ.REPORT_SERVICE)),nb(3,ei(tJ.TTQ_GLOBAL_OPTIONS))],nI),(av=a6||(a6={})).ERROR_FORMAT="error_format",av.OVER_LENGTH="over_length_3e4",av.FILTER_SENSITIVE_FIELDS="filter_sensitive_fields";var nO="form_detail_error";(a_=a5||(a5={})).GET_ELEMENTS_ERROR="get_elements_error",a_.INIT_ERROR="init_error",a_.ASSEMBLE_FORM_DETAIL_ERROR="assemble_form_detail_error",a_.DETECT_FORM_ELEMENT_ERROR="detect_form_element_error",a_.GET_OVERALL_FORM_DETAIL_ERROR="get_overall_form_detail_error",a_.FORM_OBSERVER_ERROR="form_observer_error",a_.OVER_LENGTH="over_length_3e4",(ay=a8||(a8={})).METADATA="Metadata",ay.CLICK="Click",(ag=a4||(a4={})).AUTO_COLLECTION="AUTO_COLLECTION",ag.AUTO_FORM="AUTO_FORM",ag.AUTO_CLICK="AUTO_CLICK",ag.AUTO_VC="AUTO_VC",ag.AUTO_VC_REVERSE="AUTO_VC_REVERSE",(am=a9||(a9={})).AUTO_FORM="form_rules",am.AUTO_VC="vc_rules",am.AUTO_VC_REVERSE="vc_rules_reverse",(aw=a7||(a7={})).PAGE_LEAVE="PageLeave",aw.PAGE_VIEW="PageView",aw.DOM_CHANGE="DomChange",aw.URL_CHANGE="UrlChange",aw.CLICK="Click",aw.SCROLL="Scroll";var nT=["AnatomicalStructure","AnatomicalSystem","ApprovedIndication","ArriveAction","Artery","BioChemEntity","BloodTest","Bone","BorrowAction","BrainStructure","BrokerageAccount","CDCPMDRecord","ChemicalSubstance","CovidTestingFacility","DDxElement","DepartAction","DepositAccount","DiagnosticLab","DiagnosticProcedure","Diet","DietarySupplement","DoseSchedule","ElementarySchool","HighSchool","ExercisePlan","Gene","GovernmentBenefitsType","GovernmentService","HealthAspectEnumeration","HealthInsurancePlan","HealthPlanCostSharingSpecification","HealthTopicContent","Hospital","ImagingTest","InfectiousAgentClass","InvestmentFund","InvestmentOrDeposit","Invoice","Joint","LendAction","LifestyleModification","Ligament","LoanOrCredit","LymphaticVessel","MaximumDoseSchedule","MedicalAudience","MedicalAudienceType","MedicalCause","MedicalCode","MedicalCondition","MedicalConditionStage","MedicalContraindication","MedicalDevice","MedicalEntity","MedicalEvidenceLevel","MedicalGuidelineContraindication","MedicalIndication","MedicalIntangible","MedicalObservationalStudy","MedicalOrganization","MedicalProcedure","MedicalProcedureType","MedicalRiskCalculator","MedicalRiskFactor","MedicalRiskScore","MedicalSign","MedicalSignOrSymptom","MedicalStudy","MedicalSymptom","MedicalTest","MedicalTestPanel","MedicalTherapy","MedicalTrial","MiddleSchool","MoneyTransfer","Muscle","Nerve","OccupationalTherapy","Order","PalliativeProcedure","ParentAudience","PathologyTest","Patient","PeopleAudience","Person","Pharmacy","PhysicalActivity","PhysicalTherapy","Physician","PoliticalParty","Preschool","PreventionIndication","Protein","PsychologicalTreatment","RadiationTherapy","RecommendedDoseSchedule","ReportedDoseSchedule","School","Substance","SuperficialAnatomy","SurgicalProcedure","Text","TherapeuticProcedure","TreatmentIndication","URL","Vein","Vessel","VitalSign","WorkersUnion"];function nN(t){return/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi.test(t)||/(\+?0?86-?)?1[3-9]\d{9}/g.test(t)||/(\+\d{1,2}\s?)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}/g.test(t)||/^[\-!$><-==&_\/\?\.,0-9:; \]\[%~\"\{\}\)\(\+\@\^\`]/g.test(t)||nT.some(function(e){return t.toLowerCase().indexOf(e.toLowerCase())>-1})}var nR=function t(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return"";if(e===document.documentElement)return"/HTML";for(var r=1,n=e.previousSibling;n;)n.nodeType===Node.ELEMENT_NODE&&n.tagName===e.tagName&&r++,n=n.previousSibling;var o=e.tagName.toLowerCase();return t(e.parentNode)+"/"+o+"["+r+"]"};function nS(t){return nR(t)}function nP(t,e){return function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];window.requestIdleCallback&&window.requestIdleCallback(t.bind.apply(t,[e].concat(n))),t.apply(e,n)}}function nA(t){var e=t.options,r=t.plugins;return e&&!1!==e.autoConfig&&r&&r[oJ]}function nL(t,e){if(!a9[e])return!0;var r=t.plugins;return e===a4.AUTO_VC_REVERSE?nA(t)&&r[oJ]&&!r[oJ][a9.AUTO_VC]:nA(t)&&r[oJ]&&r[oJ][a9[e]]}var nx=function(t){var e=t.parentNode,r=0,n=!1;try{n=td(t)}catch(e){A(ax.CUSTOM_ERROR,e,{custom_name:"button_check_error",custom_enum:"auto_click",extJSON:{element:t}}),n=!1}if(n)return t;for(;r<5&&e&&e!==document;){var o=!1;try{o=td(e)}catch(e){A(ax.CUSTOM_ERROR,e,{custom_name:"button_check_error",custom_enum:"auto_click",extJSON:{element:t}}),o=!1}if(o)return e;e=e.parentNode,r++}return t},nC=function t(e){for(var r=0,n=e.children,o=0;o<n.length;o++){var i=n[o],a=!1;try{a=td(i)}catch(t){A(ax.CUSTOM_ERROR,t,{custom_name:"button_check_error",custom_enum:"auto_click",extJSON:{element:i}}),a=!1}a&&r++,r+=t(i)}return r},nk=function(t){var e,r,n,o,i="";if("A"===t.tagName.toUpperCase())i=null!==(e=t.getAttribute("href"))&&void 0!==e?e:"";else if("BUTTON"===t.tagName.toUpperCase()){var a=null!==(r=t.getAttribute("onclick"))&&void 0!==r?r:"",c=null!==(n=t.getAttribute("formaction"))&&void 0!==n?n:"",s=a.match(/^.*=(['"])(.*)\1.*$/);c?i=c:s&&(i=s[2])}else"FORM"===t.tagName.toUpperCase()&&(i=null!==(o=t.getAttribute("action"))&&void 0!==o?o:"");return i},nD=function(t,e){void 0===e&&(e=!0);for(var r,n,o,i,a,c,s,u=t.attributes,f={type:"",value:"",name:"",class:"",dataset:"",id:"",tag:"",destination:"",xpath:"",inner_text:"",image_url:"",num_child_buttons:0},l=0;l<u.length;l++){var p=u[l];f[p.name]=p.value}var h=t.dataset;f.dataset=JSON.stringify(h),f.id=null!==(r=t.id)&&void 0!==r?r:"",f.class=null!==(n=t.className)&&void 0!==n?n:"",f.tag=t.tagName,f.destination=nk(t),f.name=null!==(o=t.getAttribute("name"))&&void 0!==o?o:"",f.value=null!==(i=t.getAttribute("value"))&&void 0!==i?i:"",f.type=null!==(a=t.getAttribute("type"))&&void 0!==a?a:"";var d=t.getBoundingClientRect();f.rect=d;try{f.xpath=nR(t)}catch(e){f.xpath="",A(ax.CUSTOM_ERROR,e,{custom_name:"button_check_error",custom_enum:"auto_click",extJSON:{element:t}})}return f.inner_text=null!==(c=t.innerText)&&void 0!==c?c:"",f.image_url=null!==(s=t.getAttribute("src"))&&void 0!==s?s:"",f.num_child_buttons=e?nC(t):0,f},nj=function(t){var e=t.tag,r=t.class,n=t.destination,o=t.id,i=t.name,a=t.type,c=t.value,s=t.rect,u=t.xpath,f=t.inner_text,l=t.image_url,p={tag:e,attributes:{},inner_text:f,xpath:u,num_child_buttons:t.num_child_buttons,timestamp:new Date().toISOString(),position:s?{x:s.x,y:s.y}:{x:"",y:""}};return r&&(p.attributes.class=r),n&&(p.attributes.destination=n),o&&(p.attributes.id=o),i&&(p.attributes.name=i),a&&(p.attributes.type=a),c&&(p.attributes.value=c),l&&(p.image_url=l),p},nM={getMicroData:!0,getJSONLD:!0,getOpenGraph:!0,getMetaData:!0};function nF(t,e){return(void 0===e&&(e=500),"string"!=typeof t)?"":(t=t.trim()).length<e?t:t.slice(0,500)}function nq(t){return void 0===t&&(t=[]),{items:t,has:function(t){return this.items.some(function(e){return e===t})},add:function(t){!this.has(t)&&this.items.push(t)}}}function nU(t,e){if("object"!=typeof t)return t;if(Array.isArray(t))return t.map(function(t){return nU(t,e)});var r={};for(var n in t)!function(t,e){return!!e&&!!(e.length>0)&&e.some(function(e){return t.toLowerCase()===e.toLowerCase()})}(n,e)&&(r[n]=nU(t[n],e));return r}function nG(t){return Array.isArray(t)?t.some(function(t){return nG(t)}):"string"==typeof t&&(t=t.toLowerCase().replace(/https?:\/\/schema\.org\//,""),nT.some(function(e){return t===e.toLowerCase()}))}var nH=["form","[id*=form], [class*=form]"],nV=["label"],nB=["input,select,textarea"],nY=["radio","checkbox"],nW=["hidden","reset","submit","password"];function nK(t,e){try{for(var r=0;r<t.length;r++){var n=e.querySelectorAll(t[r]);if(n&&n.length>0)return Array.from(n)}return[]}catch(t){return A(ax.CUSTOM_ERROR,t,{custom_name:nO,custom_enum:a5.GET_ELEMENTS_ERROR}),[]}}(aE=ct||(ct={}))[aE.CONTAIN=0]="CONTAIN",aE[aE.ID=1]="ID",aE[aE.SELECTOR=2]="SELECTOR";function nJ(t){var e="";return!function t(r){for(;r;)r.nodeType===Node.TEXT_NODE?e+=r.textContent:"SELECT"!==r.nodeName&&r.firstChild&&t(r.firstChild),r=r.nextSibling}(t.firstChild),e.replace(/[\t\n]/g,"").trim()}function nX(t){if(!t)return!1;var e=window.getComputedStyle(t);return!("none"===e.display||"visible"!==e.visibility||function t(e){return!(!e||e.isSameNode(document.body)||e.isSameNode(document))&&("0"==window.getComputedStyle(e).opacity||t(e.parentElement))}(t))&&(0!==t.offsetWidth||0!==t.offsetHeight)}function nQ(t){var e=t.getAttribute("type");return!!e&&nW.indexOf(e)>-1}function nZ(t){return t&&nN(t)?"__Text__":t}var nz=function(){function t(t){this.formUpdateHandlers=[],this.answerMap={},this.rules=this.getRules(t),this.init()}var e=t.prototype;return e.getRules=function(t){var e=t.plugins&&t.plugins.AutoConfig;return e&&e[a9.AUTO_FORM]},e.init=function(){var t=this;try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e={taskName:window.ttq._pf_tn,functionName:"initAutoForm_init",start:performance.now()}}catch(t){}try{this.forms=this.detectFormElement(),this.forms&&this.forms.forEach(function(e){e.formDetail=t.assembleFormDetail(e),t.startFormObserver(e,t.formUpdateHandlers)})}catch(t){A(ax.CUSTOM_ERROR,t,{custom_name:nO,custom_enum:a5.INIT_ERROR})}try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e))}catch(t){}},e.getOverallFormDetail=function(){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var t={taskName:window.ttq._pf_tn,functionName:"initAutoForm_getOverallFormDetail",start:performance.now()}}catch(t){}var e="[]";try{this.forms&&this.forms.length>0&&(this.forms.some(function(t){var e=t.el;return!document.body.contains(e)})&&this.init(),e=JSON.stringify(this.forms.map(function(t){return t.formDetail}).filter(function(t){return t})))}catch(t){A(ax.CUSTOM_ERROR,t,{custom_name:nO,custom_enum:a5.GET_OVERALL_FORM_DETAIL_ERROR})}try{window.ttq&&window.ttq._ppf&&(t.end=performance.now(),window.ttq._ppf.push(t))}catch(t){}return e},e.addFormUpdateHandler=function(t){this.formUpdateHandlers.push(t)},e.startFormObserver=function(t,e){var r=this;try{var n=tu(function(){var n,o,i=r.assembleFormDetail(t);if(!t.formDetail||i&&(n=i,o=t.formDetail,Object.keys(function t(e,r){var n={};for(var o in e)if(e.hasOwnProperty(o)&&!r.hasOwnProperty(o))n[o]=e[o];else if(e.hasOwnProperty(o)&&r.hasOwnProperty(o)&&e[o]!==r[o]){if("object"==typeof e[o]&&"object"==typeof r[o]){var i=t(e[o],r[o]);Object.keys(i).length>0&&(n[o]=i)}else n[o]=e[o]}for(var a in r)r.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(n[a]=r[a]);return n}(n,o)).length>0))t.formDetail=i,e.forEach(function(e){return e.call(r,t.formDetail)})},2e3,this);if(t.el.parentNode){var o=t.el.parentNode;this.observer&&this.observer.disconnect(),this.observer=new MutationObserver(n),this.observer.observe(o,{attributes:!0,childList:!0,subtree:!0}),o.addEventListener("click",n,{capture:!0})}}catch(t){A(ax.CUSTOM_ERROR,t,{custom_name:nO,custom_enum:a5.FORM_OBSERVER_ERROR})}},e.detectFormElement=function(){try{var t,e,r=[0,0,0];var n=(t=this.rules,(e=nK(t||nH,document)).filter(function(t){return!e.some(function(e){return e.contains(t)&&e!==t})}));if(!n)return[];var o=n.map(function(t){return{el:t,questions:[]}});return o.forEach(function(t){var e,n,o=(e=t.el,nK(nV,e)),i=new Set([]);o.forEach(function(e){var n=function(t,e){var r,n=nK(nB,t);if(n&&n.length)return{els:n,from:ct.CONTAIN};var o=t.getAttribute("for");if(o){;if(n=nK(["input[id='"+(r=o)+"'],select[id='"+r+"'],textarea[id='"+r+"']"],e))return{els:n,from:ct.ID}}return!1}(e,t.el);if(n){var o=n.els,a=n.from,c=o.filter(function(t){return!nQ(t)}).map(function(t){return i.add(t),{el:t,from:a}});c&&c.length&&(r[a]=1,t.questions.push({el:e,answers:c}))}}),(n=t.el,nK(nB,n)).filter(function(t){return!nQ(t)}).forEach(function(e){if(!i.has(e)){r[ct.SELECTOR]=1;var n,o,a=(n=e,o=t.el,function t(e){return null==e||e.isSameNode(o)?o:nJ(e).length>0?e:t(e.parentNode)}(n.parentNode));t.questions.push({el:a,answers:[{el:e,from:ct.SELECTOR}]})}})}),P(ax.CUSTOM_INFO,{custom_name:"form_detail_answer_from",custom_enum:r.join("")}),o}catch(t){return A(ax.CUSTOM_ERROR,t,{custom_name:nO,custom_enum:a5.DETECT_FORM_ELEMENT_ERROR}),[]}},e.calculateQuestionFilledTime=function(t){var e=t.el,r=t.answers,n=nR(e),o=r.reduce(function(t,e){var r=e.el,n=r.getAttribute("type");return n&&nY.indexOf(n.toLowerCase())>-1?t+","+r.checked:t+","+r.value},"");!this.answerMap[n]&&(this.answerMap[n]={defaultValue:o,value:o});var i=this.answerMap[n],a=i.defaultValue,c=i.filledTime;if(this.answerMap[n].value=o,a===o){delete this.answerMap[n].filledTime;return}return c||(this.answerMap[n].filledTime=+new Date)},e.assembleFormDetail=function(t){var e=this,r=t.el,n=t.questions;try{var o,i={xpath:(o=r,nR(o)),id:r.id,name:nZ(r.getAttribute("name")),tag:r.tagName.toLowerCase(),class_name:r.className,questions:[],width:r.offsetWidth,height:r.offsetHeight,is_visible:nX(r)};return i.questions=n.map(function(t){var r,n=t.el,o=t.answers;var i={xpath:(r=n,nR(r)),id:n.id,name:nZ(nJ(n)),tag:n.tagName.toLowerCase(),class_name:n.className,filled_time:e.calculateQuestionFilledTime(t),answers:[],width:n.offsetWidth,height:n.offsetHeight,is_visible:nX(n)};return o.forEach(function(t){var e,r=t.el,n=t.from;if(r&&"SELECT"===r.tagName.toUpperCase())i.answers=i.answers.concat(Array.from(r.querySelectorAll("option")).map(function(t){var e;return{xpath:(e=t,nR(e)),id:t.id,name:nZ(t.value||t.innerText),tag:t.tagName.toLowerCase(),class_name:t.className,from:n,width:t.offsetWidth,height:t.offsetHeight,is_visible:nX(r)}}));else{;i.answers.push({xpath:(e=r,nR(e)),id:r.id,name:nZ(r.getAttribute("name")),tag:r.tagName.toLowerCase(),class_name:r.className,input_type:r.getAttribute("type"),placeholder:nZ(r.getAttribute("placeholder")),from:n,width:r.offsetWidth,height:r.offsetHeight,is_visible:nX(r)})}}),i}),i}catch(t){A(ax.CUSTOM_ERROR,t,{custom_name:nO,custom_enum:a5.ASSEMBLE_FORM_DETAIL_ERROR});return}},t}(),n$=["United States","US","Canada","CA","Australia","AU","Mexico","MX","Argentina","AR","Chile","CL","Colombia","CO","Fiji","FJ","Liberia","LR","Namibia","NA","New Zealand","NZ","Singapore","SG","Solomon Islands","SB","Suriname","SR","South Africa","ZA","Barbados","BB","Belize","BZ","Cuba","CU","Dominican Republic","DO","Guyana","GY","Jamaica","JM","Cayman Islands","KY","Trinidad and Tobago","TT","Tuvalu","TV","Zimbabwe","ZW","United Kingdom","GB","Egypt","EG","Falkland Islands","FK","Gibraltar","GI","Guernsey","GG","Isle of Man","IM","Jersey","JE","Lebanon","LB","Saint Helena","SH","Syria","SY","Sudan","SD","Japan","JP","China","CN","Japan","JP","CN","South Korea","KR","Philippines","PH","Cuba","CU","Sweden","SE","Norway","NO","Denmark","DK","Iceland","IS","Costa Rica","CR","El Salvador","SV","Bolivia","BO","Venezuela","VE","Bahamas","BS","Brunei","BN","Ethiopia","ET","Eritrea","ER","Iran","IR","Oman","OM","Qatar","QA","Saudi Arabia","SA","Yemen","YE","Bulgaria","BG","Kyrgyzstan","KG","Central African CFA franc zone","XAF","West African CFA franc zone","XOF"].map(function(t){return t.toUpperCase()}),n0=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTC","BTN","BWP","BYN","BYR","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNH","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ERN","ETB","ETH","EUR","FJD","FKP","GBP","GEL","GGP","GHC","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","IMP","INR","IQD","IRR","ISK","JEP","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTC","LTL","LVL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RMB","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRL","TRY","TTD","TVD","TWD","TZS","UAH","UGX","USD","UYI","UYU","UYW","UZS","VEF","VES","VND","VUV","WST","XAF","XBT","XCD","XOF","XPF","XSU","XUA","YER","ZAR","ZMW","ZWD","ZWL"];function n1(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n2(t,e);var r=({}).toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n2(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n2(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var n3=["firstidxpath","absolutexpath","threeleveltagclassxpath"],n6=["modelxpath"],n5=function(t,e){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var r={taskName:window.ttq._pf_tn,functionName:"updateParameterInferenceData",start:performance.now()}}catch(t){}try{var n=t.getPageInfo(),o=or(n.url,e);n.url.includes("checkout")&&o&&oc(o,n.url,e),o&&oe(o)}catch(t){A(ax.CUSTOM_ERROR,t,{custom_name:"updateParameterInferenceData"})}try{window.ttq&&window.ttq._ppf&&(r.end=performance.now(),window.ttq._ppf.push(r))}catch(t){}},n8=function(t){try{var e=t.plugins&&t.plugins.AutoConfig;return e&&e.vc_rules}catch(t){return}},n4=function(t){try{if(!t)return null;for(var e,r=n1(t);!(e=r()).done;){var n=e.value;if(n.parameter_enhancement)return n.parameter_enhancement}}catch(t){t(ax.CUSTOM_ERROR,t,{custom_name:"updateParameterInferenceData",custom_enum:"getEnhancementRules"})}return null},n9=function(t){var e;try{if(!t)return null;var r=null,n=document.evaluate(t,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;if(n){var o=(null===(e=n.textContent)||void 0===e?void 0:e.trim())||null;o&&(r=o)}return r}catch(t){return A(ax.CUSTOM_ERROR,t,{custom_name:"updateParameterInferenceData",custom_enum:"getEnhancementRuleDataByXPath"}),null}},n7=function(t){if(!t)return null;var e=t.split("|||").filter(function(t){return""!==t});if(e.length<2)return null;var r=e[0],n=e[1],o=e[2];return{pattern:r,replacement:n,flags:void 0===o?"":o}},ot=function(t,e){if(!t)return null;for(var r=null,n,o=n1(e);!(n=o()).done&&!(r=n9(t[n.value])););if(!r)return null;var i=r,a=(null==t?void 0:t.format_method)&&n7(t.format_method);if(a)try{var c=a.pattern,s=a.replacement,u=a.flags,f=new RegExp(c,u);i=r.replace(f,s)}catch(t){A(ax.CUSTOM_ERROR,t,{custom_name:"updateParameterInferenceData",custom_enum:"parseFormatMethod"})}var l=Object.assign({},t,{parameterOriValue:r,parameterValue:i});return n3.forEach(function(t){delete l[t]}),n6.forEach(function(t){delete l[t]}),l},oe=function(t){try{var e=n4(t);if(!e)return null;var r={};for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];if(o){var i=void 0;(i=(i=ot(o.helper_rule,n3))&&i.parameterValue?i:ot(o.model_rule,n6))&&(r[n]=Object.assign({},i),P(ax.CUSTOM_INFO,{custom_name:"updateParameterInferenceData",custom_enum:"enhancement_rule_result",extJSON:{message:JSON.stringify(o)+"||"+JSON.stringify(i)}}))}}return os(op,r),P(ax.CUSTOM_INFO,{custom_name:"updateParameterInferenceData",custom_enum:"enhancement_properties",extJSON:{message:""+JSON.stringify(r)}}),Object.keys(r).length>0?r:null}catch(t){return A(ax.CUSTOM_ERROR,t,{custom_name:"updateParameterInferenceData",custom_enum:"enhancement_parameter_inference"}),null}},or=function(t,e){var r=null;for(var n in e)if(t.includes(n))return r=e[n];return null},on=function(t,e){var r=function(t,e){try{for(var r,n=document.evaluate(t,document,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),o=null;r=n.iterateNext();)/\d/.test(r.innerText)&&(o=r);if(!o&&e){for(var i=document.getElementsByClassName(e),a=0;a<i.length;a++){var c=i[a];c instanceof HTMLElement&&/\d/.test(c.innerText)&&(o=c)}}return o}catch(t){return A(ax.CUSTOM_ERROR,t,{custom_name:"updateParameterInferenceData",custom_enum:"getLastElementWithNumber"}),null}}(t,e),n=null==r?void 0:r.textContent;return{priceNumberString:n?function(t){var e=t.match(/(?:\d[\d\s,.]*\d|\d)/g);if(e){for(var r,n,o,i,a,c=e[0],s=n1(e);!(a=s()).done;)if(a.value!==c)return null;return n=(r=c).replace(/[\s,\.]/g,""),o=Math.max(r.lastIndexOf("."),r.lastIndexOf(",")),i=!1,-1!==o&&o>=r.length-3&&(i=!0),i&&(n=n.slice(0,o-(r.length-1))+"."+n.slice(o-(r.length-1))),n}return null}(n):null,textContent:n}},oo=function(t){if(!t)return{currencyCode:null,currencyCodeFromeXpath:null};var e,r=null===(e=document.evaluate(t,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)||void 0===e?void 0:e.textContent,n=((null==r?void 0:r.trim())?n0.includes(r.toUpperCase().trim()):null)?null==r?void 0:r.toUpperCase().trim():null;return{currencyCode:r,currencyCodeFromeXpath:n}},oi=function(t){if(!t)return{countryCode:null,countryCodeFromXpath:null};var e,r=null===(e=document.evaluate(t,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)||void 0===e?void 0:e.textContent,n=((null==r?void 0:r.trim())?n$.includes(r.toUpperCase().trim()):null)?null==r?void 0:r.toUpperCase().trim():null;return{countryCode:r,countryCodeFromXpath:n}},oa=function(t){try{var e=new URL(t).hostname.split(".");for(var r in e)if(n$.includes(e[r].toUpperCase()))return e[r].toUpperCase()}catch(t){}return null},oc=function(t,e,r){try{if(t)for(var n,o=n1(t);!(n=o()).done;){var i=n.value;if(i.valueXpath&&i.currency&&i.currency.val){var a=i.currency.val,c=on(i.valueXpath,i.currency.val),s=c.textContent,u=c.priceNumberString;if(u&&s){var f=oo(i.currency.xpath),l=f.currencyCode,p=f.currencyCodeFromeXpath;l&&P(ax.CUSTOM_INFO,{custom_name:"auto_value_currency_currency_code_form_xpath",extJSON:{url:e,currencyCode:l,vcConfig:r}});var h=oi(i.countryCodeXpath),d=h.countryCode,v=h.countryCodeFromXpath;d&&P(ax.CUSTOM_INFO,{custom_name:"auto_value_currency_country_form_xpath",extJSON:{url:e,country:d,vcConfig:r}});var _={value:u,currency:p||a,ori_value:s,rule_key:i.rule_key,country_code:v};if(!v){var y=oa(e);_.country_code=y}return P(ax.CUSTOM_INFO,{custom_name:"auto_value_currency_update_info",extJSON:{url:e,autoProperties:_,vcConfig:r}}),os(ol,_),_}}}return null}catch(t){return A(ax.CUSTOM_ERROR,t,{custom_name:"updateParameterInferenceData",custom_enum:"updateAutoVCData"}),null}},os=function(t,e){try{sessionStorage.setItem(t,JSON.stringify(e))}catch(t){}},ou=function(t){try{var e=sessionStorage.getItem(t);return e?JSON.parse(e):null}catch(t){return null}},of=function(t){try{sessionStorage.removeItem(t)}catch(t){}},ol="value_currency_rule",op="parameter_inference_rule",oh=[a7.CLICK,a7.SCROLL],od=function(){function t(t){var e=this;this.handlerArray=t,oh.forEach(function(t){window.addEventListener(t.toLowerCase(),tu(function(){e.interactionHandler(t)},2e3,e),{capture:!0,passive:!0})})}var e=t.prototype;return e.iterateHandlerArray=function(t){this.handlerArray.forEach(function(e){return e(t)})},e.interactionHandler=function(t){var e=this;this.timeoutId&&clearTimeout(this.timeoutId),this.iterateHandlerArray(t),this.timeoutId=setTimeout(function(){e.iterateHandlerArray(t)},2e3)},t}(),ov=function(){function t(){this.history={}}var e=t.prototype;return e.hasReport=function(t,e,r){var n=this.genHistoryKey(t,e);return this.history[n]&&this.history[n].indexOf(r)>-1},e.addHistory=function(t,e,r){var n=this.genHistoryKey(t,e);!this.history[n]&&(this.history[n]=[]),this.history[n].push(r)},e.clearHistory=function(){this.history={}},e.genHistoryKey=function(t,e){return t+":"+e},t}(),o_=function(){function t(t,e,r,n){this.context=t,this.reportHistory=new ov,this.reporters=e,this.reportService=r,this.ttqOptions=n}var e=t.prototype;return e.report=function(t,e,r){var n=this,o=e6(aZ.AUTO_CONFIG),i=this.getReportPixelList(e,r),a=this.assemblyReportData(t,r,i);a&&o&&this.reportService.reportPreTasks.then(function(){n.reportService.report(o,a,a$.defaultReport,a0.P0)})},e.clearHistory=function(){this.reportHistory.clearHistory()},e.getReportPixelList=function(t,e){var r=this,n=JSON.stringify(Object.assign({},e,{page_trigger:void 0}));return this.reporters.filter(function(e){return!!nA(e)&&nL(e,t)}).filter(function(e){var o=e.getReporterId();return!([a4.AUTO_COLLECTION,a4.AUTO_FORM].indexOf(t)>-1&&r.reportHistory.hasReport(t,o,n))&&(r.reportHistory.addHistory(t,o,n),e)})},e.getCookieBasedSessions=function(t){var e=[],r=eB(document.cookie),n=t.filter(function(t){var e;return!!(null===(e=null==t?void 0:t.reporterInfo)||void 0===e?void 0:e.firstPartyCookieEnabled)});if(0===n.length)return e;var o=this.context.getPageCookieBasedSession();return n.forEach(function(t){var n=t.getReporterId();t.setCookieBasedSession(r[n]),e.push(eW(t.getCookieBasedSession(),o,n))}),e},e.assemblyReportData=function(t,e,r){if(0!==r.length){var n,o,i,a=r.map(function(t){return t.getReporterId()}),c=this.context.getPageSign(),s=(null===(o=null===(n=this.ttqOptions)||void 0===n?void 0:n.cookieBasedSessionConfig)||void 0===o?void 0:o.enable)?this.getCookieBasedSessions(r):[],u=r[0],f=u.assemblyData(u.getReporterId(),"",{},{},aZ.AUTO_CONFIG);return delete f.event,f.action=t,f.auto_collected_properties=e,!f.context.pixel&&(f.context.pixel={}),f.context.pixel.code=a[0],f.context.pixel.codes=a.join("|"),f.context.index=null===(i=c.pageIndex)||void 0===i?void 0:i.index,f.context.session_id=c.sessionId,f.context.pageview_id=Y(this.context.getPageViewId(),u.reporterInfo.loadId,"::"),f.context.sessions=s,f.message_id=f.message_id.replace(/-[^-]*$/,""),f}},t}(),oy=new Set([",","?",";","!","","","","","","",":",""]),og=[{triggerField:"class",fragmentType:"attribute",key:"class"},{triggerField:"id",fragmentType:"attribute",key:"id"},{triggerField:"name",fragmentType:"attribute",key:"name"},{triggerField:"type",fragmentType:"attribute",key:"type"},{triggerField:"value",fragmentType:"attribute",key:"value"},{triggerField:"destination",fragmentType:"attribute",key:"destination"},{triggerField:"inner_text",fragmentType:"text",key:"inner_text"},{triggerField:"image_url",fragmentType:"text",key:"image_url"}],om=[/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi],ow=[/^(?:(?:4[0-9]{3}|5[1-5][0-9]{2}|6011|65[0-9]{2}|3[47][0-9]{2}|3(?:0[0-5]|[68][0-9])|2131|1800|35\d{2})[-\s]?(?:[0-9]{4}[-\s]?){2}[0-9]{3,4}|62[0-9]{3}[-\s]?(?:[0-9]{4}[-\s]?){2,3}[0-9]{3,4})$(?![\d])/g],oE=[/\d{3}-\d{2}-\d{4}|\d{9}/g,/^\d{17}(\d|X|x)$/g,/[A-CEGHJ-PR-TW-Z]{2}\d{6}[A-D]?/g,/(?:[A-Z]\d{10}|\d{10})/g,/[A-Z0-9]{12}/g],ob=[/[EDS]\d{8}/g,/[A-Z0-9]{9}/g,/[A-HJ-NP-Z][A-HJ-NP-Z0-9]{8}/g,/[A-Z0-9]{10}/g,/[A-Z]{2}\d{6}/g],oI=[/\d{17}[\dXx]/g,/[A-Z0-9]{16}/g,/[A-Z0-9]{10,12}/g,/[A-Z0-9]{12}/g],oO=[/(?:\+?\d{1,3}[\s-]?|\(\+?\d{1,3}\)[\s-]?)?(?:\d{2,4}[\s-]?|\(\d{2,4}\)[\s-]?)?(?:\d[\s-]?){5,}/g];(ab=cr||(cr={})).ID_SSN="ID_SSN",ab.PASSPORT="PASSPORT",ab.DRIVING_LICENSE="DRIVING_LICENSE",ab.PHONE="PHONE",ab.EMAIL="EMAIL",ab.CREDIT_CARD="CREDIT_CARD",ab.RACE_ETHNICITY="RACE_ETHNICITY",ab.RELIGION="RELIGION",ab.SEXUAL_ORIENTATION="SEXUAL_ORIENTATION",ab.POLITICAL_AFFILIATION="POLITICAL_AFFILIATION",ab.UNION_MEMBERSHIP="UNION_MEMBERSHIP",ab.CRIMINAL_RECORD="CRIMINAL_RECORD",ab.DEFAULT="***";var oT=((ce={})[cr.RACE_ETHNICITY]=["asian","black","white","caucasian","hispanic","latino","arab","middle eastern","african american","native american","indigenous","pacific islander","jewish","afro","mulatto","mestizo","racial","ethnicity","ethnic group"],ce[cr.RELIGION]=["christian","catholic","protestant","baptist","orthodox","muslim","islam","islamic","sunni","shia","jewish","judaism","synagogue","hebrew","hindu","hinduism","vedic","bhagavad","buddhist","buddhism","taoism","shinto","atheist","agnostic","secular","religious belief"],ce[cr.SEXUAL_ORIENTATION]=["heterosexual","homosexual","bisexual","pansexual","gay","lesbian","lgbt","lgbtq","queer","asexual","sexual orientation","gender identity","trans","transgender","nonbinary","non-binary"],ce[cr.POLITICAL_AFFILIATION]=["democrat","democratic","republican","libertarian","conservative","liberal","progressive","nationalist","communist","socialism","socialist","marxist","left-wing","right-wing","maga","antifa","alt-right","green party","political party","political ideology"],ce[cr.UNION_MEMBERSHIP]=["labor union","trade union","union member","collective bargaining","strike","unionized","organized labor","workers' union","teamsters","AFL-CIO","IBEW","union dues","union card"],ce[cr.CRIMINAL_RECORD]=["arrest","arrested","convicted","conviction","felony","felon","misdemeanor","parole","probation","criminal record","jail","prison","inmate","suspect","indictment","charged with","mugshot"],ce),oN=Object.values(cr).reduce(function(t,e){return t[e]="<#"+e+"#>",t},{}),oR=function(t,e){if("string"!=typeof t)throw TypeError("text must be a non-empty string");if("number"!=typeof e||e<=0)throw TypeError("targetLength must be a positive integer");for(var r=[],n=0,o=t.length;n<o;){var i=Math.min(n+e,o);if(i===o){var a=t.slice(n).trim();a&&r.push(a);break}if(oS(t[i]||"")){var c=oP(t,i),s=c.leftBound,u=c.rightBound;if(i-s<=u-i){var f=t.slice(n,s+1).trim();f&&r.push(f);var l=t.slice(s+1,u+1).trim();l&&r.push(l),n=u+1}else{var p=t.slice(n,u+1).trim();p&&r.push(p),n=u+1}}else{var h=t.slice(n,i).trim();h&&r.push(h),n=i}}return r},oS=function(t){if(1!==t.length)throw TypeError("char must be a single character");return!oy.has(t)},oP=function(t,e){for(var r=e,n=e;r>0&&oS(t[r]);)r--;for(;n<t.length&&oS(t[n]);)n++;return{leftBound:r,rightBound:n}},oA=function(t){return oN[t]||oN[cr.DEFAULT]},oL=function(){function t(){}var e=t.prototype;return e.decompose=function(t){for(var e=[],r=0,n=0,o=t.length,i="text",a="",c="";n<o;){var s=t[n];"text"===i?("<"===s?(r=this.processTextBuffer(c,e,r),c="",i="tag",a="<"):c+=s,n++):(a+=s,">"===s&&(r=this.parseTag(a,e,r),i="text",a=""),n++)}return r=this.processTextBuffer(c,e,r),a&&(r=this.parseTag(a,e,r)),e},e.processTextBuffer=function(t,e,r){var n=t.trim();if(!n)return r;if(n.length<=30){var o={type:"text",value:n,position:r++};return e.push(o),r}return oR(n,30).forEach(function(t){var n={type:"text",value:t,position:r++};e.push(n)}),r},e.parseTag=function(t,e,r){var n=r;if(!t)return n;if(t.startsWith("</")){var o={type:"tagEnd",name:t.slice(2,-1).trim(),position:n++};return e.push(o),n}var i=t.slice(1,-1).trim(),a=i.indexOf(" ");if(-1===a){var c={type:"tagStart",name:i,position:n++},s={type:"tagStartClose",name:i,position:n++};return e.push(c,s),n}var u=i.slice(0,a).trim(),f=i.slice(a+1).trim(),l=this.parseAttributes(f),p={type:"tagStart",name:u,position:n++};e.push(p),l.forEach(function(t){var r={type:"attribute",key:t[0],value:t[1],position:n++};e.push(r)});var h={type:"tagStartClose",name:u,position:n++};return e.push(h),n},e.parseAttributes=function(t){for(var e,r,n,o,i=[],a=/([\w-]+)(?:\s*=\s*(?:"([^"]*)"|'([^']*)'|([^\s'"]+)))?/g;null!==(o=a.exec(t));){var c=o[1].trim(),s=null!==(n=null!==(r=null!==(e=o[2])&&void 0!==e?e:o[3])&&void 0!==r?r:o[4])&&void 0!==n?n:"";i.push([c,s])}return i},t}();function ox(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return oC(t,e);var r=({}).toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oC(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oC(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var ok=function(){function t(){}return t.prototype.decompose=function(t){for(var e=[],r=0,n,o,i=ox(og);!(o=i()).done;){var a=o.value,c=a.triggerField,s=a.fragmentType,u=a.key,f=void 0;if(void 0!==(f="attribute"===s?null===(n=t.attributes)||void 0===n?void 0:n[c]:t[c])){if(f.length>=30){for(var l,p=oR(f,30),h=ox(p);!(l=h()).done;){var d=l.value;e.push({type:s,key:u,value:d,position:r++})}}else e.push({type:s,key:u,value:f,position:r++})}}return e},t}();function oD(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var oj=function(){function t(){}return t.prototype.recompose=function(t){for(var e="",r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return oD(t,e);var r=({}).toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oD(t,e):void 0}}(t))){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(r=n()).done;){var o=r.value;switch(o.type){case"tagStart":e+="<"+o.name;break;case"attribute":e+=" "+o.key+'="'+o.redactedValue+'"';break;case"tagStartClose":e+=">";break;case"text":e+=o.redactedValue;break;case"tagEnd":e+="</"+o.name+">"}}return e},t}();function oM(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var oF=function(){function t(){}return t.prototype.recompose=function(t,e){var r=Object.assign({},e);r.attributes=Object.assign({},e.attributes||{});for(var n=new window[window.TiktokAnalyticsObject || "ttq"]._ttq_map,o,i=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return oM(t,e);var r=({}).toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oM(t,e):void 0}}(t))){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(o=i()).done;){var a=o.value;if(a.redactedValue)switch(a.type){case"attribute":n.has(a.key)?r.attributes[a.key]+=a.redactedValue:(n.set(a.key,!0),r.attributes[a.key]=a.redactedValue);break;case"text":n.has(a.key)?r[a.key]+=a.redactedValue:(n.set(a.key,!0),r[a.key]=a.redactedValue)}}return r},t}();function oq(){oq=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(e,r,n,i){var a=Object._ttq_create((r&&r.prototype instanceof _?r:_).prototype);return o(a,"_invoke",{value:function(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var a=l(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var c=a.arg;return c?c.done?(n[r.resultName]=c.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):c:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=l(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}(e,n,new R(i||[]))}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",h="executing",d="completed",v={};function _(){}function y(){}function g(){}var m={};u(m,a,function(){return this});var w=Object.getPrototypeOf,E=w&&w(w(S([])));E&&E!==r&&n.call(E,a)&&(m=E);var b=g.prototype=_.prototype=Object._ttq_create(m);function I(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,c)})}c(s.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(typeof e+" is not iterable")}return y.prototype=g,o(b,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object._ttq_create(b),t},e.awrap=function(t){return{__await:t}},I(O.prototype),u(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(b),u(b,s,"Generator"),u(b,a,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=S,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:S(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}var oU=function(){function t(t,e,r,n){this.replaceTag=r||cr.DEFAULT,this.regexArray=[].concat(t),this.type=n||"DEFAULT_TYPE",this.keyWords=e}return t.prototype.redact=function(t,e,r){var n,o,i,a;return n=this,o=void 0,i=void 0,a=oq().mark(function n(){var o,i,a,c,s=this;return oq().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t&&t.startsWith("<KEYWORD_"))){n.next=2;break}return n.abrupt("return",t);case 2:if(o=t,!(this.keyWords&&this.keyWords.length&&Array.isArray(this.keyWords))){n.next=7;break}this.keyWords.forEach(function(t){var e=RegExp(t,"gi");o=o.replaceAll(e,oA(s.replaceTag))}),n.next=15;break;case 7:if(!(this.keyWords&&"object"==typeof this.keyWords)){n.next=15;break}i=oq().mark(function t(){var e,r;return oq().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=(e=c[a])[0],e[1].forEach(function(t){var e=RegExp(t,"gi");o=o.replaceAll(e,oA(r))});case 2:case"end":return t.stop()}},t)}),a=0,c=Object.entries(this.keyWords);case 10:if(!(a<c.length)){n.next=15;break}return n.delegateYield(i(),"t0",12);case 12:a++,n.next=10;break;case 15:return this.regexArray.length&&(o=this.regexArray.reduce(function(t,e){return t.replaceAll(e,oA(s.replaceTag))},o)),n.next=18,e(o,r);case 18:return o=n.sent,n.abrupt("return",o);case 20:case"end":return n.stop()}},n,this)}),new(i||(i=Promise))(function(t,e){function r(t){try{s(a.next(t))}catch(t){e(t)}}function c(t){try{s(a.throw(t))}catch(t){e(t)}}function s(e){var n;e.done?t(e.value):((n=e.value)instanceof i?n:new i(function(t){t(n)})).then(r,c)}s((a=a.apply(n,o||[])).next())})},t}();function oG(){oG=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(e,r,n,i){var a=Object._ttq_create((r&&r.prototype instanceof _?r:_).prototype);return o(a,"_invoke",{value:function(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var a=l(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var c=a.arg;return c?c.done?(n[r.resultName]=c.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):c:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=l(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}(e,n,new R(i||[]))}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",h="executing",d="completed",v={};function _(){}function y(){}function g(){}var m={};u(m,a,function(){return this});var w=Object.getPrototypeOf,E=w&&w(w(S([])));E&&E!==r&&n.call(E,a)&&(m=E);var b=g.prototype=_.prototype=Object._ttq_create(m);function I(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,c)})}c(s.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(typeof e+" is not iterable")}return y.prototype=g,o(b,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object._ttq_create(b),t},e.awrap=function(t){return{__await:t}},I(O.prototype),u(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(b),u(b,s,"Generator"),u(b,a,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=S,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:S(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}var oH=function(t,e,r,n){return new(r||(r=Promise))(function(o,i){function a(t){try{s(n.next(t))}catch(t){i(t)}}function c(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},oV=function(){function t(){this.middlewareRedactors=[],this.sensitive_data_found=!1,this.htmlDecomposer=new oL,this.elementDecomposer=new ok,this.htmlRecomposer=new oj,this.elementRecomposer=new oF}var e=t.prototype;return e.registerRedactor=function(t){if("function"!=typeof(null==t?void 0:t.redact))throw Error("Middleware must implement `redact(value: string, next: NextFunction): Promise<string>` method");this.middlewareRedactors.push(t)},e.process=function(t){return oH(this,void 0,void 0,oG().mark(function e(){var r,n,o,i,a,c=this;return oG().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sensitive_data_found=!1,!("string"!=typeof t&&"object"!=typeof t)){e.next=3;break}throw Error("");case 3:if(!("object"==typeof t&&null===t)){e.next=5;break}throw Error("null");case 5:return"string"==typeof t?(r=this.htmlDecomposer,n=this.htmlRecomposer):(r=this.elementDecomposer,n=this.elementRecomposer),e.prev=6,o=r.decompose(t),e.next=10,Promise.all(o.map(function(t){return oH(c,void 0,void 0,oG().mark(function e(){var r,n,o;return oG().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(r=t.type)||void 0===r?void 0:r.includes("tag"))){e.next=2;break}return e.abrupt("return",Object.assign(Object.assign({},t),{redactedValue:""}));case 2:return n=t.value||"",e.next=5,this.dispatch(0,n);case 5:return(o=e.sent)!==n&&(this.sensitive_data_found=!0),e.abrupt("return",Object.assign(Object.assign({},t),{redactedValue:o}));case 8:case"end":return e.stop()}},e,this)}))}));case 10:return i=e.sent,a=n.recompose(i,t),e.abrupt("return",a);case 15:throw e.prev=15,e.t0=e.catch(6),e.t0;case 18:case"end":return e.stop()}},e,this,[[6,15]])}))},e.createRedactor=function(t,e,r,n){void 0===t&&(t=[]),void 0===e&&(e=[]);var o=new oU(t,e,r);return n&&(o.redact=n),o},e.dispatch=function(t,e){return oH(this,void 0,void 0,oG().mark(function r(){var n,o,i,a=this;return oG().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n=this.middlewareRedactors[t]){r.next=3;break}return r.abrupt("return",e);case 3:return o=function(r){return void 0===r&&(r=e),oH(a,void 0,void 0,oG().mark(function e(){return oG().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dispatch(t+1,r));case 1:case"end":return e.stop()}},e,this)}))},r.prev=4,r.next=7,n.redact(e,o);case 7:return i=r.sent,r.abrupt("return",i);case 11:return r.prev=11,r.t0=r.catch(4),r.abrupt("return",o(e));case 14:case"end":return r.stop()}},r,this,[[4,11]])}))},e.isHasSensitiveData=function(){return this.sensitive_data_found},t}();function oB(){oB=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(e,r,n,i){var a=Object._ttq_create((r&&r.prototype instanceof _?r:_).prototype);return o(a,"_invoke",{value:function(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var a=l(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var c=a.arg;return c?c.done?(n[r.resultName]=c.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):c:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=l(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}(e,n,new R(i||[]))}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",h="executing",d="completed",v={};function _(){}function y(){}function g(){}var m={};u(m,a,function(){return this});var w=Object.getPrototypeOf,E=w&&w(w(S([])));E&&E!==r&&n.call(E,a)&&(m=E);var b=g.prototype=_.prototype=Object._ttq_create(m);function I(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,c)})}c(s.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(typeof e+" is not iterable")}return y.prototype=g,o(b,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object._ttq_create(b),t},e.awrap=function(t){return{__await:t}},I(O.prototype),u(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(b),u(b,s,"Generator"),u(b,a,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=S,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:S(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function oY(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}(aI=cn||(cn={})).V1="v1",aI.V2="v2";function oW(t,e){return(oW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var oK=function(t,e){return function(r,n){e(r,n,t)}},oJ="AutoConfig",oX=function(t){function e(e,r,n,o){var i,a,c;return(i=t.call(this,{name:oJ,reporters:r,context:e})||this).autoCollectedMetadata={},i.initialize=!1,i.autoFormUpdateHandler=tu(function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var e={taskName:window.ttq._pf_tn||"auto_config_form_handler",functionName:window.ttq._pf_tn&&"auto_config_form_handler",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="auto_config_form_handler")}}catch(t){}if(i.autoForm){if(i.autoCollectedFormDetail=i.autoForm.getOverallFormDetail(),i.autoCollectedFormDetail.length>3e4){A(ax.CUSTOM_ERROR,{message:""+String(i.autoCollectedFormDetail.length)},{custom_name:nO,custom_enum:a5.OVER_LENGTH});return}i.actTracker.report(a8.METADATA,a4.AUTO_FORM,{page_trigger:t,form_details:i.autoCollectedFormDetail})}try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e),"auto_config_form_handler"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}},200,i),i.autoCollectionUpdateHandler=tu(function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var e={taskName:window.ttq._pf_tn||"auto_config_metadata_handler",functionName:window.ttq._pf_tn&&"auto_config_metadata_handler",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="auto_config_metadata_handler")}}catch(t){}i.autoCollectedMetadata=function(t){var e={open_graph:"{}",microdata:"[]",json_ld:"[]",meta:"{}"};try{e.microdata=function(){if(!nM.getMetaData)return"[]";for(var t=document.querySelectorAll("[itemscope]"),e=[],r=nq(),n=0;n<t.length;n++)r.add(t[n]);for(var o=t.length-1;o>=0;o--){var i=t[o],a=i.getAttribute("itemtype");if("string"==typeof a&&""!==a){for(var c={},s=i.querySelectorAll("[itemprop]"),u=0;u<s.length;u++){var f=s[u];if(!r.has(f)){r.add(f);var l=f.getAttribute("itemprop");if("string"==typeof l&&""!==l){var p=function(t){var e;switch(t.tagName.toLowerCase()){case"meta":e=t.getAttribute("content");break;case"audio":case"embed":case"iframe":case"img":case"source":case"track":case"video":e=t.getAttribute("src");break;case"a":case"area":case"link":e=t.getAttribute("href");break;case"object":e=t.getAttribute("data");break;case"data":case"meter":e=t.getAttribute("value");break;case"time":e=t.getAttribute("datetime");break;default:e=function(t){if(t){if(t.innerText&&t.innerText.length>0)return t.innerText;if(t.textContent&&t.textContent.length>0)return t.textContent}return""}(t)||""}return"string"==typeof e?nF(e):""}(f);if(null!=p){var h=c[l];null!=h&&function(t,e){return null!=[{property:"image",type:"Product"}].filter(function(r){return(t==="https://schema.org/"+r.type||t==="http://schema.org/"+r.type)&&r.property===e})[0]}(a,l)?Array.isArray(h)?c[l].push(p):c[l]=[h,p]:c[l]=p}}}}e.unshift({schema:{dimensions:{h:i.clientHeight,w:i.clientWidth},properties:nG(a)?{}:c,subscopes:[],type:a},scope:i})}}for(var d=[],v=[],_=0;_<e.length;_++){for(var y=e[_],g=y.scope,m=y.schema,w=d.length-1;w>=0;w--){if(d[w].scope.contains(g)){d[w].schema.subscopes.push(m);break}d.pop()}0===d.length&&v.push(m),d.push({schema:m,scope:g})}var E=JSON.stringify(v);return E.length>3e4&&(E="[]",nM.getMicroData=!1),E}()}catch(t){A(ax.CUSTOM_ERROR,t,{custom_name:"assemble_auto_config_failed",custom_enum:"microdata"})}try{var r=function(){if(!nM.getJSONLD)return{data:"[]",errors:[]};for(var t=[],e=[],r=document.querySelectorAll('script[type="application/ld+json"]'),n=0,o=0;o<r.length;o++){var i=r[o].innerText;if(null!=i&&""!==i){if((n+=i.length)>3e4)return nM.getJSONLD=!1,{data:JSON.stringify([]),errors:[{name:a6.OVER_LENGTH,message:""+String(n)}]};var a=void 0;try{a=JSON.parse(i.replace(/[\n\r\t]+/g," "))}catch(t){e.push({name:a6.ERROR_FORMAT,message:t.message})}try{a=function t(e){if("object"!=typeof e)return e;if(Array.isArray(e))return e.map(function(e){return t(e)});var r=Object.assign({},e),n=r["@type"];for(var o in r){if("@type"!==o&&"@context"!==o)"object"==typeof r[o]?r[o]=t(r[o]):n&&nG(n)&&delete r[o]}return r}(a)}catch(t){return{data:JSON.stringify([]),errors:[{name:a6.FILTER_SENSITIVE_FIELDS,message:t.message}]}}a&&t.push(a)}}return{data:JSON.stringify(t),errors:e}}(),n=r.data,o=r.errors;e.json_ld=n,o&&o.forEach(function(t){var e=t.name,r=t.message;A(ax.CUSTOM_ERROR,{message:r},{custom_name:"parse_json_ld_failed",custom_enum:e})})}catch(t){A(ax.CUSTOM_ERROR,t,{custom_name:"assemble_auto_config_failed",custom_enum:"json_ld"})}try{e.open_graph=function(t){if(!nM.getOpenGraph)return"{}";for(var e=nq(["og","product","music","video","article","book","profile","website","twitter"]),r={},n=document.querySelectorAll("meta[property],meta[name]"),o=0;o<n.length;o++){var i=n[o],a=i.getAttribute("property")||i.getAttribute("name"),c=nF(i.getAttribute("content"));if("string"==typeof a&&-1!==a.indexOf(":")&&"string"==typeof c&&e.has(a.split(":")[0])){var s=r[a];null!=s&&function(t){return null!=["og:image"].filter(function(e){return e===t})[0]}(a)?Array.isArray(s)?r[a].push(c):r[a]=[s,c]:r[a]=c}}return JSON.stringify(nU(r,t))}(t.open_graph)}catch(t){A(ax.CUSTOM_ERROR,t,{custom_name:"assemble_auto_config_failed",custom_enum:"open_graph"})}try{e.meta=function(t){if(!nM.getMetaData)return"{}";var e={},r=nq(["description","keywords","keyword"]),n=document.querySelector("title");n&&(e.title=nF(n.innerText));for(var o=document.querySelectorAll("meta[property],meta[name]"),i=0;i<o.length;i++){var a=o[i],c=a.getAttribute("name")||a.getAttribute("property"),s=nF(a.getAttribute("content"));"string"==typeof c&&"string"==typeof s&&r.has(c)&&(e[c]=s)}return JSON.stringify(nU({title:e.title,"meta:description":e.description,"meta:keywords":e.keywords||e.keyword},t))}(t.meta)}catch(t){A(ax.CUSTOM_ERROR,t,{custom_name:"assemble_auto_config_failed",custom_enum:"meta"})}return e}(i.filter),i.actTracker.report(a8.METADATA,a4.AUTO_COLLECTION,{page_trigger:t,content_data:i.autoCollectedMetadata});try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e),"auto_config_metadata_handler"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}},200,i),i.autoClickCallback=(c=(a=oB().mark(function t(e){var r,n,o;return oB().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.signal_insights_config&&n5(i.context,i.signal_insights_config),!(r=nx(e.target))){t.next=11;break}return n=nj(nD(r)),t.next=7,i.sensitiveFilterRedactor.process(n);case 7:o=t.sent,function(t){var e,r,n=(null===(e=t.inner_text)||void 0===e?void 0:e.toString().toLowerCase())||"",o=(null===(r=t.image_url)||void 0===r?void 0:r.toString().toLowerCase())||"",i=[];if(t.attributes){var a=t.attributes;i=[a.class,a.id,a.name,a.type,a.value,a.destination].map(function(t){return(null==t?void 0:t.toString().toLowerCase())||""})}return[n,o].concat(i).some(nN)}(n)&&(o.filter_version=cn.V1),i.sensitiveFilterRedactor.isHasSensitiveData()&&(o.filter_version=(o.filter_version?o.filter_version+",":"")+cn.V2),i.reportButtonClick(o);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),A(ax.CUSTOM_ERROR,t.t0,{custom_name:"auto_click_callback_error",custom_enum:"auto_click"});case 16:case"end":return t.stop()}},t,null,[[0,13]])}),function(){var t=this,e=arguments;return new Promise(function(r,n){var o=a.apply(t,e);function i(t){oY(o,r,n,i,c,"next",t)}function c(t){oY(o,r,n,i,c,"throw",t)}i(void 0)})}),function(t){return c.apply(this,arguments)}),i.filter=n.auto_config||{open_graph:[],microdata:[],json_ld:[],meta:[]},i.actTracker=new o_(e,r,o,n),i}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,oW(r,n);var r,n,o=e.prototype;return o.initBaseFeature=function(t){!this.initialize&&nA(t)&&(this.initAutoClick(),this.initAutoCollection(),this.initInteractionListener(t),this.initialize=!0)},o.initExtraFeature=function(t){!this.autoForm&&this.initialize&&nL(t,a4.AUTO_FORM)&&this.initAutoForm(t),this.initAutoVC(t)},o.initInteractionListener=function(t){var e=this,r=t.options;!this.initialize&&r&&!1!==r.autoConfigListener&&new od([function(t){nP(e.autoCollectionUpdateHandler,e)(t)},function(t){nP(e.autoFormUpdateHandler,e)(t)}])},o.initAutoClick=function(){t=this.autoClickCallback,e=W(function(e){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var r={taskName:window.ttq._pf_tn||"auto_config_click_handler",functionName:window.ttq._pf_tn&&"auto_config_click_handler",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="auto_config_click_handler")}}catch(t){}t(e);try{window.ttq&&window.ttq._ppf&&(r.end=performance.now(),window.ttq._ppf.push(r),"auto_config_click_handler"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}},1e3),document.querySelectorAll(tp.join(", ")).forEach(function(t){!th.some(function(e){return t.matches(e)})&&t.addEventListener("click",e,{capture:!0})});try{this.sensitiveFilterRedactor=new oV;var t,e,r=this.sensitiveFilterRedactor.createRedactor(om,[],cr.EMAIL),n=this.sensitiveFilterRedactor.createRedactor(ow,[],cr.CREDIT_CARD),o=this.sensitiveFilterRedactor.createRedactor(oE,[],cr.ID_SSN),i=this.sensitiveFilterRedactor.createRedactor(ob,[],cr.PASSPORT),a=this.sensitiveFilterRedactor.createRedactor(oI,[],cr.DRIVING_LICENSE),c=this.sensitiveFilterRedactor.createRedactor(oO,[],cr.PHONE),s=this.sensitiveFilterRedactor.createRedactor([],oT);this.sensitiveFilterRedactor.registerRedactor(s),this.sensitiveFilterRedactor.registerRedactor(r),this.sensitiveFilterRedactor.registerRedactor(n),this.sensitiveFilterRedactor.registerRedactor(o),this.sensitiveFilterRedactor.registerRedactor(i),this.sensitiveFilterRedactor.registerRedactor(a),this.sensitiveFilterRedactor.registerRedactor(c)}catch(t){A(ax.CUSTOM_ERROR,t,{custom_name:"auto_click_init_error",custom_enum:"sensitive_init_error"})}},o.initAutoVC=function(t){var e=n8(t);e&&(this.signal_insights_config=e)},o.initAutoCollection=function(){},o.initAutoForm=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e={taskName:window.ttq._pf_tn,functionName:"initAutoForm",start:performance.now()}}catch(t){}this.autoForm=new nz(t),this.autoForm.addFormUpdateHandler(this.autoFormUpdateHandler.bind(this)),this.autoCollectedFormDetail=this.autoForm.getOverallFormDetail();try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e))}catch(t){}},o.pixelDidMount=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e={taskName:window.ttq._pf_tn,functionName:"auto_config_plugin_pixelDidMount",start:performance.now()}}catch(t){}this.initBaseFeature(t),this.initExtraFeature(t);try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e))}catch(t){}},o.pixelSend=function(t,e,r){var n=this.reporters.find(function(e){return e.getReporterId()===t});if(this.signal_insights_config&&n5(this.context,this.signal_insights_config),n&&n8(n)&&(ou(ol)||ou(op))){(tt(e)||"Pageview"===e||"InitiateCheckout"===e||"PlaceAnOrder"===e)&&(o=ou(ol));var o,i=ou(op),a={vc_properties:Object.assign(Object.assign({},o&&{value:o.value,currency:o.currency,ori_value:o.ori_value,rule_key:o.rule_key}),i&&{parameter_inference:i})};r.auto_collected_properties=a}if(tt(e)&&setTimeout(function(){of(ol)},500),"Pageview"===e&&(!n||!!nA(n)))nP(this.autoCollectionUpdateHandler,this)(a7.PAGE_VIEW),nP(this.autoFormUpdateHandler,this)(a7.PAGE_VIEW)},o.pageUrlDidChange=function(t,e){null!=e&&""!=e&&(this.autoCollectionUpdateHandler(a7.URL_CHANGE),this.autoFormUpdateHandler(a7.URL_CHANGE))},o.pageWillLeave=function(){this.autoCollectionUpdateHandler(a7.PAGE_LEAVE),this.autoFormUpdateHandler(a7.PAGE_LEAVE)},o.reportButtonClick=function(t){this.actTracker.report(a8.CLICK,a4.AUTO_VC,{page_trigger:a7.CLICK,trigger_element:t,vc_properties:ou(ol)?ou(ol):void 0}),this.actTracker.report(a8.CLICK,a4.AUTO_VC_REVERSE,{page_trigger:a7.CLICK,trigger_element:t})},e}(r9);oX=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),oK(0,ei(tJ.CONTEXT)),oK(1,ei(tJ.TTQ_REPORTERS)),oK(2,ei(tJ.TTQ_GLOBAL_OPTIONS)),oK(3,ei(tJ.REPORT_SERVICE))],oX);var oQ=r("278"),oZ=r.n(oQ),oz={EMPTY_EVENT_TYPE_NAME:{title:"Missing Event Name",desc:"The event name for one or more of your events is empty. This can affect the accuracy of reporting for your conversions.",suggestion:"Go to your source code and add a name that follows our format requirements and TikTok policies.",link:"https://ads.tiktok.com/marketing_api/docs?rid=5ipocbxyw8v&id=1701890973258754"},INVALID_CONTENT_ID:{title:"Missing value for content ID",desc:"Include a value for your 'content_id' parameter. This is required for Video Shopping Ads (VSA).",suggestion:"If you are or plan to run Video Shopping Ads (VSA), go to your source code and include a value for the 'content_id' parameter.",link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},INVALID_CONTENT_TYPE:{title:"Invalid content type",desc:'The content type for one or more of your events is not valid. Content type must be either "product", "product_group", "destination", "hotel", "flight" or "vehicle".',suggestion:"Go to your source code and update the content type.",link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},INVALID_CURRENCY_CODE:{title:"Invalid currency code",desc:"The currency code for one or more of your events isn't supported. This can affect the accuracy of reporting for your ROAS.",suggestion:"Go to your source code and update the 'currency' parameters with a supported currency code.",link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},INVALID_EMAIL_FORMAT:{title:"Incorrect email format",desc:"The email format for your events does not match the format supported. This can impact Advanced Matching and your ad performance.",suggestion:"Go to your source code and update the format of your shared emails. It should follow 'xxx@xxx.com' format.",link:"https://ads.tiktok.com/marketing_api/docs?id=1739585700402178"},INVALID_EMAIL_INFORMATION:{title:"Invalid email information",desc:"The emails shared with your events were invalid.",suggestion:'Go to your source code to double check shared emails. Leave your string empty when customer information isn\'t available. Avoid spaces, "undefined", or other hardcoded values.',link:"https://ads.tiktok.com/marketing_api/docs?id=1739585700402178"},INVALID_EVENT_PARAMETER_VALUE:{title:"Invalid value parameter",desc:"The 'value' parameter for one or more of your events is invalid. This is used calculate ROAS for people and the bid for your highest value customers. Parameters must be an integer or in the decimal format (e.g. 9.99). Also, they can't contain currency symbols, special characters, letters, or commas.",suggestion:"Go to your source code and update the 'value' parameter. It can only include numbers greater than or equal to zero (e.g. 9.99). Do not include currency symbols, special characters, letters, or commas.",link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},INVALID_PHONE_NUMBER_FORMAT:{title:"Incorrect phone number format",desc:"The phone number format for your events doesn't follow the E.164 format. This can affect Advanced Matching and your ad performance.",suggestion:"Go to your source code and update your shared phone numbers. It should follow the E.164 format.",link:"https://ads.tiktok.com/marketing_api/docs?id=1739585700402178"},INVALID_PHONE_NUMBER_INFORMATION:{title:"Invalid phone number information",desc:"The phone numbers shared with your events were invalid.",suggestion:'Go to your source code to double check shared phone numbers. Leave your string empty when customer information isn\'t available. Avoid spaces, "undefined", or other hardcoded values.',link:"https://ads.tiktok.com/marketing_api/docs?id=1739585700402178"},LONG_EVENT_TYPE_NAME:{title:"Event Name Too Long",desc:"1 event type exceeds the 50 character limit.",suggestion:"Go to your source code and make these event names 50 characters or less.",link:"https://ads.tiktok.com/help/article/custom-events?lang=en"},MISMATCHED_EVENT_TYPE_NAME_FOR_CUSTOM_EVENT:{title:"Invalid Event Name Format",desc:"1 event name was rejected for not following TikTok format requirements.",suggestion:"Go to your source code and update these event types according to TikTok format requirements.",link:"https://ads.tiktok.com/help/article/custom-events?lang=en"},MISSING_CONTENT_ID:{title:"Missing 'content_id' paramter",desc:"The 'content_id' parameter isn't being received. This is required for Video Shopping Ads (VSA).",suggestion:"Include the 'content_id' parameter in your source code. This is required for Video Shopping Ads (VSA).",link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},MISSING_CURRENCY_PARAMETER:{title:'Missing "currency" parameter',desc:"Events shared are missing a 'currency' parameter. This impacts our ability to receive the value amount correctly, which can affect the accuracy of reporting for your return on ad spend.",suggestion:'Go to your source code and include the "currency" parameter. You can check supported currency codes. {{learn_more}}',link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},MISSING_EMAIL_AND_PHONE:{title:"Missing email and phone number",desc:"Email and phone number info isn't being received. This information is required for Complete Payment events.",suggestion:"Improve your email and phone coverage. This allows you to attribute more conversions and reach more people with your ads.",link:"https://ads.tiktok.com/marketing_api/docs?rid=5ipocbxyw8v&id=1701890972946433"},MISSING_VALUE_PARAMETER:{title:'Missing "value" parameter',desc:"Events shared are missing a 'value' parameter'. This is used calculate ROAS for people and the bid for your highest value customers. ",suggestion:'Go to your source code and include the "value" parameter.',link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},DUPLICATE_PIXEL_CODE:{title:"Duplicate Pixel ID",desc:"The pixel ID is duplicate. This could impact the pixel data accuracy.",suggestion:"Please double check and delete any unnecessary pixel code.",link:""},MISSING_PIXEL_CODE:{title:"Missing pixel ID",desc:"Some of the events sent to your TikTok account are missing a pixel ID.",suggestion:"Go to your source code and double check that the 20-character pixel ID has been added to the ttq.load() function. Don't send null values or spaces. If you edited the base code, ensure the event.js has the 'sdkid' in the Chrome network panel.",link:""},INVALID_PIXEL_CODE:{title:"Invalid pixel ID",desc:"The pixel ID is invalid. This could prevent your pixel from receiving data.",suggestion:"Please go to Events Manager and find the correct pixel ID.",link:""}},o$=/^[a-zA-Z\d]([a-zA-Z_\-\d ]{0,}[a-zA-Z_\-\d])?$/,o0=["product","product_group","destination","hotel","flight","vehicle"],o1=["email_is_hashed","phone_is_hashed","sha256_email","sha256_phone"],o2=["Purchase","CompletePayment","InitiateCheckout","AddToCart","PlaceAnOrder","ViewContent","AddToWishlist"],o3=function(t){return void 0===t},o6=function(t,e){if(!!aX[t]){var r=_(),n=oz[t],o="[TikTok Pixel] - "+n.title;n.desc&&(o+="\nIssue: "+n.desc),n.suggestion&&(o+="\nSuggestion: "+n.suggestion),e&&Object.keys(e).forEach(function(t){o=o.split("{{"+t+"}}").join(e[t])}),o=o.trim(),n.link&&(o+=" See "+n.link+" for more information."),r&&r.console&&r.console.warn&&r.console.warn(o)}};(aO=co||(co={}))[aO.Live=0]="Live",aO[aO.NoRecord=1]="NoRecord";var o5=function(t){var e=t.event,r=void 0===e?"":e;return!!(["null","undefined"].includes(r)||/^\s*$/.test(r))||!r},o8=function(t){var e=t.event;return!!o5(t)||o$.test(void 0===e?"":e)},o4=function(t){var e=t.event;return(void 0===e?"":e).length<=50},o9=function(t){var e=t.event,r=t._inspection;if(tt(e)){var n=(void 0===r?{}:r).identity_params,o=void 0===n?{}:n;return 0===Object.keys(o).length||o1.every(function(t){return(o[t]||[]).includes(aj.EMPTY_VALUE)})}return!1},o7=function(t){var e=t._inspection,r=void 0===e?{}:e;return!!r&&!!r.identity_params&&((r.identity_params.email_is_hashed||[]).includes(aj.FILTER_EVENTS)||(r.identity_params.sha256_email||[]).includes(aj.FILTER_EVENTS))},it=function(t){var e=t._inspection,r=void 0===e?{}:e;return!!r&&!!r.identity_params&&((r.identity_params.email_is_hashed||[]).includes(aj.UNKNOWN_INVALID)||(r.identity_params.sha256_email||[]).includes(aj.UNKNOWN_INVALID))},ie=function(t){var e=t._inspection,r=void 0===e?{}:e;return!!r&&!!r.identity_params&&((r.identity_params.phone_is_hashed||[]).includes(aj.FILTER_EVENTS)||(r.identity_params.sha256_phone||[]).includes(aj.FILTER_EVENTS))},ir=function(t){var e=t._inspection,r=void 0===e?{}:e;return!!r&&!!r.identity_params&&((r.identity_params.phone_is_hashed||[]).includes(aj.UNKNOWN_INVALID)||(r.identity_params.sha256_phone||[]).includes(aj.UNKNOWN_INVALID))},io=function(t){var e=t.event,r=t.properties,n=void 0===r?{}:r;if(o2.includes(void 0===e?"":e)){if(o3(n.contents)&&o3(n.content_id))return!0;if(!o3(n.contents))return!Array.isArray(n.contents)||!!(n.contents.length<1)||!n.contents.every(function(t){return t&&!o3(t.content_id)})}return!1},ii=function(t){var e=t.properties,r=void 0===e?{}:e,n=r.content_id,o=r.contents;return!(!o3(n)&&/^\s*$/.test(n))&&(!(!o3(o)&&Array.isArray(o))||o.every(function(t){return t&&!o3(t.content_id)&&!/^\s*$/.test(t.content_id)}))},ia=function(t){var e=t.properties.content_type;return!e||o0.includes(e)},ic=function(t){var e=t.properties.value;if(e)return!!("number"==typeof e||"string"==typeof e&&(/^\d+(\.\d+)?$/.test(e)||/^\d+$/.test(e)))||!1;return!0},is=function(t){var e=t.event,r=t.properties,n=void 0===r?{}:r;return!!(tt(void 0===e?"":e)&&o3(n.value)||!o3(n.currency)&&o3(n.value))||!1},iu=function(t){var e=t.properties.currency;return!e||e2.includes(e)},il=function(t){var e=t.event,r=t.properties,n=void 0===r?{}:r;return!!(tt(void 0===e?"":e)&&o3(n.currency)||!o3(n.value)&&o3(n.currency))||!1};function ip(t,e){return(ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var ih=function(t,e){return function(r,n){e(r,n,t)}},id=function(t){function e(e,r,n){var o,i;return(o=t.call(this,{name:"DiagnosticsConsole",reporters:r,context:e})||this).isEnableDiagnosticsConsole=!1,o.isEnableDiagnosticsConsole=!!(null===(i=null==n?void 0:n.plugins)||void 0===i?void 0:i.DiagnosticsConsole),o}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,ip(r,n);var r,n,o=e.prototype;return o.isDisableDiagnosticsConsole=function(){try{if(this.isEnableDiagnosticsConsole)return!!Object.values(this.reporters).some(function(t){var e,r;return void 0!==(null===(e=null==t?void 0:t.options)||void 0===e?void 0:e.diagnostics)&&!(null===(r=null==t?void 0:t.options)||void 0===r?void 0:r.diagnostics)});return!0}catch(t){return!1}},o.warn=function(t,e){try{if(this.isDisableDiagnosticsConsole())return;o6(t,e)}catch(e){A(ax.CUSTOM_ERROR,e,{custom_name:"diagnostics_console",custom_enum:t})}},o.pixelDidMount=function(t){var e=this;try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var r={taskName:window.ttq._pf_tn,functionName:"console_plugin_pixelDidMount",start:performance.now()}}catch(t){}t.getParameterInfo().then(function(t){e.handlePixelInfoValidate(t)}).catch(function(t){A(ax.CUSTOM_ERROR,t,{custom_name:"diagnostics_console",custom_enum:"pixel"})});try{window.ttq&&window.ttq._ppf&&(r.end=performance.now(),window.ttq._ppf.push(r))}catch(t){}},o.pixelSend=function(t,e,r,n,o){void 0===n&&(n={});try{(!n||!n._i)&&o===aZ.TRACK&&e!==e0&&this.handleEventPayloadValidate(oZ()(r||{}))}catch(t){A(ax.CUSTOM_ERROR,t,{custom_name:"diagnostics_console",custom_enum:"track"})}},o.handlePixelInfoValidate=function(t){if(t.status!==co.Live){this.warn(aX.INVALID_PIXEL_CODE);return}},o.handleEventPayloadValidate=function(t){!t.properties&&(t.properties={}),o5(t)&&this.warn(aX.EMPTY_EVENT_TYPE_NAME),!o8(t)&&this.warn(aX.MISMATCHED_EVENT_TYPE_NAME_FOR_CUSTOM_EVENT),!o4(t)&&this.warn(aX.LONG_EVENT_TYPE_NAME),o9(t)&&this.warn(aX.MISSING_EMAIL_AND_PHONE),o7(t)&&this.warn(aX.INVALID_EMAIL_INFORMATION),it(t)&&this.warn(aX.INVALID_EMAIL_FORMAT),ie(t)&&this.warn(aX.INVALID_PHONE_NUMBER_INFORMATION),ir(t)&&this.warn(aX.INVALID_PHONE_NUMBER_FORMAT),io(t)&&this.warn(aX.MISSING_CONTENT_ID),!ii(t)&&this.warn(aX.INVALID_CONTENT_ID),!ia(t)&&this.warn(aX.INVALID_CONTENT_TYPE),!ic(t)&&this.warn(aX.INVALID_EVENT_PARAMETER_VALUE),is(t)&&this.warn(aX.MISSING_VALUE_PARAMETER),!iu(t)&&this.warn(aX.INVALID_CURRENCY_CODE),il(t)&&this.warn(aX.MISSING_CURRENCY_PARAMETER,{learn_more:""})},e}(r9);id=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),ih(0,ei(tJ.CONTEXT)),ih(1,ei(tJ.TTQ_REPORTERS)),ih(2,ei(tJ.TTQ_GLOBAL_OPTIONS))],id);function iv(t,e){return(iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var i_=function(t,e){return function(r,n){e(r,n,t)}},iy=function(t){function e(e,r,n,o){var i;return(i=t.call(this,{name:"PangleCookieMatching",reporters:r,context:e})||this).hasReport=!1,i.reportService=n,i.env=o,i}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,iv(r,n);var r,n,o=e.prototype;return o.isPixelPangleCookieMatching=function(t){void 0===t&&(t="");var e=this.reporters;if(t){var r=e.find(function(e){return e.getReporterId()===t});if(r&&r.plugins.PangleCookieMatching)return!0}else if(e.some(function(t){return!!t.plugins.PangleCookieMatching}))return!0;return!1},o.disablePangleCookie=function(){this.isPixelPangleCookieMatching()&&eZ("https://analytics.pangle-ads.com/api/v2/pangle_disable_cookie")},o.pixelSend=function(t,e,r,n,o){void 0===n&&(n={});try{var i,a=this.context.getPageSign();if((null===(i=a.pageIndex)||void 0===i?void 0:i.index)===0&&!tO(this.env)&&r&&r.message_id&&this.isPixelPangleCookieMatching(t)&&!this.hasReport){var c=r.event,s=r.message_id,u=r.context.library,f={event:c,message_id:s,context:{library:u},timestamp:new Date().toJSON()};this.hasReport=!0,this.reportService.report("https://analytics.pangle-ads.com/api/v2/pangle_pixel",f,a$.httpReport)}}catch(t){A(ax.CUSTOM_ERROR,t,{custom_name:"pangle_report"})}},e}(r9);iy=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),i_(0,ei(tJ.CONTEXT)),i_(1,ei(tJ.TTQ_REPORTERS)),i_(2,ei(tJ.REPORT_SERVICE)),i_(3,ei(tJ.ENV))],iy);var ig="https://analytics.tiktok.com/i18n/pixel/eb.js",im="_tt_event_builder";(aT=ci||(ci={})).EVENT_BUILD_BOOTSTRAP_ACK="event_builder_bootstrap_ack",aT.EVENT_BUILD_WRONG_CODE="event_builder_wrong_code",aT.EVENT_BUILD_BOOTSTRAP="event_builder_bootstrap";function iw(t,e){return(iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var iE=function(t,e){return function(r,n){e(r,n,t)}},ib=function(t){var e,r;function n(e,r){var n;return(n=t.call(this,{name:"EventBuilder",reporters:r,context:e})||this).pluginMounted=!1,n}return e=n,r=t,e.prototype=Object._ttq_create(r.prototype),e.prototype.constructor=e,iw(e,r),n.prototype.pixelDidMount=function(t){var e=this;try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var r={taskName:window.ttq._pf_tn,functionName:"event_builder_plugin_pixelDidMount",start:performance.now()}}catch(t){}if(!this.pluginMounted){this.pluginMounted=!0;var n=g(),o=function(t){t.data.type===ci.EVENT_BUILD_BOOTSTRAP&&!n._event_builder_pickup_sdk_loaded&&(e.reporters.find(function(e){return e.getReporterId()===t.data.pixelCode})?(n._event_builder_pickup_sdk_loaded=!0,eh(im,t.data),eZ(ig).then(function(){window.opener.window.postMessage({type:ci.EVENT_BUILD_BOOTSTRAP_ACK},"*")}).catch(function(t){A(ax.CUSTOM_ERROR,t,{custom_name:"event_builder_load_error",custom_enum:"load_ebjs"})})):!n._event_builder_pickup_sdk_verify_flag&&(setTimeout(function(){!e.reporters.find(function(e){return e.getReporterId()===t.data.pixelCode})&&window.opener.window.postMessage({type:ci.EVENT_BUILD_WRONG_CODE},"*")},5e3),n._event_builder_pickup_sdk_verify_flag=!0))};!n._event_builder_pickup_sdk_loaded&&(el(im)?eZ(ig).then(function(){n._event_builder_pickup_sdk_loaded=!0}):window.opener&&(window.addEventListener("message",o),setTimeout(function(){window.removeEventListener("message",o)},8e3)));try{window.ttq&&window.ttq._ppf&&(r.end=performance.now(),window.ttq._ppf.push(r))}catch(t){}}},n}(r9);ib=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),iE(0,ei(tJ.CONTEXT)),iE(1,ei(tJ.TTQ_REPORTERS))],ib);function iI(t,e){return(iI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var iO=function(t,e){return function(r,n){e(r,n,t)}},iT="tt_pixel_is_enrich_ipv6_triggered_by_enrich_am",iN=function(t){function e(e,r,n,o){var i;return(i=t.call(this,{name:"EnrichIpv6",reporters:r,context:e})||this).hasReported=!1,i.shouldReportAfterEnrichAM=!1,i.reportService=n,i.env=o,i}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,iI(r,n);var r,n,o=e.prototype;return o.isPixelEnrichIpv6=function(){var t=this.reporters;return!!t&&0!==t.length&&t.every(function(t){return t&&t.plugins&&!0===t.plugins.EnrichIpv6})},o.isEnrichIpv6V2SwitchOn=function(){var t="EnrichIpv6V2";try{var e=g()._plugins||{};if(null!=e[t])return!!e[t];return!1}catch(t){return!1}},o.buildEnrichIpv6Data=function(t){var e=this.isEnrichIpv6V2SwitchOn()?"#source=2":"#source=1";return Object.assign(Object.assign({},t),{event:"EnrichIpv6",trigger_event:t.event,message_id:t.message_id+e})},o.pixelSend=function(t,e,r,n,o){void 0===n&&(n={});try{if(o!==aZ.TRACK)return;if(!("Shopify"===O(t)||this.isEnrichIpv6V2SwitchOn()))return;if(tO(this.env)||!(r&&r.message_id))return;var i,a=this.context.getPageSign();if((null===(i=a.pageIndex)||void 0===i?void 0:i.index)===0&&!this.hasReported&&this.isPixelEnrichIpv6()&&(this.hasReported=!0,this.reportService.report(eI,this.buildEnrichIpv6Data(r),a$.htmlHttpReport)),"true"===sessionStorage.getItem(iT))return;"EnrichAM"===e&&(this.shouldReportAfterEnrichAM=!0),this.shouldReportAfterEnrichAM&&this.isPixelEnrichIpv6()&&(this.shouldReportAfterEnrichAM=!1,sessionStorage.setItem(iT,"true"),this.reportService.report(eI,this.buildEnrichIpv6Data(r),a$.htmlHttpReport))}catch(t){A(ax.CUSTOM_ERROR,t,{custom_name:"enrich_ipv6_report"})}},e}(r9);iN=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),iO(0,ei(tJ.CONTEXT)),iO(1,ei(tJ.TTQ_REPORTERS)),iO(2,ei(tJ.REPORT_SERVICE)),iO(3,ei(tJ.ENV))],iN);(aN=ca||(ca={})).FIRST_CONTENTFUL_PAINT="fcp",aN.LARGEST_CONTENTFUL_PAINT="lcp",aN.FIRST_INPUT_DELAY="fid",aN.TIME_TO_FIRST_BYTE="ttfb",aN.PAGE_LEAVE="pl",aN.LOAD_FINISH="lf",aN.TIME_WINDOW_TRACKER="twt",aN.TIME_TO_INTERACTIVE="tti";function iR(t){return performance&&performance.timing?t?Date.now()-t:Date.now()-performance.timing.navigationStart:-1}function iS(t,e){return function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];window.requestIdleCallback?window.requestIdleCallback(t.bind.apply(t,[e].concat(n))):t.apply(e,n)}}function iP(t,e){void 0===e&&(e=4);try{if(Number.isInteger(t))return t;return parseFloat(t.toFixed(e))}catch(t){return -1}}var iA=function(){function t(t,e,r,n){n?(this.reportService=r,this.context=t,this.reporters=e,this.reportUrl=n):A(ax.CUSTOM_ERROR,Error("empty reportUrl"),{custom_name:"empty_reportUrl",custom_enum:"page_perf_monitor"})}var e=t.prototype;return e.getResult=function(t){return{action_event:t}},e.report=function(t){var e=this;if(void 0!==t){var r=this.getReportPixelList(),n=this.assemblyReportData(aZ.PAGE,t,r);n&&this.reportService.reportPreTasks.then(function(){e.reportService.report(e.reportUrl,n,a$.defaultReport,a0.P0)}),this.resetAfterReport()}},e.getReportPixelList=function(){return this.reporters},e.assemblyReportData=function(t,e,r){if(0!==r.length){var n,o=r.map(function(t){return t.getReporterId()}),i=this.context.getPageSign(),a=r[0],c=a.assemblyData(a.getReporterId(),"",{},{},aZ.PAGE);return delete c.event,c.action=t,c.auto_collected_properties=e,!c.context.pixel&&(c.context.pixel={}),c.context.pixel.code=o[0],c.context.pixel.codes=o.join("|"),c.context.index=null===(n=i.pageIndex)||void 0===n?void 0:n.index,c.context.session_id=i.sessionId,c.context.pageview_id=Y(this.context.getPageViewId(),a.reporterInfo.loadId,"::"),c.message_id=c.message_id.replace(/-[^-]*$/,""),c}},t}();function iL(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ix(t,e){return(ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var iC=function(t){function e(e,r,n,o,i){var a;return void 0===i&&(i=[]),(a=t.call(this,e,r,n,o)||this).clickTimes=0,a.clickTimesTotal=0,a.scrollTimes=0,a.scrollTimesTotal=0,a.stayTime=0,a.stayTimeReported=!1,a.rules=[],a.rules=i,a.init(),a}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,ix(r,n);var r,n,o=e.prototype;return o.init=function(){var t,e,r,n,o=this;t=iS(this.updateClickTimes,this),e=W(function(e){t()},100),window.addEventListener("click",e,{capture:!0}),r=iS(this.updateScrollTimes,this),n=W(function(){r()},500),window.addEventListener("scroll",n,{passive:!0}),setInterval(function(){o.reportInteraction()},1e4)},o.reportInteraction=function(){if(!!this.isUpdated())this.report(this.getResult(ca.TIME_WINDOW_TRACKER)),this.resetAfterReport()},o.getResult=function(t){return this.getResultOnWindowTracker(t)},o.getResultOnPageLeave=function(t){var e;if(this.updateStayTime(),!!this.shouldReport()&&!this.stayTimeReported)return this.stayTimeReported=!0,e={metrics_type:"ct|st|pl",ct:this.clickTimes,st:this.scrollTimes,pl:this.stayTime},{action_event:t,inter:{ct:this.clickTimes,st:this.scrollTimes,pl:this.stayTime},page_inter:e}},o.getResultOnWindowTracker=function(t){var e;return e={metrics_type:"ct|st",ct:this.clickTimes,st:this.scrollTimes},{action_event:t,inter:{ct:this.clickTimes,st:this.scrollTimes},page_inter:e}},o.updateClickTimes=function(){this.clickTimes+=1,this.clickTimesTotal+=1},o.updateScrollTimes=function(){this.scrollTimes+=1,this.scrollTimesTotal+=1},o.updateStayTime=function(){this.stayTime=Math.floor(iR())},o.shouldReport=function(){for(var t,e=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return iL(t,e);var r=({}).toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?iL(t,e):void 0}}(t))){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.rules);!(t=e()).done;){var r=t.value;try{if(!r({clickTimes:this.clickTimesTotal,scrollTimes:this.scrollTimesTotal,stayTime:this.stayTime}))return!1}catch(t){return!1}}return!0},o.isUpdated=function(){return 0!=this.clickTimes||0!=this.scrollTimes},o.resetAfterReport=function(){this.clickTimes=0,this.scrollTimes=0},e}(iA),ik=function(t){setTimeout(function(){t(ca.TIME_TO_INTERACTIVE,-1)},0)},iD=function(t){var e=function(){new Promise(function(t,e){setTimeout(function(){var r=performance.getEntriesByType("navigation");if(r.length>0){var n=r[0];t(n.loadEventEnd-n.startTime)}else window.performance.timing?t(window.performance.timing.loadEventEnd-window.performance.timing.navigationStart||-1):e("Performance timing not supported")},0)}).then(function(e){t(ca.LOAD_FINISH,e)}).catch(function(e){t(ca.LOAD_FINISH,-1)})};"complete"===window.document.readyState?e():window.addEventListener("load",e)},ij,iM,iF,iq,iU,iG,iH,iV,iB,iY,iW,iK,iJ,iX,iQ,iZ,iz,i$,i0,i1,i2,i3,i6,i5,i8,i4,i9,i7,at,ae,ar,an,ao,ai,aa,ac,as,au,af,al,ap,ah,ad,av,a_,ay,ag,am,aw,aE,ab,aI,aO,aT,aN,aR,aS,aP,aA,aL,ax,aC,ak,aD,aj,aM,aF,aq,aU,aG,aH,aV,aB,aY,aW,aK,aJ,aX,aQ,aZ,az,a$,a0,a1,a2,a3,a6,a5,a8,a4,a9,a7,ct,ce,cr,cn,co,ci,ca,cc,cs,cu,cf,cl=-1,cp=function(t){addEventListener("pageshow",function(e){e.persisted&&(cl=e.timeStamp,t(e))},!0)},ch=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},cd=function(){var t=ch();return t&&t.activationStart||0},cv=function(t,e){var r=ch(),n="navigate";return cl>=0?n="back-forward-cache":r&&(document.prerendering||cd()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(0x82f79cd8fff*Math.random())+1e12),navigationType:n}},c_=function(t,e,r){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver(function(t){Promise.resolve().then(function(){e(t.getEntries())})});return n.observe(Object.assign({type:t,buffered:!0},r||{})),n}}catch(t){}},cy=function(t,e,r,n){var o,i;return function(a){var c,s;e.value>=0&&(a||n)&&((i=e.value-(o||0))||void 0===o)&&(o=e.value,e.delta=i,e.rating=(c=e.value,c>(s=r)[1]?"poor":c>s[0]?"needs-improvement":"good"),t(e))}},cg=function(t){requestAnimationFrame(function(){return requestAnimationFrame(function(){return t()})})},cm=function(t){var e=function(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||t(e)};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)},cw=function(t){var e=!1;return function(r){e||(t(r),e=!0)}},cE=-1,cb=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},cI=function(t){"hidden"===document.visibilityState&&cE>-1&&(cE="visibilitychange"===t.type?t.timeStamp:0,cT())},cO=function(){addEventListener("visibilitychange",cI,!0),addEventListener("prerenderingchange",cI,!0)},cT=function(){removeEventListener("visibilitychange",cI,!0),removeEventListener("prerenderingchange",cI,!0)},cN=function(){return cE<0&&(cE=cb(),cO(),cp(function(){setTimeout(function(){cE=cb(),cO()},0)})),{get firstHiddenTime(){return cE}}},cR=function(t){document.prerendering?addEventListener("prerenderingchange",function(){return t()},!0):t()},cS=[1800,3e3],cP=function(t,e){e=e||{},cR(function(){var r,n=cN(),o=cv("FCP"),i=c_("paint",function(t){t.forEach(function(t){"first-contentful-paint"===t.name&&(i.disconnect(),t.startTime<n.firstHiddenTime&&(o.value=Math.max(t.startTime-cd(),0),o.entries.push(t),r(!0)))})});i&&(r=cy(t,o,cS,e.reportAllChanges),cp(function(n){r=cy(t,o=cv("FCP"),cS,e.reportAllChanges),cg(function(){o.value=performance.now()-n.timeStamp,r(!0)})}))})},cA=[.1,.25],cL=function(t,e){e=e||{},cP(cw(function(){var r,n=cv("CLS",0),o=0,i=[],a=function(t){t.forEach(function(t){if(!t.hadRecentInput){var e=i[0],r=i[i.length-1];o&&t.startTime-r.startTime<1e3&&t.startTime-e.startTime<5e3?(o+=t.value,i.push(t)):(o=t.value,i=[t])}}),o>n.value&&(n.value=o,n.entries=i,r())},c=c_("layout-shift",a);c&&(r=cy(t,n,cA,e.reportAllChanges),cm(function(){a(c.takeRecords()),r(!0)}),cp(function(){o=0,r=cy(t,n=cv("CLS",0),cA,e.reportAllChanges),cg(function(){return r()})}),setTimeout(r,0))}))},cx={passive:!0,capture:!0},cC=new Date,ck=function(t,e){cc||(cc=e,cs=t,cu=new Date,cM(removeEventListener),cD())},cD=function(){if(cs>=0&&cs<cu-cC){var t={entryType:"first-input",name:cc.type,target:cc.target,cancelable:cc.cancelable,startTime:cc.timeStamp,processingStart:cc.timeStamp+cs};cf.forEach(function(e){e(t)}),cf=[]}},cj=function(t){if(t.cancelable){var e,r,n,o,i,a=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?(e=a,r=t,n=function(){ck(e,r),i()},o=function(){i()},i=function(){removeEventListener("pointerup",n,cx),removeEventListener("pointercancel",o,cx)},addEventListener("pointerup",n,cx),addEventListener("pointercancel",o,cx)):ck(a,t)}},cM=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return t(e,cj,cx)})},cF=[100,300],cq=function(t,e){e=e||{},cR(function(){var r,n=cN(),o=cv("FID"),i=function(t){t.startTime<n.firstHiddenTime&&(o.value=t.processingStart-t.startTime,o.entries.push(t),r(!0))},a=function(t){t.forEach(i)},c=c_("first-input",a);r=cy(t,o,cF,e.reportAllChanges),c&&cm(cw(function(){a(c.takeRecords()),c.disconnect()})),c&&cp(function(){r=cy(t,o=cv("FID"),cF,e.reportAllChanges),cf=[],cs=-1,cc=null,cM(addEventListener),cf.push(i),cD()})})},cU=[2500,4e3],cG={},cH=function(t,e){e=e||{},cR(function(){var r,n=cN(),o=cv("LCP"),i=function(t){var e=t[t.length-1];e&&e.startTime<n.firstHiddenTime&&(o.value=Math.max(e.startTime-cd(),0),o.entries=[e],r())},a=c_("largest-contentful-paint",i);if(a){r=cy(t,o,cU,e.reportAllChanges);var c=cw(function(){cG[o.id]||(i(a.takeRecords()),a.disconnect(),cG[o.id]=!0,r(!0))});["keydown","click"].forEach(function(t){addEventListener(t,function(){return setTimeout(c,0)},!0)}),cm(c),cp(function(n){r=cy(t,o=cv("LCP"),cU,e.reportAllChanges),cg(function(){o.value=performance.now()-n.timeStamp,cG[o.id]=!0,r(!0)})})}})},cV=[800,1800],cB=function t(e){document.prerendering?cR(function(){return t(e)}):"complete"!==document.readyState?addEventListener("load",function(){return t(e)},!0):setTimeout(e,0)},cY=function(t,e){e=e||{};var r=cv("TTFB"),n=cy(t,r,cV,e.reportAllChanges);cB(function(){var o=ch();if(o){var i=o.responseStart;if(i<=0||i>performance.now())return;r.value=Math.max(i-cd(),0),r.entries=[o],n(!0),cp(function(){(n=cy(t,r=cv("TTFB",0),cV,e.reportAllChanges))(!0)})}})};function cW(t,e){return(cW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var cK=function(t,e){return function(r,n){e(r,n,t)}},cJ=function(t){function e(e,r,n,o){var i;return(i=t.call(this,e,r,n,o)||this).cls=-1,i.init(),i}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,cW(r,n);var r,n,o=e.prototype;return o.init=function(){cL(this.clsHandler.bind(this),{reportAllChanges:!0}),cY(this.webVitalHandler.bind(this)),cP(this.webVitalHandler.bind(this)),cH(this.webVitalHandler.bind(this),{reportAllChanges:!0}),cq(this.webVitalHandler.bind(this)),ik(this.baseHandler.bind(this)),iD(this.baseHandler.bind(this))},o.getResult=function(t){var e=Math.floor(iR()),r={ttns:e,cls:iP(this.cls),idx:this.getSessionIndex(),pep:iP(this.getPep())},n=["cls","idx","pep"];n.unshift(t);var o={metrics_type:n.join("|"),cls:r.cls,idx:r.idx,pep:r.pep};return o[t]=e,{action_event:t,perf:r,page_perf:o}},o.resetAfterReport=function(){},o.clsHandler=function(t){this.cls=t.value||-1},o.webVitalHandler=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var e,r={taskName:window.ttq._pf_tn||"page_data_web_vital_handler",functionName:window.ttq._pf_tn&&"page_data_web_vital_handler",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="page_data_web_vital_handler")}}catch(t){}var n=this.getResult(t.name.toLocaleLowerCase());n.perf&&(n.perf.ttns=(null==t?void 0:t.value)?Math.floor(t.value):-1),n.page_perf&&(n.page_perf[t.name.toLocaleLowerCase()]=null===(e=null==n?void 0:n.perf)||void 0===e?void 0:e.ttns),this.report(n),this.resetAfterReport();try{window.ttq&&window.ttq._ppf&&(r.end=performance.now(),window.ttq._ppf.push(r),"page_data_web_vital_handler"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}},o.baseHandler=function(t,e){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var r,n={taskName:window.ttq._pf_tn||"page_data_base_handler",functionName:window.ttq._pf_tn&&"page_data_base_handler",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="page_data_base_handler")}}catch(t){}var o=this.getResult(t);o.perf&&(o.perf.ttns=e?Math.floor(e):-1),o.page_perf&&(o.page_perf[t]=null===(r=o.perf)||void 0===r?void 0:r.ttns),this.report(o),this.resetAfterReport();try{window.ttq&&window.ttq._ppf&&(n.end=performance.now(),window.ttq._ppf.push(n),"page_data_base_handler"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}},o.getSessionIndex=function(){var t,e=null===(t=this.context.getPageSign().pageIndex)||void 0===t?void 0:t.main;return null==e?-1:e},o.getCurrScrollPosition=function(){return document.documentElement.scrollTop||document.body.scrollTop},o.getViewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},o.getMaxHeight=function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)},o.getPep=function(){var t=this.getCurrScrollPosition(),e=this.getViewportHeight(),r=this.getMaxHeight();return(t+e)/r},e}(iA);cJ=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([cK(0,ei(tJ.CONTEXT)),cK(1,ei(tJ.TTQ_REPORTERS)),cK(2,ei(tJ.REPORT_SERVICE))],cJ);var cX=[function(t){var e=t.clickTimes,r=t.scrollTimes;return e>=1||r>=1},function(t){return t.stayTime>1e3}];function cQ(t,e){return(cQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var cZ=function(t,e){return function(r,n){e(r,n,t)}},cz=function(t){function e(e,r,n,o){var i;return(i=t.call(this,{name:"PageData",reporters:r,context:e})||this).monitors=[],i.ttqOptions={},i.reportService=n,i.context=e,i.reporters=r,i.ttqOptions=o,i.isPluginInit=!1,i}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,cQ(r,n);var r,n,o=e.prototype;return o.init=function(){var t=this.isPageInterEnabled(),e=this.isPagePerfEnabled();(t||e)&&(t&&this.initInteraction(),e&&this.initPerformance())},o.initInteraction=function(){this.interactionMonitor=new iC(this.context,this.reporters,this.reportService,e6(aZ.PAGE_INTERACTION),cX),this.monitors.push(this.interactionMonitor)},o.initPerformance=function(){this.performanceMonitor=new cJ(this.context,this.reporters,this.reportService,e6(aZ.PAGE_PERFORMANCE)),this.monitors.push(this.performanceMonitor)},o.isPagePerfEnabled=function(){var t,e;return null===(e=null===(t=this.ttqOptions)||void 0===t?void 0:t.plugins)||void 0===e?void 0:e.PageData},o.isPageInterEnabled=function(){var t,e;return null===(e=null===(t=this.ttqOptions)||void 0===t?void 0:t.plugins)||void 0===e?void 0:e.PageData},o.report=function(t){var e=this.interactionMonitor.getResultOnPageLeave(t);if(void 0!==e)this.interactionMonitor.report(e),this.interactionMonitor.resetAfterReport()},o.pageWillLeave=function(t){this.report(ca.PAGE_LEAVE)},o.pixelDidMount=function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e={taskName:window.ttq._pf_tn,functionName:"page_plugin_pixelDidMount",start:performance.now()}}catch(t){}!this.isPluginInit&&(this.init(),this.isPluginInit=!0);try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e))}catch(t){}},e}(r9);cz=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),cZ(0,ei(tJ.CONTEXT)),cZ(1,ei(tJ.TTQ_REPORTERS)),cZ(2,ei(tJ.REPORT_SERVICE)),cZ(3,ei(tJ.TTQ_GLOBAL_OPTIONS))],cz);var c$={initAllModule:1,webTtqFactory:2,handleCache:3,webReporterFactory:4,initAutoForm:5,auto_config_plugin_pixelDidMount:6,callback_plugin_pixelDidMount:7,console_plugin_pixelDidMount:8,event_builder_plugin_pixelDidMount:9,shopify_plugin_pixelDidMount:10,page_plugin_pixelDidMount:11,competitor_insight_plugin_init:12,getPixelInstalledPosition:13,getPixelScriptByPixelCode:14,resetExpires:15,freezeAPI:16,handlePixelRules:17,mergeWebGlobalTtq:18,handleGlobalCache:22,getPixelDetail:19,basettq_init_context_info:20,initAutoForm_getOverallFormDetail:21,web_track_handler:23,identify_api_handler:24,updateParameterInferenceData:25},c0={identify_api_handler:{id:1,fn:[]},identify_encryption:{id:2,fn:[]},identify_after_encryption:{id:3,fn:[]},track_api_handler:{id:4,fn:[]},track_after_reporter_init:{id:5,fn:[]},track_after_report_preposition:{id:6,fn:[]},init:{id:7,fn:[c$.initAllModule,c$.webTtqFactory,c$.handleCache,c$.webReporterFactory,c$.initAutoForm,c$.freezeAPI,c$.handlePixelRules,c$.resetExpires,c$.mergeWebGlobalTtq,c$.auto_config_plugin_pixelDidMount,c$.callback_plugin_pixelDidMount,c$.console_plugin_pixelDidMount,c$.event_builder_plugin_pixelDidMount,c$.shopify_plugin_pixelDidMount,c$.page_plugin_pixelDidMount,c$.competitor_insight_plugin_init,c$.getPixelInstalledPosition,c$.getPixelScriptByPixelCode,c$.handleGlobalCache,c$.basettq_init_context_info,c$.initAutoForm_getOverallFormDetail,c$.web_track_handler,c$.identify_api_handler,c$.updateParameterInferenceData]},page_api_handler:{id:8,fn:[]},auto_advanced_matching_handler:{id:9,fn:[]},auto_config_metadata_handler:{id:10,fn:[]},auto_config_click_handler:{id:11,fn:[]},auto_config_form_handler:{id:12,fn:[]},event_builder_dispatcher:{id:13,fn:[]},page_data_web_vital_handler:{id:14,fn:[]},page_data_base_handler:{id:15,fn:[]}},c1=function(){function t(){this.queue=[],this.currentTaskMap={}}var e=t.prototype;return e.handleCache=function(t){var e=this;t.forEach(function(t){e.push(t)})},e.push=function(t){var e=t.taskName,r=t.functionName,n=t.start,o=Math.round((t.end-n)*1e3),i=e&&this.getTaskIdFromName(e);if(!!i){var a=this.currentTaskMap[i];if(!a&&(this.currentTaskMap[i]=a={id:i,d:-1}),r){var c=this.getFunctionIdFromName(r);c&&(a.f=[].concat(a.f||[],[{id:c,d:o}]))}else a.d=o,this.queue.push(a),delete this.currentTaskMap[i]}},e.print=function(){return this.queue},e.printAndClear=function(){var t=this.print();return this.clear(),t},e.clear=function(){this.queue=[]},e.getTaskIdFromName=function(t){var e;return null===(e=c0[t])||void 0===e?void 0:e.id},e.getFunctionIdFromName=function(t){return c$[t]},t}();function c2(t,e){return(c2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var c3=function(t,e){return function(r,n){e(r,n,t)}},c6=function(t){var e,r;function n(e,r){var n;return(n=t.call(this,{name:"RuntimeMeasurement",reporters:r,context:e})||this).initialize=!1,n.init(),n}return e=n,r=t,e.prototype=Object._ttq_create(r.prototype),e.prototype.constructor=e,c2(e,r),n.prototype.init=function(){if(!this.initialize){this.performanceDataQueue=new c1;var t=g();t&&t._ppf&&(this.performanceDataQueue.handleCache(t._ppf),t._ppf=this.performanceDataQueue),this.initialize=!0}},n}(r9);c6=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),c3(0,ei(tJ.CONTEXT)),c3(1,ei(tJ.TTQ_REPORTERS))],c6),(t=ij||(ij={}))[t.OTHER=0]="OTHER",t[t.ANDROID=1]="ANDROID",t[t.IOS=2]="IOS";var c5=[ax.LOAD_START,ax.LOAD_END,ax.INIT_START,ax.INIT_END,ax.JSB_INIT_START,ax.JSB_INIT_END,ax.AD_INFO_INIT_START,ax.AD_INFO_INIT_END,ax.IDENTIFY_INIT_START,ax.IDENTIFY_INIT_END,ax.PLUGIN_INIT_START,ax.PLUGIN_INIT_END],c8=[ax.BEFORE_INIT,ax.INIT_START,ax.INIT_END,ax.HTTP_SEND,ax.AD_INFO_INIT_END];function c4(t){try{if(!performance||!performance.timing)return -1;if(t)return Date.now()-t;return Date.now()-performance.timing.navigationStart}catch(t){}return -1}var c9=function(t,e){void 0===e&&(e="");try{var r=[],n=performance.getEntriesByType("resource");if(n&&Array.isArray(n)){var o=[RegExp("/i18n/pixel/events\\.js\\?sdkid="+t),RegExp("/i18n/pixel/sdk\\.js\\?sdkid="+t)];n.forEach(function(t){var e=t.name,n=t.duration;o.some(function(t){return t.test(e)})&&r.push({name:e,duration:n})});var i=document&&document.currentScript,a=i&&i.src;if(a||!a&&e){var c=n.find(function(t){return t.name.indexOf(a||e)>-1});c&&r.push({name:c.name,duration:c.duration})}}return r}catch(t){return[]}};function c7(){c7=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(e,r,n,i){var a=Object._ttq_create((r&&r.prototype instanceof _?r:_).prototype);return o(a,"_invoke",{value:function(e,r,n){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var a=l(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var c=a.arg;return c?c.done?(n[r.resultName]=c.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):c:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,v)}(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=l(e,r,n);if("normal"===u.type){if(o=n.done?d:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}(e,n,new R(i||[]))}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",h="executing",d="completed",v={};function _(){}function y(){}function g(){}var m={};u(m,a,function(){return this});var w=Object.getPrototypeOf,E=w&&w(w(S([])));E&&E!==r&&n.call(E,a)&&(m=E);var b=g.prototype=_.prototype=Object._ttq_create(m);function I(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,c){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,a,c)},function(t){r("throw",t,a,c)}):e.resolve(f).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,c)})}c(s.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(typeof e+" is not iterable")}return y.prototype=g,o(b,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object._ttq_create(b),t},e.awrap=function(t){return{__await:t}},I(O.prototype),u(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},I(b),u(b,s,"Generator"),u(b,a,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=S,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:S(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function st(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}(e=iM||(iM={}))[e.NOT_DETERMINED=0]="NOT_DETERMINED",e[e.RESTRICTED=1]="RESTRICTED",e[e.DENIED=2]="DENIED",e[e.AUTHORIZED=3]="AUTHORIZED";function se(t,e){return(se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var sr=function(t){function e(e){var r,n=e.pixelDetails,o=e.context,i=e.reporters,a=e.reportService,c=e.httpService,s=e.env,u=e.ttqOptions;return(r=t.call(this,{name:"Monitor",reporters:i,context:o})||this).hasReportMap={},r.cachedData=[],r.contextInitEndStatus=!1,r.legacy=[],r.env=s,r.lib=n.lib,r.pixelCode=n.pixelCode,r.reportService=a,r.httpService=c,r.contextInitEndStatus=!1,r.platform=tS()?ij.ANDROID:tP()?ij.IOS:ij.OTHER,r.partner=u.partner||"",u.legacy&&(r.legacy=u.legacy),r.ttqOptions=u,r}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,se(r,n);var r,n,o,i,a=e.prototype;return a.reportSwitch=function(){return!this.reporters.some(function(t){var e;return(null===(e=t.options)||void 0===e?void 0:e.monitor)===!1})},a.recordReportLog=function(t){var e=t.pixel_code;!this.hasReportMap[e]&&(this.hasReportMap[e]=[]),this.hasReportMap[e].push(t)},a.send=(i=(o=c7().mark(function t(e,r){return c7().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.httpService.send(e,r);case 2:!t.sent&&this.httpService.sendByImage&&this.httpService.sendByImage(e,{log_message:rN(r)});case 4:case"end":return t.stop()}},t,this)}),function(){var t=this,e=arguments;return new Promise(function(r,n){var i=o.apply(t,e);function a(t){st(i,r,n,a,c,"next",t)}function c(t){st(i,r,n,a,c,"throw",t)}a(void 0)})}),function(t,e){return i.apply(this,arguments)}),a.sendByReportService=function(t){var e,r=(e=t.metric_name,c8.indexOf(e)>-1);this.reportService.report(eb,t,r?a$.defaultReport:a$.htmlHttpReport,r?a0.P0:a0.P1)},a.report=function(t,e){if(void 0===e&&(e=!1),this.recordReportLog(t),e){this.send(eb,t);return}if(!this.contextInitEndStatus){this.cachedData.push(t);return}this.sendByReportService(t)},a.contextInitEnd=function(){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var t={taskName:window.ttq._pf_tn,functionName:"monitor_plogin_context_init_end",start:performance.now()}}catch(t){}for(this.contextInitEndStatus=!0;this.cachedData.length;){var e=this.cachedData.shift();e&&null!=e.metric_name&&this.sendByReportService(e)}try{window.ttq&&window.ttq._ppf&&(t.end=performance.now(),window.ttq._ppf.push(t))}catch(t){}},a.info=function(t,e,r){if(void 0===e&&(e={}),void 0===r&&(r=!1),!!this.reportSwitch())try{var n=this.assemblyBaseData(t,e);if(this.isRepeatLog(n))return;this.report(n,r)}catch(t){}},a.error=function(t,e,r,n){if(void 0===r&&(r={}),void 0===n&&(n=!1),!!this.reportSwitch())try{var o=this.assemblyBaseData(t,r);if(Object.assign(o.ext_json||{},{message:e.message,stack:e.stack}),this.isRepeatLog(o))return;this.report(o,n)}catch(t){}},a.isRepeatLog=function(t){var e=t.pixel_code,r=t.metric_name;if(!e||!r)return!1;var n=c5.some(function(t){return r.indexOf(t)>-1}),o=this.hasReportMap[e],i=o&&o.some(function(t){return t.metric_name===r});return n&&i},a.getReportInfo=function(t){var e=this.reporters.find(function(e){return e.getReporterId()===t});if(e)return e.reporterInfo;var r=g()._i[t];if(r)return r.info},a.assemblyBaseData=function(t,e){var r=e||{},n=r.pixelCode,o=r.extJSON,i=r.custom_name,a=r.custom_enum,c=r.app_name,s=r.latency,u=g(),f=this.env,l=this.platform,p=this.context,h=this.reporters,d=p.getAllData(),v=d.libraryInfo,_=d.pageInfo,y=d.adInfo,m=d.pageSign,w=d.enableAdTracking,b=p.getVariationId(),I=p.getVids(),T=this.legacy||[],N=y&&y.log_extra&&function(t){try{return JSON.parse(t)}catch(t){return{}}}(y.log_extra)||{},R=h.map(function(t){return t.getReporterId()}),S=n||x().pixelCode||this.pixelCode||this.reporters[0]&&this.reporters[0].getReporterId()||Object.keys(u._i)[0]||"",P=this.getReportInfo(S),A=T.length?T.includes(S)?"legacy-ttq":"ttq":this.lib,L=O(S)||this.partner||"non",k=w?iM.AUTHORIZED:iM.DENIED,D={metric_name:t,pixel_code:S,platform:l,app_name:(void 0===c?"":c)||(void 0===f?"":f),net_type:function(){try{var t=navigator&&(navigator.connection||navigator.mozConnection||navigator.webkitConnection);return t?t.effectiveType:""}catch(t){}return""}(),placement:N.placement||"non",lib:{lib_version:v&&v.version||"",ttq_name:A},in_iframe:Number(tM()),time_to_last_start:-1,time_to_navigation_start:-1,latency:void 0===s?0:s,page_url:_&&_.url||eu().url,att_status:k,pageview_id:this.context.getPageViewId()||"",session_id:m&&m.sessionId||"",variation_id:b,vids:I,load_id:P&&P.loadId||"",ad_id:String(y.ad_id),creative_id:String(y.creative_id||N.creative_id),user_agent:E(),pixel_monitor_version:"v2",custom_name:i,custom_enum:a,partner:L,ext_json:{performance:[],pixel_list:R.toString(),ad_info_from:y.ad_info_from,pixel_api_conflict_flag:C()}};return o&&Object.assign(D.ext_json,o),D},a.initStart=function(t){this.info(ax.INIT_START,t)},a.initEnd=function(t){this.info(ax.INIT_END,t)},a.jsbInitStart=function(){this.info(ax.JSB_INIT_START)},a.jsbInitEnd=function(){this.info(ax.JSB_INIT_END)},a.beforeAdInfoInitStart=function(t){this.info(ax.BEFORE_AD_INFO_INIT_START,t)},a.adInfoInitStart=function(t){this.info(ax.AD_INFO_INIT_START,t)},a.adInfoInitEnd=function(t){this.info(ax.AD_INFO_INIT_END,t)},a.pluginInitStart=function(t){this.info(t+ax.PLUGIN_INIT_START)},a.pluginInitEnd=function(t){this.info(t+ax.PLUGIN_INIT_END)},e}(r9);function sn(t,e){return(sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var so=function(t,e){return function(r,n){e(r,n,t)}},si=function(t){function e(e,r,n,o,i,a){var c,s=x();return(c=t.call(this,{pixelDetails:s,context:e,reporters:r,reportService:n,httpService:o,env:i,ttqOptions:a})||this).statusTimeline={},c}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,sn(r,n);var r,n,o=e.prototype;return o.getDurationTime=function(t){try{var e,r=(e=t.match(/_(start|end)$/))&&e[1];if(!r)return 0;var n=t.split("_").slice(0,-1).join("_"),o=this.statusTimeline[n];switch(!o&&(this.statusTimeline[n]={},o=this.statusTimeline[n]),r){case"start":o.start=o.start||Date.now();break;case"end":if(!o.start)return -1;return o.end=o.end||Date.now(),o.end-o.start}}catch(t){}return 0},o.assemblyBaseData=function(e,r){var n=t.prototype.assemblyBaseData.call(this,e,r),o=n.pixel_code,i=n.latency,a=this.getReportInfo(o),c=a&&a.loadStart,s=c?c4(c):-1,u=c4();return Object.assign(n,{time_to_last_start:s,time_to_navigation_start:u,latency:i=i||this.getDurationTime(e)}),[ax.BEFORE_INIT,ax.IDENTIFY_INIT_END].includes(e)&&(n.ext_json=n.ext_json||{},n.ext_json.performance=c9(o,e===ax.IDENTIFY_INIT_END?"identify":"")),n},e}(sr);si=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),so(0,ei(tJ.CONTEXT)),so(1,ei(tJ.TTQ_REPORTERS)),so(2,ei(tJ.REPORT_SERVICE)),so(3,ei(tJ.HTTP_SERVICE)),so(4,ei(tJ.ENV)),so(5,ei(tJ.TTQ_GLOBAL_OPTIONS))],si);var sa=[{identifier:tJ.MONITOR_PLUGIN,to:si,name:"Monitor"},{identifier:tJ.CALLBACK_PLUGIN,to:ne,name:"Callback"},{identifier:tJ.IDENTIFY_PLUGIN,to:nw,name:"Identify",required:!0},{identifier:tJ.WEB_FL_PLUGIN,to:nI,name:"WebFL"},{identifier:tJ.AUTO_CONFIG_PLUGIN,to:oX,name:"AutoConfig"},{identifier:tJ.DIAGNOSTICS_CONSOLE_PLUGIN,to:id,name:"DiagnosticsConsole"},{identifier:tJ.PANGLE_COOKIE_MATCHING_PLUGIN,to:iy,name:"PangleCookieMatching"},{identifier:tJ.EVENT_BUILDER_PLUGIN,to:ib,name:"EventBuilder"},{identifier:tJ.ENRICH_IPV6_PLUGIN,to:iN,name:"EnrichIpv6"},{identifier:tJ.PAGEDATA_PLUGIN,to:cz,name:"PageData"},{identifier:tJ.RUNTIME_MEASUREMENT_PLUGIN,to:c6,name:"RuntimeMeasurement"}],sc=function(t,e){};function ss(t,e){return(ss=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var su=function(t){function e(e){var r;return(r=t.call(this,e)||this).observers=new Set([]),r}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,ss(r,n);var r,n,o=e.prototype;return o.addObserver=function(t){!this.observers.has(t)&&this.observers.add(t)},o.removeObserver=function(t){this.observers.delete(t)},o.notifyObservers=function(t,e){this.observers.forEach(function(r){return r.call(e,t)})},e}(r8),sf="HistoryObserver";(iU||(iU={})).DYNAMIC_WEB_PAGEVIEW="dynamic_web_pageview";var sl=["GoogleTagManagerClient","GoogleTagManagerServer"];function sp(t,e){var r=history[t];return function(){var t=Array.prototype.slice.call(arguments);r.apply(history,t),e()}}function sh(t){var e=t.options,r=t.plugins;return e&&!1!==e.historyObserver&&r&&r[sf]}function sd(t,e){var r,n=eu().url,o=t.context.getPageInfo().url;if(n!==o){var i=t.context.setPageInfo(n,o);i&&i.pageIndex&&eM(i.pageIndex),t.reporters.filter((r=iU.DYNAMIC_WEB_PAGEVIEW,function(t){var e=t.plugins;return!!(sh(t)&&e[sf]&&e[sf][r])})).forEach(function(t){setTimeout(function(){t.page(e)})})}}function sv(t,e){return(sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var s_=function(t,e){return function(r,n){e(r,n,t)}},sy=function(t){function e(e,r){var n;return(n=t.call(this,{name:sf,reporters:r,context:e})||this).enableListenSPAHistoryChange=!1,n.listenSPAHistoryChange=tr(function(){var t,e=function(){n.enableListenSPAHistoryChange&&n.notifyObservers({tf:aJ.HISTORY_CHANGE})};var r=(t=e,function(){setTimeout(t)});window.addEventListener("popstate",r),history.pushState=sp("pushState",e),history.replaceState=sp("replaceState",e)}),n.dynamicWebPageviewHandler=sd.bind(null,n),n}r=e,n=t,r.prototype=Object._ttq_create(n.prototype),r.prototype.constructor=r,sv(r,n);var r,n,o=e.prototype;return o.initListener=function(t){this.enableListenSPAHistoryChange=function(t){if(!t)return!1;var e=O(),r=t.getReporterPartner();return!(e&&!sl.includes(e)||r&&t.isPartnerReporter()&&!sl.includes(r))&&!0}(t),this.enableListenSPAHistoryChange&&this.listenSPAHistoryChange()},o.pixelSend=function(t,e){var r=this.reporters.find(function(e){return e.getReporterId()===t});if(!!r&&!!sh(r))e&&"pageview"===e.toLowerCase()&&this.addObserver(this.dynamicWebPageviewHandler),this.initListener(r)},o.pageUrlWillChange=function(){if(this.enableListenSPAHistoryChange){this.notifyObservers({tf:aJ.HISTORY_CHANGE});return}this.notifyObservers({tf:aJ.URL_CHANGE,event_experiment:"pageview"})},e}(su);sy=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([eo(),s_(0,ei(tJ.CONTEXT)),s_(1,ei(tJ.TTQ_REPORTERS))],sy);var sg=[{identifier:tJ.HISTORY_OBSERVER,to:sy,name:"HistoryObserver"}],sm=g(),sw=(null==sm?void 0:sm._container)||new en,sE=(null==sm?void 0:sm._container)?aQ.REBIND:aQ.BIND;tb();var sb=sw[sE](tJ.ENV),sI=sw[sE](tE.SignalType);sw[sE](tE.ID),sw[sE](tE.Type),sw[sE](tE.Options),sw[sE](tE.Plugins),sw[sE](tE.Rules),sw[sE](tE.Info);var sO=sw[sE](tE.WebLibraryInfo),sT=sw[sE](tJ.TTQ_GLOBAL_OPTIONS);try{if(!sw.get(tJ.TTQ_GLOBAL_OPTIONS))throw Error("")}catch(t){sT.toConstantValue({})}var sN=function(t,e){var r,n=tI();sO.toConstantValue({name:"pixel.js",version:"2.2.1",options:void 0}),sb.toConstantValue(e),sI.toConstantValue(n)},sR=function(t){!(null==t?void 0:t._container)&&(sw.bind(tJ.TTQ).to(rv).inSingletonScope(),sw.bind(tJ.CONTEXT).to(rm).inSingletonScope(),sw.bind(tJ.REPORTER).to(ra),sw.bind(tJ.TTQ_REPORTERS).toConstantValue([]),sw.bind(tJ.REPORT_SERVICE).to(rF).inSingletonScope(),sw.bind(tJ.AD_SERVICE).to(rG).inSingletonScope(),sw.bind(tJ.APP_SERVICE).to(rB).inSingletonScope(),sw.bind(tJ.BRIDGE_SERVICE).to(rQ).inSingletonScope(),sw.bind(tJ.HTTP_SERVICE).to(r$).inSingletonScope(),sw.bind(tE.IsOnsitePage).toConstantValue({value:!1}),sw.bind(tJ.COOKIE_SERVICE).to(r2).inSingletonScope(),sw.bind(tJ.CONSENT_SERVICE).to(r5).inSingletonScope()),t&&!t._container&&(t._container=sw)},sS=function(){sa.forEach(function(t){var e=t.to,r=t.name,n=t.required,o=t.identifier;(void 0!==n&&n||N(void 0===r?"":r))&&!sw.isBound(o)&&sw.bind(o).to(e).inSingletonScope()})},sP=function(){sg.forEach(function(t){var e=t.to,r=t.name,n=t.identifier;N(void 0===r?"":r)&&!sw.isBound(n)&&sw.bind(n).to(e).inSingletonScope()})},sA=function(t,e,r){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var n={taskName:window.ttq._pf_tn,functionName:"initAllModule",start:performance.now()}}catch(t){}sN(t,r),t5(e,t),sP(),sR(t),sS(),sc(e,t);try{window.ttq&&window.ttq._ppf&&(n.end=performance.now(),window.ttq._ppf.push(n))}catch(t){}},sL=function(){try{var t=sw.get(tJ.MONITOR_PLUGIN);if(t)return t;return null}catch(t){return null}},sx=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})},sC=function(t){return new this(function(e,r){if(!(t&&void 0!==t.length))return r(TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);for(var o=n.length,i=0;i<n.length;i++)!function t(r,i){if(i&&("object"==typeof i||"function"==typeof i)){var a=i.then;if("function"==typeof a){a.call(i,function(e){t(r,e)},function(t){n[r]={status:"rejected",reason:t},0==--o&&e(n)});return}}n[r]={status:"fulfilled",value:i},0==--o&&e(n)}(i,n[i])})};function sk(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}sk.prototype=Error.prototype;var sD=function(t){var e=this;return new e(function(r,n){if(!(t&&void 0!==t.length))return n(TypeError("Promise.any accepts an array"));var o=Array.prototype.slice.call(t);if(0===o.length)return n();for(var i=[],a=0;a<o.length;a++)try{e.resolve(o[a]).then(r).catch(function(t){i.push(t),i.length===o.length&&n(new sk(i,"All promises were rejected"))})}catch(t){n(t)}})},sj=setTimeout;function sM(t){return!!(t&&void 0!==t.length)}function sF(){}function sq(t){if(!(this instanceof sq))throw TypeError("Promises must be constructed via new");if("function"!=typeof t)throw TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],sY(t,this)}function sU(t,e){for(;3===t._state;)t=t._value;if(0===t._state){t._deferreds.push(e);return}t._handled=!0,sq._immediateFn(function(){var r,n=1===t._state?e.onFulfilled:e.onRejected;if(null===n){(1===t._state?sG:sH)(e.promise,t._value);return}try{r=n(t._value)}catch(t){sH(e.promise,t);return}sG(e.promise,r)})}function sG(t,e){try{if(e===t)throw TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var r,n,o=e.then;if(e instanceof sq){t._state=3,t._value=e,sV(t);return}if("function"==typeof o){;sY((r=o,n=e,function(){r.apply(n,arguments)}),t);return}}t._state=1,t._value=e,sV(t)}catch(e){sH(t,e)}}function sH(t,e){t._state=2,t._value=e,sV(t)}function sV(t){2===t._state&&0===t._deferreds.length&&sq._immediateFn(function(){!t._handled&&sq._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)sU(t,t._deferreds[e]);t._deferreds=null}function sB(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}function sY(t,e){var r=!1;try{t(function(t){!r&&(r=!0,sG(e,t))},function(t){!r&&(r=!0,sH(e,t))})}catch(t){if(r)return;r=!0,sH(e,t)}}sq.prototype.catch=function(t){return this.then(null,t)},sq.prototype.then=function(t,e){var r=new this.constructor(sF);return sU(this,new sB(t,e,r)),r},sq.prototype.finally=sx,sq.all=function(t){return new sq(function(e,r){if(!sM(t))return r(TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);for(var o=n.length,i=0;i<n.length;i++)!function t(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var c=a.then;if("function"==typeof c){c.call(a,function(e){t(i,e)},r);return}}n[i]=a,0==--o&&e(n)}catch(t){r(t)}}(i,n[i])})},sq.any=sD,sq.allSettled=sC,sq.resolve=function(t){return t&&"object"==typeof t&&t.constructor===sq?t:new sq(function(e){e(t)})},sq.reject=function(t){return new sq(function(e,r){r(t)})},sq.race=function(t){return new sq(function(e,r){if(!sM(t))return r(TypeError("Promise.race accepts an array"));for(var n=0,o=t.length;n<o;n++)sq.resolve(t[n]).then(e,r)})},sq._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){sj(t,0)},sq._unhandledRejectionFn=function(t){"undefined"!=typeof console};var sW=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("unable to locate global object")}();"function"!=typeof sW.Promise?sW.Promise=sq:(!sW.Promise.prototype.finally&&(sW.Promise.prototype.finally=sx),!sW.Promise.allSettled&&(sW.Promise.allSettled=sC),!sW.Promise.any&&(sW.Promise.any=sD));var sK=y();try{!function(){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf){var t={taskName:window.ttq._pf_tn||"init",functionName:window.ttq._pf_tn&&"init",start:performance.now()};window.ttq._pf_tn||(window.ttq._pf_tn="init")}}catch(t){}var e=x().pixelCode,r=g(),n=tb(),o=tI();if(sA(r,sw,n),N("Monitor")){var i=sL();null==i||i.info(ax.BEFORE_INIT,{pixelCode:e,extJSON:{stack:ty(e)}})}if(!!r){r._mounted?(P(ax.HANDLE_CACHE,{pixelCode:e}),t4(sw,r)):(iG=t1(sw,n,o),window[sK]=t3(r,iG),r.resetCookieExpires&&r.resetCookieExpires(),t4(sw,iG),t8(iG));var a=sw.get(tE.IsOnsitePage);a.value=o===aB.ONSITE||r.reporters.every(function(t){return t.isOnsite()}),sw.rebind(tE.IsOnsitePage).toConstantValue(a),!function(t){try{if(window.ttq&&!window.ttq._ppf&&(window.ttq._ppf=[]),window.ttq&&window.ttq._ppf)var e={taskName:window.ttq._pf_tn,functionName:"handlePixelRules",start:performance.now()}}catch(t){}t.reporters.forEach(function(t){var e;(null===(e=t.rules)||void 0===e?void 0:e.length)>0&&iH&&new iH(t.getReporterId(),t.rules)});try{window.ttq&&window.ttq._ppf&&(e.end=performance.now(),window.ttq._ppf.push(e))}catch(t){}}(r);try{window.ttq&&window.ttq._ppf&&(t.end=performance.now(),window.ttq._ppf.push(t),"init"===window.ttq._pf_tn&&(window.ttq._pf_tn=""))}catch(t){}}}()}catch(t){A(ax.INIT_ERROR,t)}}()}();